<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Edit FIT files to appear as Garmin devices and upload to Garmin Connect"><meta name=author content="Josh Taillon"><link href=https://jat255.github.io/Fit-File-Faker/developer-guide/ rel=canonical><link href=../profiles/ rel=prev><link href=../api/ rel=next><link rel=icon href=../assets/logo.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Developer Guide - FIT File Faker</title><link rel=stylesheet href=../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/_mkdocstrings.css><link rel=stylesheet href=../assets/custom.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#developer-guide class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="FIT File Faker" class="md-header__button md-logo" aria-label="FIT File Faker" data-md-component=logo> <img src=../assets/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> FIT File Faker </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Developer Guide </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/jat255/Fit-File-Faker title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> jat255/Fit-File-Faker </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="FIT File Faker" class="md-nav__button md-logo" aria-label="FIT File Faker" data-md-component=logo> <img src=../assets/logo.svg alt=logo> </a> FIT File Faker </label> <div class=md-nav__source> <a href=https://github.com/jat255/Fit-File-Faker title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> jat255/Fit-File-Faker </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../profiles/ class=md-nav__link> <span class=md-ellipsis> Multi-Profile Guide </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Developer Guide </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Developer Guide </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#getting-started-with-development class=md-nav__link> <span class=md-ellipsis> Getting Started with Development </span> </a> <nav class=md-nav aria-label="Getting Started with Development"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#development-setup class=md-nav__link> <span class=md-ellipsis> Development Setup </span> </a> </li> <li class=md-nav__item> <a href=#pre-commit-hooks class=md-nav__link> <span class=md-ellipsis> Pre-commit Hooks </span> </a> </li> <li class=md-nav__item> <a href=#common-development-commands class=md-nav__link> <span class=md-ellipsis> Common Development Commands </span> </a> </li> <li class=md-nav__item> <a href=#linting class=md-nav__link> <span class=md-ellipsis> Linting </span> </a> </li> <li class=md-nav__item> <a href=#build-and-distribution class=md-nav__link> <span class=md-ellipsis> Build and Distribution </span> </a> </li> <li class=md-nav__item> <a href=#release-strategy class=md-nav__link> <span class=md-ellipsis> Release strategy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#architecture-overview class=md-nav__link> <span class=md-ellipsis> Architecture Overview </span> </a> <nav class=md-nav aria-label="Architecture Overview"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#package-structure class=md-nav__link> <span class=md-ellipsis> Package Structure </span> </a> </li> <li class=md-nav__item> <a href=#core-workflow class=md-nav__link> <span class=md-ellipsis> Core Workflow </span> </a> </li> <li class=md-nav__item> <a href=#module-breakdown class=md-nav__link> <span class=md-ellipsis> Module Breakdown </span> </a> <nav class=md-nav aria-label="Module Breakdown"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configpy-configuration-management-multi-profile-architecture class=md-nav__link> <span class=md-ellipsis> config.py - Configuration Management (Multi-Profile Architecture) </span> </a> </li> <li class=md-nav__item> <a href=#fit_editorpy-fit-file-editing class=md-nav__link> <span class=md-ellipsis> fit_editor.py - FIT File Editing </span> </a> </li> <li class=md-nav__item> <a href=#app_registrypy-trainer-app-detection-system class=md-nav__link> <span class=md-ellipsis> app_registry.py - Trainer App Detection System </span> </a> </li> <li class=md-nav__item> <a href=#apppy-main-application class=md-nav__link> <span class=md-ellipsis> app.py - Main Application </span> </a> </li> <li class=md-nav__item> <a href=#utilspy-utility-functions class=md-nav__link> <span class=md-ellipsis> utils.py - Utility Functions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#supported-source-platforms class=md-nav__link> <span class=md-ellipsis> Supported Source Platforms </span> </a> </li> <li class=md-nav__item> <a href=#logging-and-output class=md-nav__link> <span class=md-ellipsis> Logging and Output </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#extensibility class=md-nav__link> <span class=md-ellipsis> ðŸ“š Extensibility </span> </a> <nav class=md-nav aria-label="ðŸ“š Extensibility"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#adding-new-trainer-apps class=md-nav__link> <span class=md-ellipsis> Adding New Trainer Apps </span> </a> </li> <li class=md-nav__item> <a href=#example-adding-rouvy-support class=md-nav__link> <span class=md-ellipsis> Example: Adding Rouvy Support </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#important-implementation-notes class=md-nav__link> <span class=md-ellipsis> Important Implementation Notes </span> </a> <nav class=md-nav aria-label="Important Implementation Notes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit-file-structure class=md-nav__link> <span class=md-ellipsis> FIT File Structure </span> </a> </li> <li class=md-nav__item> <a href=#device-simulation class=md-nav__link> <span class=md-ellipsis> Device Simulation </span> </a> </li> <li class=md-nav__item> <a href=#file-naming-convention class=md-nav__link> <span class=md-ellipsis> File Naming Convention </span> </a> </li> <li class=md-nav__item> <a href=#platform-detection class=md-nav__link> <span class=md-ellipsis> Platform Detection </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#testing class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> <nav class=md-nav aria-label=Testing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#quick-start class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=#test-suite-overview class=md-nav__link> <span class=md-ellipsis> Test Suite Overview </span> </a> <nav class=md-nav aria-label="Test Suite Overview"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#test-file-structure class=md-nav__link> <span class=md-ellipsis> Test File Structure </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#test-isolation class=md-nav__link> <span class=md-ellipsis> Test Isolation </span> </a> </li> <li class=md-nav__item> <a href=#test-fixtures-and-helpers class=md-nav__link> <span class=md-ellipsis> Test Fixtures and Helpers </span> </a> <nav class=md-nav aria-label="Test Fixtures and Helpers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#shared-mock-classes class=md-nav__link> <span class=md-ellipsis> Shared Mock Classes </span> </a> </li> <li class=md-nav__item> <a href=#shared-fixtures class=md-nav__link> <span class=md-ellipsis> Shared Fixtures </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mocking-strategy class=md-nav__link> <span class=md-ellipsis> Mocking Strategy </span> </a> <nav class=md-nav aria-label="Mocking Strategy"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#external-services class=md-nav__link> <span class=md-ellipsis> External Services </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#running-tests class=md-nav__link> <span class=md-ellipsis> Running Tests </span> </a> <nav class=md-nav aria-label="Running Tests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-the-helper-script class=md-nav__link> <span class=md-ellipsis> Using the Helper Script </span> </a> </li> <li class=md-nav__item> <a href=#using-pytest-directly class=md-nav__link> <span class=md-ellipsis> Using pytest Directly </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#continuous-integration class=md-nav__link> <span class=md-ellipsis> Continuous Integration </span> </a> </li> <li class=md-nav__item> <a href=#adding-new-tests class=md-nav__link> <span class=md-ellipsis> Adding New Tests </span> </a> </li> <li class=md-nav__item> <a href=#test-best-practices class=md-nav__link> <span class=md-ellipsis> Test Best Practices </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#contributing class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> <nav class=md-nav aria-label=Contributing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#contribution-workflow class=md-nav__link> <span class=md-ellipsis> Contribution Workflow </span> </a> </li> <li class=md-nav__item> <a href=#commit-message-format class=md-nav__link> <span class=md-ellipsis> Commit Message Format </span> </a> </li> <li class=md-nav__item> <a href=#code-style class=md-nav__link> <span class=md-ellipsis> Code Style </span> </a> </li> <li class=md-nav__item> <a href=#pull-request-guidelines class=md-nav__link> <span class=md-ellipsis> Pull Request Guidelines </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#release-process class=md-nav__link> <span class=md-ellipsis> Release Process </span> </a> <nav class=md-nav aria-label="Release Process"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#to-release-a-new-version class=md-nav__link> <span class=md-ellipsis> To Release a New Version </span> </a> </li> <li class=md-nav__item> <a href=#version-numbering class=md-nav__link> <span class=md-ellipsis> Version Numbering </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#documentation class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> <nav class=md-nav aria-label=Documentation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#documentation-site class=md-nav__link> <span class=md-ellipsis> Documentation Site </span> </a> </li> <li class=md-nav__item> <a href=#documentation-structure class=md-nav__link> <span class=md-ellipsis> Documentation Structure </span> </a> </li> <li class=md-nav__item> <a href=#building-documentation-locally class=md-nav__link> <span class=md-ellipsis> Building Documentation Locally </span> </a> <nav class=md-nav aria-label="Building Documentation Locally"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#prerequisites_1 class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#local-development class=md-nav__link> <span class=md-ellipsis> Local Development </span> </a> </li> <li class=md-nav__item> <a href=#build-static-site class=md-nav__link> <span class=md-ellipsis> Build Static Site </span> </a> </li> <li class=md-nav__item> <a href=#deploy-to-github-pages class=md-nav__link> <span class=md-ellipsis> Deploy to GitHub Pages </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#documentation-automation class=md-nav__link> <span class=md-ellipsis> Documentation Automation </span> </a> <nav class=md-nav aria-label="Documentation Automation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-documentation-changes class=md-nav__link> <span class=md-ellipsis> 1. Documentation Changes </span> </a> </li> <li class=md-nav__item> <a href=#2-release-process class=md-nav__link> <span class=md-ellipsis> 2. Release Process </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#changelog-generation class=md-nav__link> <span class=md-ellipsis> Changelog Generation </span> </a> <nav class=md-nav aria-label="Changelog Generation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=#historical-releases class=md-nav__link> <span class=md-ellipsis> Historical Releases </span> </a> </li> <li class=md-nav__item> <a href=#conventional-commits class=md-nav__link> <span class=md-ellipsis> Conventional Commits </span> </a> </li> <li class=md-nav__item> <a href=#manual-changelog-generation class=md-nav__link> <span class=md-ellipsis> Manual Changelog Generation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#documentation-best-practices class=md-nav__link> <span class=md-ellipsis> Documentation Best Practices </span> </a> </li> <li class=md-nav__item> <a href=#mkdocs-configuration class=md-nav__link> <span class=md-ellipsis> MkDocs Configuration </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting-documentation class=md-nav__link> <span class=md-ellipsis> Troubleshooting Documentation </span> </a> <nav class=md-nav aria-label="Troubleshooting Documentation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#local-build-fails class=md-nav__link> <span class=md-ellipsis> Local build fails </span> </a> </li> <li class=md-nav__item> <a href=#changes-not-appearing-on-github-pages class=md-nav__link> <span class=md-ellipsis> Changes not appearing on GitHub Pages </span> </a> </li> <li class=md-nav__item> <a href=#changelog-not-updating class=md-nav__link> <span class=md-ellipsis> Changelog not updating </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resources class=md-nav__link> <span class=md-ellipsis> Resources </span> </a> </li> <li class=md-nav__item> <a href=#getting-help class=md-nav__link> <span class=md-ellipsis> Getting Help </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../api/ class=md-nav__link> <span class=md-ellipsis> API Reference </span> </a> </li> <li class=md-nav__item> <a href=../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#getting-started-with-development class=md-nav__link> <span class=md-ellipsis> Getting Started with Development </span> </a> <nav class=md-nav aria-label="Getting Started with Development"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#development-setup class=md-nav__link> <span class=md-ellipsis> Development Setup </span> </a> </li> <li class=md-nav__item> <a href=#pre-commit-hooks class=md-nav__link> <span class=md-ellipsis> Pre-commit Hooks </span> </a> </li> <li class=md-nav__item> <a href=#common-development-commands class=md-nav__link> <span class=md-ellipsis> Common Development Commands </span> </a> </li> <li class=md-nav__item> <a href=#linting class=md-nav__link> <span class=md-ellipsis> Linting </span> </a> </li> <li class=md-nav__item> <a href=#build-and-distribution class=md-nav__link> <span class=md-ellipsis> Build and Distribution </span> </a> </li> <li class=md-nav__item> <a href=#release-strategy class=md-nav__link> <span class=md-ellipsis> Release strategy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#architecture-overview class=md-nav__link> <span class=md-ellipsis> Architecture Overview </span> </a> <nav class=md-nav aria-label="Architecture Overview"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#package-structure class=md-nav__link> <span class=md-ellipsis> Package Structure </span> </a> </li> <li class=md-nav__item> <a href=#core-workflow class=md-nav__link> <span class=md-ellipsis> Core Workflow </span> </a> </li> <li class=md-nav__item> <a href=#module-breakdown class=md-nav__link> <span class=md-ellipsis> Module Breakdown </span> </a> <nav class=md-nav aria-label="Module Breakdown"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configpy-configuration-management-multi-profile-architecture class=md-nav__link> <span class=md-ellipsis> config.py - Configuration Management (Multi-Profile Architecture) </span> </a> </li> <li class=md-nav__item> <a href=#fit_editorpy-fit-file-editing class=md-nav__link> <span class=md-ellipsis> fit_editor.py - FIT File Editing </span> </a> </li> <li class=md-nav__item> <a href=#app_registrypy-trainer-app-detection-system class=md-nav__link> <span class=md-ellipsis> app_registry.py - Trainer App Detection System </span> </a> </li> <li class=md-nav__item> <a href=#apppy-main-application class=md-nav__link> <span class=md-ellipsis> app.py - Main Application </span> </a> </li> <li class=md-nav__item> <a href=#utilspy-utility-functions class=md-nav__link> <span class=md-ellipsis> utils.py - Utility Functions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#supported-source-platforms class=md-nav__link> <span class=md-ellipsis> Supported Source Platforms </span> </a> </li> <li class=md-nav__item> <a href=#logging-and-output class=md-nav__link> <span class=md-ellipsis> Logging and Output </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#extensibility class=md-nav__link> <span class=md-ellipsis> ðŸ“š Extensibility </span> </a> <nav class=md-nav aria-label="ðŸ“š Extensibility"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#adding-new-trainer-apps class=md-nav__link> <span class=md-ellipsis> Adding New Trainer Apps </span> </a> </li> <li class=md-nav__item> <a href=#example-adding-rouvy-support class=md-nav__link> <span class=md-ellipsis> Example: Adding Rouvy Support </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#important-implementation-notes class=md-nav__link> <span class=md-ellipsis> Important Implementation Notes </span> </a> <nav class=md-nav aria-label="Important Implementation Notes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit-file-structure class=md-nav__link> <span class=md-ellipsis> FIT File Structure </span> </a> </li> <li class=md-nav__item> <a href=#device-simulation class=md-nav__link> <span class=md-ellipsis> Device Simulation </span> </a> </li> <li class=md-nav__item> <a href=#file-naming-convention class=md-nav__link> <span class=md-ellipsis> File Naming Convention </span> </a> </li> <li class=md-nav__item> <a href=#platform-detection class=md-nav__link> <span class=md-ellipsis> Platform Detection </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#testing class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> <nav class=md-nav aria-label=Testing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#quick-start class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=#test-suite-overview class=md-nav__link> <span class=md-ellipsis> Test Suite Overview </span> </a> <nav class=md-nav aria-label="Test Suite Overview"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#test-file-structure class=md-nav__link> <span class=md-ellipsis> Test File Structure </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#test-isolation class=md-nav__link> <span class=md-ellipsis> Test Isolation </span> </a> </li> <li class=md-nav__item> <a href=#test-fixtures-and-helpers class=md-nav__link> <span class=md-ellipsis> Test Fixtures and Helpers </span> </a> <nav class=md-nav aria-label="Test Fixtures and Helpers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#shared-mock-classes class=md-nav__link> <span class=md-ellipsis> Shared Mock Classes </span> </a> </li> <li class=md-nav__item> <a href=#shared-fixtures class=md-nav__link> <span class=md-ellipsis> Shared Fixtures </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mocking-strategy class=md-nav__link> <span class=md-ellipsis> Mocking Strategy </span> </a> <nav class=md-nav aria-label="Mocking Strategy"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#external-services class=md-nav__link> <span class=md-ellipsis> External Services </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#running-tests class=md-nav__link> <span class=md-ellipsis> Running Tests </span> </a> <nav class=md-nav aria-label="Running Tests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-the-helper-script class=md-nav__link> <span class=md-ellipsis> Using the Helper Script </span> </a> </li> <li class=md-nav__item> <a href=#using-pytest-directly class=md-nav__link> <span class=md-ellipsis> Using pytest Directly </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#continuous-integration class=md-nav__link> <span class=md-ellipsis> Continuous Integration </span> </a> </li> <li class=md-nav__item> <a href=#adding-new-tests class=md-nav__link> <span class=md-ellipsis> Adding New Tests </span> </a> </li> <li class=md-nav__item> <a href=#test-best-practices class=md-nav__link> <span class=md-ellipsis> Test Best Practices </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#contributing class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> <nav class=md-nav aria-label=Contributing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#contribution-workflow class=md-nav__link> <span class=md-ellipsis> Contribution Workflow </span> </a> </li> <li class=md-nav__item> <a href=#commit-message-format class=md-nav__link> <span class=md-ellipsis> Commit Message Format </span> </a> </li> <li class=md-nav__item> <a href=#code-style class=md-nav__link> <span class=md-ellipsis> Code Style </span> </a> </li> <li class=md-nav__item> <a href=#pull-request-guidelines class=md-nav__link> <span class=md-ellipsis> Pull Request Guidelines </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#release-process class=md-nav__link> <span class=md-ellipsis> Release Process </span> </a> <nav class=md-nav aria-label="Release Process"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#to-release-a-new-version class=md-nav__link> <span class=md-ellipsis> To Release a New Version </span> </a> </li> <li class=md-nav__item> <a href=#version-numbering class=md-nav__link> <span class=md-ellipsis> Version Numbering </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#documentation class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> <nav class=md-nav aria-label=Documentation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#documentation-site class=md-nav__link> <span class=md-ellipsis> Documentation Site </span> </a> </li> <li class=md-nav__item> <a href=#documentation-structure class=md-nav__link> <span class=md-ellipsis> Documentation Structure </span> </a> </li> <li class=md-nav__item> <a href=#building-documentation-locally class=md-nav__link> <span class=md-ellipsis> Building Documentation Locally </span> </a> <nav class=md-nav aria-label="Building Documentation Locally"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#prerequisites_1 class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#local-development class=md-nav__link> <span class=md-ellipsis> Local Development </span> </a> </li> <li class=md-nav__item> <a href=#build-static-site class=md-nav__link> <span class=md-ellipsis> Build Static Site </span> </a> </li> <li class=md-nav__item> <a href=#deploy-to-github-pages class=md-nav__link> <span class=md-ellipsis> Deploy to GitHub Pages </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#documentation-automation class=md-nav__link> <span class=md-ellipsis> Documentation Automation </span> </a> <nav class=md-nav aria-label="Documentation Automation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-documentation-changes class=md-nav__link> <span class=md-ellipsis> 1. Documentation Changes </span> </a> </li> <li class=md-nav__item> <a href=#2-release-process class=md-nav__link> <span class=md-ellipsis> 2. Release Process </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#changelog-generation class=md-nav__link> <span class=md-ellipsis> Changelog Generation </span> </a> <nav class=md-nav aria-label="Changelog Generation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=#historical-releases class=md-nav__link> <span class=md-ellipsis> Historical Releases </span> </a> </li> <li class=md-nav__item> <a href=#conventional-commits class=md-nav__link> <span class=md-ellipsis> Conventional Commits </span> </a> </li> <li class=md-nav__item> <a href=#manual-changelog-generation class=md-nav__link> <span class=md-ellipsis> Manual Changelog Generation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#documentation-best-practices class=md-nav__link> <span class=md-ellipsis> Documentation Best Practices </span> </a> </li> <li class=md-nav__item> <a href=#mkdocs-configuration class=md-nav__link> <span class=md-ellipsis> MkDocs Configuration </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting-documentation class=md-nav__link> <span class=md-ellipsis> Troubleshooting Documentation </span> </a> <nav class=md-nav aria-label="Troubleshooting Documentation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#local-build-fails class=md-nav__link> <span class=md-ellipsis> Local build fails </span> </a> </li> <li class=md-nav__item> <a href=#changes-not-appearing-on-github-pages class=md-nav__link> <span class=md-ellipsis> Changes not appearing on GitHub Pages </span> </a> </li> <li class=md-nav__item> <a href=#changelog-not-updating class=md-nav__link> <span class=md-ellipsis> Changelog not updating </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resources class=md-nav__link> <span class=md-ellipsis> Resources </span> </a> </li> <li class=md-nav__item> <a href=#getting-help class=md-nav__link> <span class=md-ellipsis> Getting Help </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/jat255/Fit-File-Faker/edit/main/docs/developer-guide.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <h1 id=developer-guide>Developer Guide<a class=headerlink href=#developer-guide title="Permanent link">&para;</a></h1> <p>This guide provides comprehensive information for developers contributing to Fit File Faker, including architecture, testing, and release processes.</p> <h2 id=getting-started-with-development>Getting Started with Development<a class=headerlink href=#getting-started-with-development title="Permanent link">&para;</a></h2> <h3 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">&para;</a></h3> <ul> <li>Python 3.12 or higher</li> <li><a href=https://docs.astral.sh/uv/ >uv</a> (preferred) or pip</li> <li>Git</li> </ul> <h3 id=development-setup>Development Setup<a class=headerlink href=#development-setup title="Permanent link">&para;</a></h3> <p>Clone the repository and install dependencies:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>uv (Recommended)</label><label for=__tabbed_1_2>pip</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>git<span class=w> </span>clone<span class=w> </span>https://github.com/jat255/Fit-File-Faker.git
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=nb>cd</span><span class=w> </span>Fit-File-Faker
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>uv<span class=w> </span>sync<span class=w>  </span><span class=c1># Installs all dependencies</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>git<span class=w> </span>clone<span class=w> </span>https://github.com/jat255/Fit-File-Faker.git
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=nb>cd</span><span class=w> </span>Fit-File-Faker
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>python<span class=w> </span>-m<span class=w> </span>venv<span class=w> </span>.venv
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=nb>source</span><span class=w> </span>.venv/bin/activate<span class=w>  </span><span class=c1># On Windows: .venv\Scripts\activate</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>pip<span class=w> </span>install<span class=w> </span>.
</span></code></pre></div> </div> </div> </div> <h3 id=pre-commit-hooks>Pre-commit Hooks<a class=headerlink href=#pre-commit-hooks title="Permanent link">&para;</a></h3> <p>The project uses <a href=https://pre-commit.com/ >pre-commit</a> to run code quality checks before committing. After setting up your development environment:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>uv<span class=w> </span>run<span class=w> </span>pre-commit<span class=w> </span>install
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>uv<span class=w> </span>run<span class=w> </span>pre-commit<span class=w> </span>install<span class=w> </span>--hook-type<span class=w> </span>commit-msg
</span></code></pre></div> <p>This automatically runs the following checks:</p> <ul> <li><strong><code>ruff check</code></strong> and <strong><code>ruff format</code></strong>: Code linting and formatting on staged files</li> <li><strong><code>gitlint</code></strong>: Validates commit messages follow <a href=https://www.conventionalcommits.org/ >Conventional Commits</a> format</li> </ul> <p>Run hooks manually on all files:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>uv<span class=w> </span>run<span class=w> </span>pre-commit<span class=w> </span>run<span class=w> </span>--all-files
</span></code></pre></div> <h3 id=common-development-commands>Common Development Commands<a class=headerlink href=#common-development-commands title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=c1># Show help</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>fit-file-faker<span class=w> </span>-h
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=c1># Interactive profile management menu</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>fit-file-faker<span class=w> </span>--config-menu
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=c1># Show directories used for configuration and cache</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>fit-file-faker<span class=w> </span>--show-dirs
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=c1># Edit a single FIT file</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>fit-file-faker<span class=w> </span>path/to/file.fit
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=c1># Edit and upload to Garmin Connect</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>fit-file-faker<span class=w> </span>-u<span class=w> </span>path/to/file.fit
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=c1># Upload all new files in configured directory</span>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a>fit-file-faker<span class=w> </span>-ua
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a><span class=c1># Monitor directory for new files</span>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>fit-file-faker<span class=w> </span>-m
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a><span class=c1># Dry run (no changes or uploads)</span>
</span><span id=__span-4-23><a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a>fit-file-faker<span class=w> </span>-d<span class=w> </span>path/to/file.fit
</span></code></pre></div> <h3 id=linting>Linting<a class=headerlink href=#linting title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1># Run ruff (configured in dev dependencies)</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>ruff<span class=w> </span>check<span class=w> </span>.
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>ruff<span class=w> </span>format<span class=w> </span>.
</span></code></pre></div> <h3 id=build-and-distribution>Build and Distribution<a class=headerlink href=#build-and-distribution title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1># Build the package for testing</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>uv<span class=w> </span>build
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=c1># Install locally for testing</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>pip<span class=w> </span>install<span class=w> </span>-e<span class=w> </span>.
</span></code></pre></div> <h3 id=release-strategy>Release strategy<a class=headerlink href=#release-strategy title="Permanent link">&para;</a></h3> <p>Releases are done built and pushed to PyPI automatically by the GitHub action in <code>.github/workflows/publish_and_release.yml</code>, which is triggered whenever a tag is pushed to the repository.</p> <h2 id=architecture-overview>Architecture Overview<a class=headerlink href=#architecture-overview title="Permanent link">&para;</a></h2> <h3 id=package-structure>Package Structure<a class=headerlink href=#package-structure title="Permanent link">&para;</a></h3> <p>The application is organized as a modular Python package (<code>fit_file_faker/</code>) with ~1,800 total lines across six files:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>fit_file_faker/
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>â”œâ”€â”€ __init__.py           # Package initialization
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>â”œâ”€â”€ app.py                # Main application, CLI, uploads, monitoring (550 lines)
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>â”œâ”€â”€ app_registry.py       # NEW: Trainer app detection system (305 lines)
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>â”œâ”€â”€ config.py             # Configuration management (750 lines)
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>â”œâ”€â”€ fit_editor.py         # FIT file editing core logic (313 lines)
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>â””â”€â”€ utils.py              # Utility functions and monkey patches (103 lines)
</span></code></pre></div> <p><strong>Entry Point</strong>: <code>fit_file_faker.app:run</code> (defined in <code>pyproject.toml</code>)</p> <div class="admonition note"> <p class=admonition-title>Design Philosophy</p> <p>The modular structure improves maintainability while keeping the codebase compact:</p> <ul> <li><strong>Separation of concerns</strong>: config, editing, upload, utilities, app detection</li> <li><strong>Easier testing</strong>: Each module can be tested independently</li> <li><strong>Extensible architecture</strong>: New trainer apps can be added via <code>app_registry.py</code></li> <li><strong>Backward compatibility</strong>: Legacy single-profile configs auto-migrate</li> <li>Clear boundaries between functionality</li> <li>Still simple to understand and contribute to</li> </ul> </div> <h3 id=core-workflow>Core Workflow<a class=headerlink href=#core-workflow title="Permanent link">&para;</a></h3> <p>The tool follows a six-step process:</p> <ol> <li><strong>Read FIT file</strong>: Uses the <code>fit_tool</code> library to parse binary FIT files</li> <li><strong>Apply fit_tool patch</strong>: Applies monkey patch from <code>utils.py</code> to handle malformed FIT files (e.g., COROS)</li> <li><strong>Identify device messages</strong>: Locates <code>FileIdMessage</code>, <code>FileCreatorMessage</code>, and <code>DeviceInfoMessage</code> records</li> <li> <p><strong>Rewrite manufacturer/product IDs</strong>: Changes manufacturer codes from:</p> <ul> <li><code>DEVELOPMENT</code> (255)</li> <li><code>ZWIFT</code></li> <li><code>WAHOO_FITNESS</code></li> <li><code>PEAKSWARE</code></li> <li><code>HAMMERHEAD</code></li> <li><code>COROS</code></li> <li><code>MYWHOOSH</code> (331)</li> </ul> <p>to <code>GARMIN</code> (1) with Edge 830 product ID (3122)</p> </li> <li> <p><strong>Rebuild FIT file</strong>: Uses <code>FitFileBuilder</code> to reconstruct the file with modified messages</p> </li> <li><strong>Upload (optional)</strong>: Authenticates to Garmin Connect via <code>garth</code> library and uploads the modified file</li> </ol> <h3 id=module-breakdown>Module Breakdown<a class=headerlink href=#module-breakdown title="Permanent link">&para;</a></h3> <h4 id=configpy-configuration-management-multi-profile-architecture><code>config.py</code> - Configuration Management (Multi-Profile Architecture)<a class=headerlink href=#configpy-configuration-management-multi-profile-architecture title="Permanent link">&para;</a></h4> <p><strong>Core Data Structures</strong>:</p> <ul> <li><code>AppType</code> enum: <code>TP_VIRTUAL</code>, <code>ZWIFT</code>, <code>MYWHOOSH</code>, <code>CUSTOM</code> for trainer app types</li> <li><code>Profile</code> dataclass: Individual profile configuration<ul> <li><code>name</code>: Unique profile identifier</li> <li><code>app_type</code>: Trainer app type (AppType enum)</li> <li><code>garmin_username</code>: Garmin account username</li> <li><code>garmin_password</code>: Garmin account password</li> <li><code>fitfiles_path</code>: Path to FIT files directory</li> </ul> </li> <li><code>Config</code> dataclass: Multi-profile container<ul> <li><code>profiles</code>: List of Profile objects</li> <li><code>default_profile</code>: Optional default profile name</li> </ul> </li> </ul> <p><strong>Configuration Management</strong>:</p> <ul> <li><code>ConfigManager</code> class: Handles config file I/O, validation, and auto-migration<ul> <li><code>_load_config()</code>: Loads or creates configuration, auto-migrates legacy format</li> <li><code>save_config()</code>: Persists configuration to disk</li> <li><code>is_valid()</code>: Validates configuration completeness</li> <li><code>migrate_legacy_config()</code>: Converts v1.2.4 single-profile to multi-profile format</li> </ul> </li> <li><code>ProfileManager</code> class: CRUD operations for profile management<ul> <li><code>create_profile()</code>: Create new profile with validation</li> <li><code>get_profile()</code>: Retrieve profile by name</li> <li><code>update_profile()</code>: Modify existing profile</li> <li><code>delete_profile()</code>: Remove profile with safety checks</li> <li><code>set_default_profile()</code>: Set default profile</li> <li><code>list_profiles()</code>: Get all profiles</li> </ul> </li> </ul> <p><strong>TUI Components</strong>:</p> <ul> <li><code>display_profiles_table()</code>: Rich table display of profiles</li> <li><code>interactive_menu()</code>: Questionary-based menu system</li> <li>Profile creation wizard: App-first flow (select app â†’ auto-detect â†’ credentials â†’ name)</li> <li>Profile edit wizard: Field-specific editing</li> <li>Profile deletion wizard: Confirmation with safety checks</li> <li>Set default profile wizard: Interactive selection</li> </ul> <p><strong>Utilities</strong>:</p> <ul> <li><code>get_garth_dir(profile_name)</code>: Profile-specific credential isolation</li> <li><code>PathEncoder</code>: Custom JSON encoder for Path and Enum objects</li> <li>Stored in platform-specific user config directory (via <code>platformdirs</code>) as <code>.config.json</code></li> <li>Auto-detection via <code>app_registry.py</code> for TPV, Zwift, MyWhoosh directories</li> </ul> <p><strong>Supplemental Device Registry</strong>:</p> <p>The tool maintains a curated list of modern Garmin devices (2019-2026) to supplement the outdated device list in the <code>fit_tool</code> library.</p> <ul> <li> <p><code>GarminDeviceInfo</code> dataclass: Metadata for each device</p> <ul> <li><code>name</code>: Human-readable name (e.g., "Edge 1050")</li> <li><code>product_id</code>: FIT file product ID integer</li> <li><code>category</code>: Device category (<code>bike_computer</code>, <code>multisport_watch</code>, <code>trainer</code>)</li> <li><code>year_released</code>: Release year for sorting</li> <li><code>is_common</code>: Flag for two-level menu filtering</li> <li><code>description</code>: Brief description for UI display</li> <li><code>software_version</code>: Latest stable firmware version (integer format, e.g., 2922 = v29.22)</li> <li><code>software_date</code>: Latest firmware release date (YYYY-MM-DD format)</li> </ul> </li> <li> <p><code>SUPPLEMENTAL_GARMIN_DEVICES</code>: Registry containing 43 modern devices</p> <ul> <li><strong>Common devices</strong> (<code>is_common=True</code>): 11 popular devices shown in first-level menu<ul> <li>Bike computers: Edge 1050, 1040, 840, 830, 540, 530</li> <li>Multisport watches: Fenix 8 47mm, Fenix 7, Epix Gen 2, Forerunner 965, 955</li> </ul> </li> <li><strong>All devices</strong>: Complete catalog accessible via "View all devices" option<ul> <li>Edge series (9 models)</li> <li>Fenix/Epix series (18 models)</li> <li>Forerunner series (12 models)</li> <li>Tacx Training App (4 variants)</li> </ul> </li> </ul> </li> <li> <p><code>get_supported_garmin_devices(show_all: bool = False)</code>: Device list generator</p> <ul> <li>Returns 3-tuples: <code>(name, product_id, description)</code></li> <li>Merges <code>fit_tool</code> enum with supplemental registry (supplemental takes priority)</li> <li>Filters by <code>is_common</code> when <code>show_all=False</code> (default)</li> <li>Sorting: common devices first, then by year (newest first), then alphabetically</li> </ul> </li> </ul> <p><strong>Device Selection UI</strong>:</p> <p>The profile creation and editing wizards use a two-level menu system:</p> <ul> <li> <p><strong>Level 1</strong>: Common devices grouped by category with visual separators</p> <ul> <li>Shows only 11 curated devices for reduced cognitive load</li> <li>Includes "View all devices" and "Custom (enter numeric ID)" options</li> </ul> </li> <li> <p><strong>Level 2</strong>: Full device catalog (70+ devices)</p> <ul> <li>Accessed via "View all devices" option</li> <li>Categorized and sorted by release year</li> <li>"Back to common devices" navigation option</li> </ul> </li> </ul> <p><strong>Device Reference Data</strong>:</p> <p>Device metadata is maintained in <code>docs/reference/FitSDK_21.188.00_device_ids.csv</code>:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>Name,Value,Comment,Software Version,Software Date
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>edge_1050,4440,,2922,2025-11-04
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>fenix8,4536,,2029,2026-01-14
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>fr965,4315,,2709,2026-01-15
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>edge_830,3122,,975,2023-03-22
</span></code></pre></div> <p><strong>Column definitions</strong>:</p> <ul> <li><strong>Name</strong>: Device name (lowercase with underscores)</li> <li><strong>Value</strong>: Product ID (integer used in FIT files)</li> <li><strong>Comment</strong>: Optional notes (usually empty)</li> <li><strong>Software Version</strong>: Firmware version in FIT format (integer, last 2 digits are decimals)</li> <li><strong>Software Date</strong>: Firmware release date (YYYY-MM-DD)</li> </ul> <p><strong>Firmware Version Format</strong>:</p> <p>FIT files store firmware versions as integers where the last two digits represent decimal places:</p> <ul> <li><code>v29.22</code> â†’ <code>2922</code></li> <li><code>v9.75</code> â†’ <code>975</code></li> <li><code>v27.09</code> â†’ <code>2709</code></li> </ul> <p><strong>Firmware Data Source</strong>:</p> <p>Firmware versions are sourced from <a href=http://gpsinformation.net/allory/test/garfeat_index.htm>gpsinformation.net</a>, a comprehensive database of Garmin device firmware releases.</p> <ul> <li><strong>URL pattern</strong>: <code>http://gpsinformation.net/allory/test/garfeat_&lt;device&gt;.htm</code></li> <li><strong>Example</strong>: <a href=http://gpsinformation.net/allory/test/garfeat_edge1050.htm#edge1050>Edge 1050 firmware history</a></li> <li><strong>Data extracted</strong>: Latest stable (non-beta) firmware version and release date</li> <li><strong>SSL note</strong>: The site uses an expired certificate, use <code>curl -k</code> to bypass SSL verification</li> </ul> <p><strong>Extraction scripts</strong> (for maintenance):</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1># Extract firmware versions from gpsinformation.net</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>./extract_firmware_versions.sh
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=c1># Update CSV with extracted data</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>python3<span class=w> </span>update_firmware_csv.py
</span></code></pre></div> <p><strong>Adding New Devices</strong>:</p> <p>To add support for a new Garmin device:</p> <ol> <li><strong>Find product ID</strong>: Check the <a href=https://developer.garmin.com/fit/protocol/ >FIT SDK</a> or examine a FIT file from the device</li> <li><strong>Extract firmware data</strong>: Visit <code>http://gpsinformation.net/allory/test/garfeat_&lt;device&gt;.htm</code></li> <li><strong>Add to supplemental registry</strong> in <code>config.py</code>: <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=n>GarminDeviceInfo</span><span class=p>(</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Edge 2000&quot;</span><span class=p>,</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    <span class=n>product_id</span><span class=o>=</span><span class=mi>9999</span><span class=p>,</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>    <span class=n>category</span><span class=o>=</span><span class=s2>&quot;bike_computer&quot;</span><span class=p>,</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>    <span class=n>year_released</span><span class=o>=</span><span class=mi>2026</span><span class=p>,</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>    <span class=n>is_common</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># Set True only for popular devices</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>    <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Next-gen flagship bike computer&quot;</span><span class=p>,</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>    <span class=n>software_version</span><span class=o>=</span><span class=mi>3000</span><span class=p>,</span>  <span class=c1># v30.00 in FIT format</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>    <span class=n>software_date</span><span class=o>=</span><span class=s2>&quot;2026-03-15&quot;</span>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=p>),</span>
</span></code></pre></div></li> <li><strong>Update CSV file</strong>: Add entry to <code>docs/reference/FitSDK_21.188.00_device_ids.csv</code></li> <li><strong>Add tests</strong>: Update <code>tests/test_config.py</code> with new device validation</li> </ol> <p><strong>Updating Firmware Versions</strong>:</p> <p>Firmware versions should be periodically updated to reflect latest stable releases:</p> <ol> <li>Run <code>./extract_firmware_versions.sh</code> to fetch latest versions</li> <li>Review output and update <code>update_firmware_csv.py</code> with new data</li> <li>Run <code>python3 update_firmware_csv.py</code> to update the CSV</li> <li>Manually update corresponding entries in <code>SUPPLEMENTAL_GARMIN_DEVICES</code></li> <li>Verify with tests: <code>python3 run_tests.py tests/test_config.py</code></li> </ol> <p><strong>Backward Compatibility</strong>:</p> <ul> <li>Existing profiles with numeric device IDs continue to work unchanged</li> <li><code>Profile.get_device_name()</code> prioritizes <code>fit_tool</code> enum, then falls back to supplemental registry</li> <li>Unknown device IDs display as <code>UNKNOWN (&lt;id&gt;)</code></li> <li>Custom device IDs can still be entered manually via profile wizard</li> </ul> <h4 id=fit_editorpy-fit-file-editing><code>fit_editor.py</code> - FIT File Editing<a class=headerlink href=#fit_editorpy-fit-file-editing title="Permanent link">&para;</a></h4> <ul> <li><code>FitEditor</code> class: Main editor with logging filter for fit_tool warnings<ul> <li><code>edit_fit()</code>: Main function that reads, modifies, and saves FIT files</li> <li><code>rewrite_file_id_message()</code>: Converts FileIdMessage to Garmin Edge 830 format</li> <li><code>strip_unknown_fields()</code>: Handles unknown field definitions to prevent file corruption</li> <li><code>_should_modify_manufacturer()</code>: Determines if manufacturer should be changed</li> <li><code>_should_modify_device_info()</code>: Determines if device info should be changed</li> <li><code>get_date_from_fit()</code>: Extracts creation date from FIT file</li> <li><code>print_message()</code>: Debug output for FIT messages</li> </ul> </li> <li><code>FitFileLogFilter</code>: Custom logging filter to suppress noisy fit_tool warnings</li> <li>Device info messages are rewritten to Garmin Edge 830</li> <li><em>Activity data is always preserved</em> (records, laps, sessions) - only modifies device metadata</li> <li>Special handling for Activity messages (reordered to end for COROS compatibility)</li> </ul> <h4 id=app_registrypy-trainer-app-detection-system><code>app_registry.py</code> - Trainer App Detection System<a class=headerlink href=#app_registrypy-trainer-app-detection-system title="Permanent link">&para;</a></h4> <p><strong>AppDetector ABC</strong>: Abstract base class defining the detector interface</p> <ul> <li><code>get_display_name()</code>: Human-readable app name for UI</li> <li><code>get_default_path()</code>: Platform-specific FIT files directory detection</li> <li><code>validate_path()</code>: Path validation for the specific app</li> </ul> <p><strong>Concrete Detectors</strong>:</p> <ul> <li><code>TPVDetector</code>: TrainingPeaks Virtual directory detection<ul> <li>macOS: <code>~/TPVirtual/&lt;user_id&gt;/FITFiles</code></li> <li>Windows: <code>~/Documents/TPVirtual/&lt;user_id&gt;/FITFiles</code></li> <li>Linux: User prompt (no standard path)</li> <li>Uses <code>TPV_DATA_PATH</code> environment variable override</li> </ul> </li> <li><code>ZwiftDetector</code>: Zwift activities directory detection<ul> <li>macOS: <code>~/Documents/Zwift/Activities/</code></li> <li>Windows: <code>%USERPROFILE%\Documents\Zwift\Activities\</code></li> <li>Linux: Wine/Proton path detection</li> </ul> </li> <li><code>MyWhooshDetector</code>: MyWhoosh data directory detection<ul> <li>macOS: Epic container path scanning</li> <li>Windows: AppData package directory scanning</li> <li>Linux: User prompt (not officially supported)</li> </ul> </li> <li><code>CustomDetector</code>: Manual path specification for unsupported apps</li> </ul> <p><strong>Registry System</strong>:</p> <ul> <li><code>APP_REGISTRY</code>: Dictionary mapping <code>AppType</code> â†’ detector class</li> <li><code>get_detector(app_type)</code>: Factory function for detector instances</li> <li>Extensible design: Add new apps by implementing AppDetector and registering</li> </ul> <h4 id=apppy-main-application><code>app.py</code> - Main Application<a class=headerlink href=#apppy-main-application title="Permanent link">&para;</a></h4> <ul> <li>CLI argument parsing and validation (using <code>argparse</code>)</li> <li><strong>Multi-Profile Support</strong>: New CLI arguments<ul> <li><code>--profile/-p</code>: Use specific profile for operation</li> <li><code>--list-profiles</code>: Display all configured profiles</li> <li><code>--config-menu</code>: Launch interactive profile management</li> </ul> </li> <li><code>select_profile()</code>: Profile selection logic (arg â†’ default â†’ prompt)</li> <li><code>upload()</code>: Garmin Connect upload with OAuth authentication via <code>garth</code> (now accepts <code>Profile</code> parameter)<ul> <li>Handles authentication and credential prompting</li> <li>Caches credentials in profile-specific <code>.garth_{profile_name}</code> directories</li> <li>Gracefully handles HTTP 409 conflicts (duplicate activities)</li> </ul> </li> <li><code>upload_all()</code>: Batch processes all FIT files in a directory (profile-aware)<ul> <li>Maintains <code>.uploaded_files.json</code> to track processed files</li> <li>Creates temporary files for uploads (discarded after upload)</li> </ul> </li> <li><code>monitor()</code>: Watches directory for new FIT files using <code>watchdog</code> (profile-specific)</li> <li><code>NewFileEventHandler</code>: Event handler class for monitoring mode (uses profile)<ul> <li>5-second delay after file creation to ensure write completion</li> <li>Automatically processes and uploads new files</li> </ul> </li> <li>Rich console output with colored logs and tracebacks</li> </ul> <h4 id=utilspy-utility-functions><code>utils.py</code> - Utility Functions<a class=headerlink href=#utilspy-utility-functions title="Permanent link">&para;</a></h4> <ul> <li><code>apply_fit_tool_patch()</code>: Monkey patches fit_tool to handle malformed FIT files</li> <li><code>_lenient_get_length_from_size()</code>: Lenient field size validation (truncates instead of raising)</li> <li><code>fit_crc_get16()</code>: FIT file CRC-16 checksum calculation</li> <li>Required for COROS and other manufacturers with non-standard FIT files</li> </ul> <h3 id=supported-source-platforms>Supported Source Platforms<a class=headerlink href=#supported-source-platforms title="Permanent link">&para;</a></h3> <p>The tool recognizes and modifies FIT files from:</p> <table> <thead> <tr> <th>Platform</th> <th>Manufacturer Code</th> <th>Notes</th> </tr> </thead> <tbody> <tr> <td>TrainingPeaks Virtual</td> <td><code>DEVELOPMENT</code> or <code>PEAKSWARE</code></td> <td>Formerly indieVelo</td> </tr> <tr> <td>Zwift</td> <td><code>ZWIFT</code></td> <td>Popular virtual cycling platform</td> </tr> <tr> <td>Wahoo devices</td> <td><code>WAHOO_FITNESS</code></td> <td>Wahoo bike computers</td> </tr> <tr> <td>Hammerhead Karoo</td> <td><code>HAMMERHEAD</code></td> <td>Karoo bike computers</td> </tr> <tr> <td>MyWhoosh</td> <td><code>331</code></td> <td>Not in <code>fit_tool</code>'s enum</td> </tr> <tr> <td>COROS</td> <td><code>COROS</code></td> <td>Requires <code>fit_tool</code> patch for malformed fields</td> </tr> </tbody> </table> <h3 id=logging-and-output>Logging and Output<a class=headerlink href=#logging-and-output title="Permanent link">&para;</a></h3> <ul> <li>Uses <code>rich</code> library for formatted console output (configured in <code>app.py</code>)</li> <li><code>RichHandler</code> for colored, timestamped logs with traceback support</li> <li>Custom <code>FitFileLogFilter</code> in <code>fit_editor.py</code> to suppress fit_tool's "actual:" warnings</li> <li>Debug mode (<code>-v</code>) provides detailed message-by-message processing logs</li> <li>Separate log level configuration for different modules (urllib3, oauth1_auth, watchdog, asyncio, etc.)</li> </ul> <h2 id=extensibility>ðŸ“š Extensibility<a class=headerlink href=#extensibility title="Permanent link">&para;</a></h2> <h3 id=adding-new-trainer-apps>Adding New Trainer Apps<a class=headerlink href=#adding-new-trainer-apps title="Permanent link">&para;</a></h3> <p>The architecture is designed to be extensible. To add support for a new trainer app:</p> <ol> <li><strong>Add enum value</strong>: Add to <code>AppType</code> enum in <code>config.py</code></li> <li><strong>Create detector</strong>: Implement <code>AppDetector</code> subclass in <code>app_registry.py</code></li> <li><strong>Register detector</strong>: Add to <code>APP_REGISTRY</code> dictionary</li> <li><strong>Done!</strong>: App automatically appears in creation menu</li> </ol> <h3 id=example-adding-rouvy-support>Example: Adding Rouvy Support<a class=headerlink href=#example-adding-rouvy-support title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=c1># 1. Add to AppType enum</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=k>class</span><span class=w> </span><span class=nc>AppType</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>Enum</span><span class=p>):</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>    <span class=n>ROUVY</span> <span class=o>=</span> <span class=s2>&quot;rouvy&quot;</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=c1># 2. Create detector class</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=k>class</span><span class=w> </span><span class=nc>RouvyDetector</span><span class=p>(</span><span class=n>AppDetector</span><span class=p>):</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_display_name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>        <span class=k>return</span> <span class=s2>&quot;Rouvy&quot;</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_default_path</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>        <span class=c1># Implement platform-specific detection</span>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>        <span class=k>pass</span>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a>    <span class=k>def</span><span class=w> </span><span class=nf>validate_path</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>path</span><span class=p>:</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>        <span class=c1># Implement path validation</span>
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>        <span class=k>pass</span>
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a>
</span><span id=__span-11-18><a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a><span class=c1># 3. Register in APP_REGISTRY</span>
</span><span id=__span-11-19><a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a><span class=n>APP_REGISTRY</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-11-20><a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>    <span class=c1># ... existing entries</span>
</span><span id=__span-11-21><a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a>    <span class=n>AppType</span><span class=o>.</span><span class=n>ROUVY</span><span class=p>:</span> <span class=n>RouvyDetector</span><span class=p>,</span>
</span><span id=__span-11-22><a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a><span class=p>}</span>
</span></code></pre></div> <h2 id=important-implementation-notes>Important Implementation Notes<a class=headerlink href=#important-implementation-notes title="Permanent link">&para;</a></h2> <h3 id=fit-file-structure>FIT File Structure<a class=headerlink href=#fit-file-structure title="Permanent link">&para;</a></h3> <div class="admonition warning"> <p class=admonition-title>Critical Information</p> <p>FIT files contain a series of messages (records). Each data message must be preceded by a definition message.</p> </div> <p>When rewriting messages, always write: <div class="language-python highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=n>DefinitionMessage</span><span class=o>.</span><span class=n>from_data_message</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
</span></code></pre></div> then the message itself.</p> <p><code>FitFileBuilder(auto_define=True)</code> handles definition messages automatically when <code>add()</code> is called.</p> <h3 id=device-simulation>Device Simulation<a class=headerlink href=#device-simulation title="Permanent link">&para;</a></h3> <p>The tool emulates Garmin devices by rewriting manufacturer and product IDs in FIT files. The specific device can be configured per-profile.</p> <p><strong>Default device</strong> (if not configured):</p> <ul> <li><strong>Manufacturer</strong>: 1 (<code>GARMIN</code>)</li> <li><strong>Product</strong>: 3122 (<code>EDGE_830</code>)</li> <li><strong>Software version</strong>: 975 (v9.75 in FIT format)</li> <li><strong>Hardware version</strong>: 255</li> </ul> <p><strong>Supported devices</strong>: 70+ devices from the supplemental registry and <code>fit_tool</code> library, including:</p> <ul> <li>Modern bike computers (Edge 1050, 1040, 840, 540, etc.)</li> <li>Multisport watches (Fenix 8, Fenix 7, Epix Gen 2, etc.)</li> <li>Running watches (Forerunner 965, 955, 265, 255, etc.)</li> <li>Training apps (Tacx Training App variants)</li> </ul> <p><strong>Custom device IDs</strong>: Users can enter any numeric device ID manually during profile configuration.</p> <h3 id=file-naming-convention>File Naming Convention<a class=headerlink href=#file-naming-convention title="Permanent link">&para;</a></h3> <p>Modified files are saved as <code>{original_stem}_modified.fit</code> unless uploading in batch mode (which uses temp files).</p> <h3 id=platform-detection>Platform Detection<a class=headerlink href=#platform-detection title="Permanent link">&para;</a></h3> <p>The tool auto-detects TrainingPeaks Virtual user directories on:</p> <ul> <li><strong>macOS</strong>: <code>~/TPVirtual</code></li> <li><strong>Windows</strong>: <code>~/Documents/TPVirtual</code></li> <li><strong>Linux</strong>: Prompts user for path (no auto-detection)</li> </ul> <p>Override with <code>TPV_DATA_PATH</code> environment variable.</p> <h2 id=testing>Testing<a class=headerlink href=#testing title="Permanent link">&para;</a></h2> <h3 id=quick-start>Quick Start<a class=headerlink href=#quick-start title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1># Run all tests</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>python3<span class=w> </span>run_tests.py
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=c1># Run with coverage (HTML report)</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>python3<span class=w> </span>run_tests.py<span class=w> </span>--html
</span></code></pre></div> <h3 id=test-suite-overview>Test Suite Overview<a class=headerlink href=#test-suite-overview title="Permanent link">&para;</a></h3> <p>The test suite includes <strong>53+ tests</strong> with <strong>100% code coverage</strong> for all major functionality.</p> <h4 id=test-file-structure>Test File Structure<a class=headerlink href=#test-file-structure title="Permanent link">&para;</a></h4> <div class="language-text highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a>tests/
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>â”œâ”€â”€ conftest.py              # Shared fixtures and test configuration
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>â”œâ”€â”€ test_fit_editor.py       # FIT editing tests (32 tests)
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>â”œâ”€â”€ test_config.py           # Configuration tests (55 tests)
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>â”œâ”€â”€ test_app_registry.py     # NEW: App registry and detector tests (28 tests)
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>â”œâ”€â”€ test_app.py              # Application and upload tests (30 tests)
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>â”œâ”€â”€ test_utils.py            # Utility function tests
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>â””â”€â”€ files/                   # Test FIT files from various platforms
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a>    â”œâ”€â”€ tpv_20250111.fit
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a>    â”œâ”€â”€ tpv_20251120.fit
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a>    â”œâ”€â”€ zwift_20250401.fit
</span><span id=__span-14-12><a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a>    â”œâ”€â”€ mywhoosh_20260111.fit
</span><span id=__span-14-13><a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a>    â”œâ”€â”€ karoo_20251119.fit
</span><span id=__span-14-14><a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a>    â””â”€â”€ coros_20251118.fit
</span></code></pre></div> <h3 id=test-isolation>Test Isolation<a class=headerlink href=#test-isolation title="Permanent link">&para;</a></h3> <p>All tests should be <strong>completely isolated</strong> from a real environment:</p> <ul> <li>âœ… Config directories redirected to temporary locations</li> <li>âœ… Cache directories use temp space</li> <li>âœ… No network calls (all external services mocked)</li> <li>âœ… Automatic cleanup after each test</li> <li>âœ… Safe to run in parallel</li> </ul> <p>The <code>isolate_config_dirs</code> autouse fixture in <code>conftest.py</code> ensures that no test ever touches:</p> <ul> <li>Your real Garmin credentials</li> <li>Your actual FIT files</li> <li>Your user configuration directory</li> <li>Your system cache</li> </ul> <h3 id=test-fixtures-and-helpers>Test Fixtures and Helpers<a class=headerlink href=#test-fixtures-and-helpers title="Permanent link">&para;</a></h3> <p>The test suite uses shared fixtures in <code>conftest.py</code> to reduce duplication:</p> <h4 id=shared-mock-classes>Shared Mock Classes<a class=headerlink href=#shared-mock-classes title="Permanent link">&para;</a></h4> <ul> <li><strong><code>MockQuestion</code></strong>: Mock for questionary interactive prompts</li> <li><strong><code>MockGarthHTTPError</code></strong>: Configurable HTTP error mock with status codes</li> <li><strong><code>MockGarthException</code></strong>: Standard Garth exception for auth flow testing</li> </ul> <h4 id=shared-fixtures>Shared Fixtures<a class=headerlink href=#shared-fixtures title="Permanent link">&para;</a></h4> <ul> <li><strong><code>mock_garth_basic</code></strong>: Basic Garmin Connect mock for successful operations</li> <li><strong><code>mock_garth_with_login</code></strong>: Garmin mock requiring authentication</li> <li><strong><code>isolate_config_dirs</code></strong> (autouse): Automatically isolates all tests from real user directories</li> <li><strong><code>temp_dir</code></strong>: Creates temporary directories for test outputs</li> <li><strong><code>mock_config_file</code></strong>: Creates mock configuration files</li> </ul> <h3 id=mocking-strategy>Mocking Strategy<a class=headerlink href=#mocking-strategy title="Permanent link">&para;</a></h3> <h4 id=external-services>External Services<a class=headerlink href=#external-services title="Permanent link">&para;</a></h4> <ul> <li><strong>Garmin Connect</strong> (<code>garth</code>): Mocked using <code>sys.modules</code> patching with shared fixtures</li> <li><strong>User prompts</strong> (<code>questionary</code>): Mocked using <code>MockQuestion</code> helper class</li> <li><strong>File system</strong> (<code>platformdirs</code>): Automatically redirected to temp directories via <code>isolate_config_dirs</code></li> </ul> <div class="admonition note"> <p class=admonition-title>Why sys.modules for garth?</p> <p>The <code>garth</code> library is imported inside functions (lazy import), so we use <code>patch.dict('sys.modules')</code> to inject mock modules that get imported at runtime.</p> </div> <h3 id=running-tests>Running Tests<a class=headerlink href=#running-tests title="Permanent link">&para;</a></h3> <h4 id=using-the-helper-script>Using the Helper Script<a class=headerlink href=#using-the-helper-script title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=c1># Basic usage</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>python3<span class=w> </span>run_tests.py
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=c1># With coverage</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>python3<span class=w> </span>run_tests.py<span class=w> </span>--coverage
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=c1># HTML coverage report</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a>python3<span class=w> </span>run_tests.py<span class=w> </span>--html
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a><span class=c1># Verbose output</span>
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a>python3<span class=w> </span>run_tests.py<span class=w> </span>-v
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a>
</span><span id=__span-15-13><a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a><span class=c1># Specific test file</span>
</span><span id=__span-15-14><a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a>python3<span class=w> </span>run_tests.py<span class=w> </span>tests/test_fit_editor.py
</span><span id=__span-15-15><a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a>
</span><span id=__span-15-16><a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a><span class=c1># Specific test</span>
</span><span id=__span-15-17><a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a>python3<span class=w> </span>run_tests.py<span class=w> </span>tests/test_fit_editor.py::TestFitEditor::test_edit_tpv_fit_file
</span><span id=__span-15-18><a id=__codelineno-15-18 name=__codelineno-15-18 href=#__codelineno-15-18></a>
</span><span id=__span-15-19><a id=__codelineno-15-19 name=__codelineno-15-19 href=#__codelineno-15-19></a><span class=c1># Combined options</span>
</span><span id=__span-15-20><a id=__codelineno-15-20 name=__codelineno-15-20 href=#__codelineno-15-20></a>python3<span class=w> </span>run_tests.py<span class=w> </span>--coverage<span class=w> </span>--html<span class=w> </span>-v
</span></code></pre></div> <h4 id=using-pytest-directly>Using pytest Directly<a class=headerlink href=#using-pytest-directly title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=c1># Run all tests</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>uv<span class=w> </span>run<span class=w> </span>pytest<span class=w> </span>tests/
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=c1># With coverage</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>uv<span class=w> </span>run<span class=w> </span>pytest<span class=w> </span>tests/<span class=w> </span>--cov<span class=o>=</span>fit_file_faker<span class=w> </span>--cov-report<span class=o>=</span>html
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=c1># Verbose</span>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>uv<span class=w> </span>run<span class=w> </span>pytest<span class=w> </span>tests/<span class=w> </span>-v
</span></code></pre></div> <h3 id=continuous-integration>Continuous Integration<a class=headerlink href=#continuous-integration title="Permanent link">&para;</a></h3> <p>The test suite runs automatically on GitHub Actions for:</p> <ul> <li><strong>Python versions</strong>: 3.12, 3.13, 3.14</li> <li><strong>Operating systems</strong>: Ubuntu, macOS, Windows</li> <li><strong>Triggers</strong>: Push to main/develop/refactor branches, pull requests</li> </ul> <p>Workflow file: <code>.github/workflows/test.yml</code></p> <p>Coverage reports are uploaded to Codecov on successful Ubuntu + Python 3.12 runs.</p> <h3 id=adding-new-tests>Adding New Tests<a class=headerlink href=#adding-new-tests title="Permanent link">&para;</a></h3> <p>When adding support for a new platform:</p> <ol> <li>Add the FIT file to <code>tests/files/</code> (sanitize it of any personally identifiable information)</li> <li>Create a fixture in <code>conftest.py</code>: <div class="language-python highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=nd>@pytest</span><span class=o>.</span><span class=n>fixture</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=k>def</span><span class=w> </span><span class=nf>new_platform_fit_file</span><span class=p>(</span><span class=n>test_files_dir</span><span class=p>):</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>    <span class=k>return</span> <span class=n>test_files_dir</span> <span class=o>/</span> <span class=s2>&quot;new_platform.fit&quot;</span>
</span></code></pre></div></li> <li>Add a test in <code>test_fit_editor.py</code>: <div class="language-python highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=k>def</span><span class=w> </span><span class=nf>test_edit_new_platform_fit_file</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>fit_editor</span><span class=p>,</span> <span class=n>new_platform_fit_file</span><span class=p>,</span> <span class=n>temp_dir</span><span class=p>):</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>    <span class=n>output_file</span> <span class=o>=</span> <span class=n>temp_dir</span> <span class=o>/</span> <span class=s2>&quot;new_platform_modified.fit&quot;</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>    <span class=n>result</span> <span class=o>=</span> <span class=n>fit_editor</span><span class=o>.</span><span class=n>edit_fit</span><span class=p>(</span><span class=n>new_platform_fit_file</span><span class=p>,</span> <span class=n>output</span><span class=o>=</span><span class=n>output_file</span><span class=p>)</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>    <span class=k>assert</span> <span class=n>result</span> <span class=o>==</span> <span class=n>output_file</span>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>    <span class=k>assert</span> <span class=n>output_file</span><span class=o>.</span><span class=n>exists</span><span class=p>()</span>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a>
</span><span id=__span-18-8><a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>    <span class=c1># Verify modifications</span>
</span><span id=__span-18-9><a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a>    <span class=n>modified_fit</span> <span class=o>=</span> <span class=n>FitFile</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>output_file</span><span class=p>))</span>
</span><span id=__span-18-10><a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a>    <span class=k>for</span> <span class=n>record</span> <span class=ow>in</span> <span class=n>modified_fit</span><span class=o>.</span><span class=n>records</span><span class=p>:</span>
</span><span id=__span-18-11><a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>record</span><span class=o>.</span><span class=n>message</span><span class=p>,</span> <span class=n>FileIdMessage</span><span class=p>):</span>
</span><span id=__span-18-12><a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a>            <span class=k>assert</span> <span class=n>record</span><span class=o>.</span><span class=n>message</span><span class=o>.</span><span class=n>manufacturer</span> <span class=o>==</span> <span class=n>Manufacturer</span><span class=o>.</span><span class=n>GARMIN</span><span class=o>.</span><span class=n>value</span>
</span></code></pre></div></li> </ol> <h3 id=test-best-practices>Test Best Practices<a class=headerlink href=#test-best-practices title="Permanent link">&para;</a></h3> <ol> <li><strong>Always use fixtures</strong> for test data (don't hardcode paths)</li> <li><strong>Mock external services</strong> (no real network calls)</li> <li><strong>Use temp directories</strong> for output files</li> <li><strong>Test both success and failure</strong> paths</li> <li><strong>Keep tests independent</strong> (no shared state)</li> <li><strong>Use descriptive test names</strong> that explain what's being tested</li> <li><strong>Verify behavior, not implementation</strong> (test outcomes, not internals)</li> </ol> <h2 id=contributing>Contributing<a class=headerlink href=#contributing title="Permanent link">&para;</a></h2> <p>We welcome contributions! Here's how to get started:</p> <h3 id=contribution-workflow>Contribution Workflow<a class=headerlink href=#contribution-workflow title="Permanent link">&para;</a></h3> <ol> <li>Fork the repository</li> <li>Create a feature branch: <code>git checkout -b feature/your-feature-name</code></li> <li>Make your changes</li> <li>Run tests: <code>python3 run_tests.py --coverage</code></li> <li>Run linting: <code>ruff check . &amp;&amp; ruff format .</code></li> <li>Commit your changes following <a href=https://www.conventionalcommits.org/ >conventional commits</a></li> <li>Push to your fork: <code>git push origin feature/your-feature-name</code></li> <li>Open a Pull Request</li> </ol> <h3 id=commit-message-format>Commit Message Format<a class=headerlink href=#commit-message-format title="Permanent link">&para;</a></h3> <p>We use <a href=https://www.conventionalcommits.org/ >Conventional Commits</a> for automatic changelog generation. Commit messages are <strong>automatically validated</strong> by gitlint through pre-commit hooks.</p> <p><strong>Required format</strong>: <div class="language-text highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a>&lt;type&gt;: &lt;description&gt;
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>[optional body]
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>[optional footer]
</span></code></pre></div></p> <p><strong>Allowed types</strong>:</p> <ul> <li><code>feat:</code> New features</li> <li><code>minor-feat:</code> New minor features</li> <li><code>fix:</code> Bug fixes</li> <li><code>docs:</code> Documentation changes</li> <li><code>test:</code> Test additions or modifications</li> <li><code>refactor:</code> Code refactoring</li> <li><code>chore:</code> Maintenance tasks</li> <li><code>ci:</code> CI/CD changes</li> <li><code>build:</code> Build system changes</li> <li><code>perf:</code> Performance improvements</li> <li><code>style:</code> Code style changes</li> <li><code>revert:</code> Revert previous commits</li> </ul> <p><strong>Example</strong>: <div class="language-text highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a>feat: add support for COROS FIT files
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>Add manufacturer code recognition and device ID modification for COROS
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>devices to enable Garmin Connect Training Effect calculations.
</span></code></pre></div></p> <div class="admonition tip"> <p class=admonition-title>Commit Message Validation</p> <p>The pre-commit hook will reject commits that don't follow the conventional commits format. The hook configuration is in <code>.gitlint</code> and validates:</p> <ul> <li>Type is one of the allowed types</li> <li>Format follows <code>type(optional-scope): description</code></li> <li>Title is â‰¤100 characters</li> <li>Body is optional (not required)</li> </ul> </div> <h3 id=code-style>Code Style<a class=headerlink href=#code-style title="Permanent link">&para;</a></h3> <ul> <li>Follow PEP 8</li> <li>Use <code>ruff</code> for formatting and linting</li> <li>Maximum line length: 100 characters (configured in <code>pyproject.toml</code>)</li> <li>Use type hints where appropriate</li> </ul> <h3 id=pull-request-guidelines>Pull Request Guidelines<a class=headerlink href=#pull-request-guidelines title="Permanent link">&para;</a></h3> <ul> <li>Provide a clear description of the changes</li> <li>Reference any related issues</li> <li>Ensure all tests pass</li> <li>Maintain 100% code coverage</li> <li>Update documentation if needed</li> </ul> <h2 id=release-process>Release Process<a class=headerlink href=#release-process title="Permanent link">&para;</a></h2> <p>Releases are automated via <code>.github/workflows/publish_and_release.yml</code>:</p> <ol> <li>All pushes build the package and publish to TestPyPI</li> <li>Tag pushes (e.g., <code>v1.2.3</code>) trigger PyPI publication and GitHub Release creation</li> <li>Version is defined in <code>pyproject.toml</code> and must be manually updated before tagging</li> </ol> <h3 id=to-release-a-new-version>To Release a New Version<a class=headerlink href=#to-release-a-new-version title="Permanent link">&para;</a></h3> <p><strong>Option 1: Using the release script (Recommended)</strong></p> <p>The <code>release.sh</code> script automates the entire release process:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=c1># Interactive release with custom message</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>./release.sh<span class=w> </span><span class=m>2</span>.0.1<span class=w> </span><span class=s2>&quot;Fix changelog generation and dependencies&quot;</span>
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a>
</span><span id=__span-21-4><a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a><span class=c1># Quick release with default message</span>
</span><span id=__span-21-5><a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a>./release.sh<span class=w> </span><span class=m>2</span>.0.1
</span></code></pre></div> <p>The script will: 1. Validate version format and git status 2. Update version in <code>pyproject.toml</code> 3. Commit the version change 4. Create an annotated git tag 5. Push to origin (with confirmation prompts)</p> <p><strong>Option 2: Manual release</strong></p> <ol> <li> <p><strong>Update version</strong> in <code>pyproject.toml</code>: <div class="language-toml highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=n>version</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;1.2.5&quot;</span>
</span></code></pre></div></p> </li> <li> <p><strong>Commit the version change</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a>git<span class=w> </span>add<span class=w> </span>pyproject.toml
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a>git<span class=w> </span>commit<span class=w> </span>-m<span class=w> </span><span class=s2>&quot;chore: bump version to 1.2.5&quot;</span>
</span></code></pre></div></p> </li> <li> <p><strong>Create and push a git tag with a detailed message</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a>git<span class=w> </span>tag<span class=w> </span>v1.2.5<span class=w> </span>-m<span class=w> </span><span class=s2>&quot;Release v1.2.5: Add support for new platforms</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=s2>This release includes support for MyWhoosh and COROS devices, along with</span>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=s2>improved error handling and comprehensive test coverage.&quot;</span>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a>git<span class=w> </span>push<span class=w> </span>origin<span class=w> </span>main
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a>git<span class=w> </span>push<span class=w> </span>origin<span class=w> </span>v1.2.5
</span></code></pre></div></p> <div class="admonition tip"> <p class=admonition-title>Tag Messages in Changelog</p> <p>Detailed tag messages (using the <code>-m</code> flag) will be rendered in the auto-generated changelog and GitHub Release notes. Use this to provide release highlights, breaking changes, or upgrade instructions that won't fit in individual commit messages.</p> </div> </li> </ol> <p><strong>Automated steps</strong> (handled by GitHub Actions):</p> <p>After pushing the tag, GitHub Actions will automatically: - Build package - Publish to PyPI - Create GitHub Release - Generate changelog - Deploy documentation</p> <h3 id=version-numbering>Version Numbering<a class=headerlink href=#version-numbering title="Permanent link">&para;</a></h3> <p>We follow <a href=https://semver.org/ >Semantic Versioning</a>:</p> <ul> <li><strong>MAJOR</strong> (1.x.x): Breaking changes</li> <li><strong>MINOR</strong> (x.1.x): New features (backwards-compatible)</li> <li><strong>PATCH</strong> (x.x.1): Bug fixes (backwards-compatible)</li> </ul> <h2 id=documentation>Documentation<a class=headerlink href=#documentation title="Permanent link">&para;</a></h2> <p>The project has a comprehensive documentation site built with MkDocs Material and hosted on GitHub Pages.</p> <h3 id=documentation-site>Documentation Site<a class=headerlink href=#documentation-site title="Permanent link">&para;</a></h3> <ul> <li><strong>URL</strong>: <a href=https://jat255.github.io/Fit-File-Faker/ >https://jat255.github.io/Fit-File-Faker/</a></li> <li><strong>Framework</strong>: <a href=https://www.mkdocs.org/ >MkDocs</a> with <a href=https://squidfunk.github.io/mkdocs-material/ >Material theme</a></li> <li><strong>Deployment</strong>: Automated via GitHub Actions to <code>gh-pages</code> branch</li> <li><strong>Changelog</strong>: Auto-generated from git commits using <a href=https://git-cliff.org/ >git-cliff</a></li> </ul> <h3 id=documentation-structure>Documentation Structure<a class=headerlink href=#documentation-structure title="Permanent link">&para;</a></h3> <div class="language-text highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a>docs/
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a>â”œâ”€â”€ index.md              # Home page (user guide, from README.md)
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a>â”œâ”€â”€ developer-guide.md    # Developer guide (this file)
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a>â”œâ”€â”€ changelog.md          # Auto-generated changelog
</span><span id=__span-25-5><a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a>â””â”€â”€ assets/               # Images, custom CSS, and other assets
</span></code></pre></div> <h3 id=building-documentation-locally>Building Documentation Locally<a class=headerlink href=#building-documentation-locally title="Permanent link">&para;</a></h3> <h4 id=prerequisites_1>Prerequisites<a class=headerlink href=#prerequisites_1 title="Permanent link">&para;</a></h4> <p>Install documentation dependencies:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=c1># Using uv (recommended)</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a>uv<span class=w> </span>sync<span class=w> </span>--group<span class=w> </span>docs
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=c1># Using pip</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a>pip<span class=w> </span>install<span class=w> </span>mkdocs<span class=w> </span>mkdocs-material<span class=w> </span>mkdocs-minify-plugin
</span></code></pre></div> <h4 id=local-development>Local Development<a class=headerlink href=#local-development title="Permanent link">&para;</a></h4> <p><strong>Option 1: Using the build script (Recommended)</strong></p> <p>The <code>build_docs.sh</code> script generates the complete changelog (including historical releases) and builds/serves the documentation, mirroring the CI/CD workflow:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=c1># Build static documentation with changelog</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>./build_docs.sh
</span><span id=__span-27-3><a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a>
</span><span id=__span-27-4><a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=c1># Serve with live reload for development</span>
</span><span id=__span-27-5><a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a>./build_docs.sh<span class=w> </span>serve
</span><span id=__span-27-6><a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a>
</span><span id=__span-27-7><a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a><span class=c1># Opens at http://127.0.0.1:8000</span>
</span><span id=__span-27-8><a id=__codelineno-27-8 name=__codelineno-27-8 href=#__codelineno-27-8></a><span class=c1># Changes to docs/ files will automatically reload the browser</span>
</span></code></pre></div> <p><strong>Option 2: Using mkdocs directly</strong></p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=c1># Serve documentation locally with live reload</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a>uv<span class=w> </span>run<span class=w> </span>mkdocs<span class=w> </span>serve
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=c1># Opens at http://127.0.0.1:8000</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class=c1># Changes to docs/ files will automatically reload the browser</span>
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Changelog Generation</p> <p>When using <code>mkdocs serve</code> directly, the changelog won't be regenerated. Use <code>./build_docs.sh serve</code> to include the latest changelog in your local preview.</p> </div> <h4 id=build-static-site>Build Static Site<a class=headerlink href=#build-static-site title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=c1># Using the build script (includes changelog generation)</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a>./build_docs.sh
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=c1># Or build directly with mkdocs (without changelog update)</span>
</span><span id=__span-29-5><a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a>mkdocs<span class=w> </span>build
</span><span id=__span-29-6><a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a>
</span><span id=__span-29-7><a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a><span class=c1># The generated site can be found in the site/ directory</span>
</span></code></pre></div> <h4 id=deploy-to-github-pages>Deploy to GitHub Pages<a class=headerlink href=#deploy-to-github-pages title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=c1># Deploy to gh-pages branch (requires push access)</span>
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a>mkdocs<span class=w> </span>gh-deploy
</span></code></pre></div> <div class="admonition warning"> <p class=admonition-title>Manual Deployment</p> <p>Manual deployment via <code>mkdocs gh-deploy</code> is rarely needed since documentation is automatically deployed by GitHub Actions. Only use this if the automated deployment fails.</p> </div> <h3 id=documentation-automation>Documentation Automation<a class=headerlink href=#documentation-automation title="Permanent link">&para;</a></h3> <p>Documentation automatically rebuilds and deploys in two scenarios:</p> <h4 id=1-documentation-changes>1. Documentation Changes<a class=headerlink href=#1-documentation-changes title="Permanent link">&para;</a></h4> <p>When changes are pushed to <code>main</code> branch that affect: - <code>docs/**</code> (any documentation files) - <code>mkdocs.yml</code> (MkDocs configuration) - <code>pyproject.toml</code> (contains git-cliff changelog generation config)</p> <p><strong>Workflow</strong>: <code>.github/workflows/docs.yml</code></p> <p>This workflow:</p> <ol> <li>Checks out the repository</li> <li>Sets up Python and installs dependencies</li> <li>Builds the documentation with <code>mkdocs build</code></li> <li>Deploys to GitHub Pages (<code>gh-pages</code> branch)</li> </ol> <h4 id=2-release-process>2. Release Process<a class=headerlink href=#2-release-process title="Permanent link">&para;</a></h4> <p>After a new release is created (when a tag like <code>v1.2.5</code> is pushed):</p> <p><strong>Workflow</strong>: <code>.github/workflows/publish_and_release.yml</code></p> <p>This workflow:</p> <ol> <li>Builds and publishes the package to PyPI</li> <li>Creates a GitHub Release</li> <li>Generates the changelog using <code>git-cliff</code></li> <li>Deploys updated documentation</li> </ol> <h3 id=changelog-generation>Changelog Generation<a class=headerlink href=#changelog-generation title="Permanent link">&para;</a></h3> <p>The changelog is automatically generated using <a href=https://git-cliff.org/ >git-cliff</a> based on conventional commit messages.</p> <h4 id=configuration>Configuration<a class=headerlink href=#configuration title="Permanent link">&para;</a></h4> <p>Changelog generation is configured in <code>pyproject.toml</code> under the <code>[tool.git-cliff.*]</code> sections:</p> <ul> <li><strong>Commit parsers</strong>: Categorize commits by type (feat, fix, docs, etc.)</li> <li><strong>Format</strong>: Markdown with links to commits and releases</li> <li><strong>Sections</strong>: Features, Bug Fixes, Documentation, etc.</li> <li><strong>Skipped tags</strong>: Old releases (v1.0.0 - v1.2.4) that predate conventional commits</li> </ul> <h4 id=historical-releases>Historical Releases<a class=headerlink href=#historical-releases title="Permanent link">&para;</a></h4> <p>The project adopted conventional commits starting with v1.3.0. Earlier releases (v1.0.0 - v1.2.4) don't follow this format, so they are handled specially:</p> <p><strong>Configuration in <code>pyproject.toml</code>:</strong> <div class="language-toml highlight"><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=k>[tool.git-cliff.git]</span>
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a><span class=c1># Skip old tags that predate conventional commits</span>
</span><span id=__span-31-3><a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a><span class=n>skip_tags</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;v0.0.1-beta.1|v1.0.0|v1.0.1|v1.0.2|v1.0.3|v1.1.0|v1.1.1|v1.2.0|v1.2.1|v1.2.2|v1.2.3|v1.2.4&quot;</span>
</span></code></pre></div></p> <p><strong>Workflow integration:</strong></p> <ol> <li>Git-cliff generates the changelog from conventional commits only (v1.3.0+)</li> <li>The historical changelog from <code>docs/.changelog_pre_1.3.0.md</code> is appended</li> <li>Result: Complete changelog with both new and legacy releases</li> </ol> <p>This approach: - âœ… Keeps the generated changelog clean with conventional commits - âœ… Preserves historical release information - âœ… Works automatically in both CI/CD and local builds (<code>./build_docs.sh</code>)</p> <h4 id=conventional-commits>Conventional Commits<a class=headerlink href=#conventional-commits title="Permanent link">&para;</a></h4> <p>For commits to appear in the changelog, they must follow the <a href=https://www.conventionalcommits.org/ >Conventional Commits</a> format:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a>&lt;type&gt;: &lt;description&gt;
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a>
</span><span id=__span-32-3><a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>[optional body]
</span><span id=__span-32-4><a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a>
</span><span id=__span-32-5><a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a>[optional footer]
</span></code></pre></div> <p><strong>Types</strong>:</p> <ul> <li><code>feat:</code> - New features</li> <li><code>minor-feat:</code> - New minor features</li> <li><code>fix:</code> - Bug fixes</li> <li><code>docs:</code> - Documentation changes</li> <li><code>test:</code> - Test additions or modifications</li> <li><code>refactor:</code> - Code refactoring</li> <li><code>chore:</code> - Maintenance tasks</li> <li><code>ci:</code> - CI/CD changes</li> <li><code>build:</code> - Build system changes</li> </ul> <p><strong>Example</strong>: <div class="language-text highlight"><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a>feat: add support for COROS FIT files
</span><span id=__span-33-2><a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a>
</span><span id=__span-33-3><a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a>Add lenient field size validation to handle malformed FIT files from
</span><span id=__span-33-4><a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a>COROS devices. This enables Training Effect calculations for COROS
</span><span id=__span-33-5><a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a>activities uploaded to Garmin Connect.
</span></code></pre></div></p> <h4 id=manual-changelog-generation>Manual Changelog Generation<a class=headerlink href=#manual-changelog-generation title="Permanent link">&para;</a></h4> <p>To generate the changelog locally (for testing):</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=c1># Install git-cliff</span>
</span><span id=__span-34-2><a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>cargo<span class=w> </span>install<span class=w> </span>git-cliff
</span><span id=__span-34-3><a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a><span class=c1># or</span>
</span><span id=__span-34-4><a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a>brew<span class=w> </span>install<span class=w> </span>git-cliff
</span><span id=__span-34-5><a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a>
</span><span id=__span-34-6><a id=__codelineno-34-6 name=__codelineno-34-6 href=#__codelineno-34-6></a><span class=c1># Generate changelog (reads config from pyproject.toml automatically)</span>
</span><span id=__span-34-7><a id=__codelineno-34-7 name=__codelineno-34-7 href=#__codelineno-34-7></a>git<span class=w> </span>cliff<span class=w> </span>--output<span class=w> </span>docs/changelog.md
</span><span id=__span-34-8><a id=__codelineno-34-8 name=__codelineno-34-8 href=#__codelineno-34-8></a>
</span><span id=__span-34-9><a id=__codelineno-34-9 name=__codelineno-34-9 href=#__codelineno-34-9></a><span class=c1># Generate changelog for specific version range</span>
</span><span id=__span-34-10><a id=__codelineno-34-10 name=__codelineno-34-10 href=#__codelineno-34-10></a>git<span class=w> </span>cliff<span class=w> </span>--output<span class=w> </span>docs/changelog.md<span class=w> </span>v1.3.0..HEAD
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Github API limits</p> <p><code>git cliff</code> will make requests to the Github API to get information about various bits of information, and without authentication, the API limit is very low, so you may see errors such as: <div class="language-text highlight"><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a>thread &#39;main&#39; (37956221) panicked at git-cliff-core/src/changelog.rs:558:18:
</span><span id=__span-35-2><a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a>Could not get github metadata: HttpClientError(reqwest::Error { kind: Status(403, None), url: &quot;https://api.github.com/repos/jat255/Fit-File-Faker/commits?per_page=100&amp;page=0&amp;sha=v1.2.3&quot; })
</span><span id=__span-35-3><a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a>note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</span></code></pre></div> To work around this, you can either generate a Github access token and provide it via the <code>GITHUB_TOKEN</code> environment variable, or to do this dynamically with the <a href=https://cli.github.com/ >Github CLI</a>, you can run a command such as <code>$ gh auth token | GITHUB_TOKEN=$(cat) git cliff v1.0.2..v1.2.4</code></p> </div> <h3 id=documentation-best-practices>Documentation Best Practices<a class=headerlink href=#documentation-best-practices title="Permanent link">&para;</a></h3> <p>When contributing to documentation:</p> <ol> <li><strong>Write in Markdown</strong>: Use standard Markdown with MkDocs Material extensions</li> <li><strong>Use admonitions</strong>: Highlight important information with note/warning/tip boxes <div class="language-markdown highlight"><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a>!!! note &quot;Important Information&quot;
</span><span id=__span-36-2><a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a>    This is a note with important information.
</span></code></pre></div></li> <li> <p><strong>Code blocks</strong>: Always specify language for syntax highlighting <div class="language-markdown highlight"><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=sb>```python</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=k>def</span><span class=w> </span><span class=nf>example</span><span class=p>():</span>
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a>    <span class=k>pass</span>
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=sb>```</span>
</span></code></pre></div> will render as: <div class="language-python highlight"><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=k>def</span><span class=w> </span><span class=nf>example</span><span class=p>():</span>
</span><span id=__span-38-2><a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a>    <span class=k>pass</span>
</span></code></pre></div></p> </li> <li> <p><strong>Link to code</strong>: Use relative links for internal documentation</p> </li> <li><strong>Test locally</strong>: Always run <code>mkdocs serve</code> to preview changes</li> <li><strong>Keep synchronized</strong>: Ensure README.md and docs/index.md stay in sync for the user guide</li> </ol> <h3 id=mkdocs-configuration>MkDocs Configuration<a class=headerlink href=#mkdocs-configuration title="Permanent link">&para;</a></h3> <p>The site is configured in <code>mkdocs.yml</code>:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-39-1><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=nt>site_name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">FIT File Faker</span>
</span><span id=__span-39-2><a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a><span class=nt>theme</span><span class=p>:</span>
</span><span id=__span-39-3><a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">material</span>
</span><span id=__span-39-4><a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a><span class=w>  </span><span class=c1># ... theme configuration</span>
</span><span id=__span-39-5><a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a>
</span><span id=__span-39-6><a id=__codelineno-39-6 name=__codelineno-39-6 href=#__codelineno-39-6></a><span class=nt>nav</span><span class=p>:</span>
</span><span id=__span-39-7><a id=__codelineno-39-7 name=__codelineno-39-7 href=#__codelineno-39-7></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>Home</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">index.md</span>
</span><span id=__span-39-8><a id=__codelineno-39-8 name=__codelineno-39-8 href=#__codelineno-39-8></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>Developer Guide</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">developer-guide.md</span>
</span><span id=__span-39-9><a id=__codelineno-39-9 name=__codelineno-39-9 href=#__codelineno-39-9></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>API Reference</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">api.md</span>
</span><span id=__span-39-10><a id=__codelineno-39-10 name=__codelineno-39-10 href=#__codelineno-39-10></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>Changelog</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">changelog.md</span>
</span><span id=__span-39-11><a id=__codelineno-39-11 name=__codelineno-39-11 href=#__codelineno-39-11></a>
</span><span id=__span-39-12><a id=__codelineno-39-12 name=__codelineno-39-12 href=#__codelineno-39-12></a><span class=nt>plugins</span><span class=p>:</span>
</span><span id=__span-39-13><a id=__codelineno-39-13 name=__codelineno-39-13 href=#__codelineno-39-13></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">search</span><span class=w>                      </span><span class=c1># Built-in search</span>
</span><span id=__span-39-14><a id=__codelineno-39-14 name=__codelineno-39-14 href=#__codelineno-39-14></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>minify</span><span class=p>:</span><span class=w>                     </span><span class=c1># Minify HTML/CSS/JS</span>
</span><span id=__span-39-15><a id=__codelineno-39-15 name=__codelineno-39-15 href=#__codelineno-39-15></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</span><span id=__span-39-16><a id=__codelineno-39-16 name=__codelineno-39-16 href=#__codelineno-39-16></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">autorefs</span><span class=w>                    </span><span class=c1># cross reference support</span>
</span><span id=__span-39-17><a id=__codelineno-39-17 name=__codelineno-39-17 href=#__codelineno-39-17></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>mkdocstrings</span><span class=p>:</span><span class=w>               </span><span class=c1># auto generation of API docs</span>
</span><span id=__span-39-18><a id=__codelineno-39-18 name=__codelineno-39-18 href=#__codelineno-39-18></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</span></code></pre></div> <p>Key features:</p> <ul> <li><strong>Material theme</strong>: Modern, responsive design</li> <li><strong>Search</strong>: Built-in search functionality</li> <li><strong>Minification</strong>: Optimized HTML/CSS/JS output</li> <li><strong>Code highlighting</strong>: Syntax highlighting for all code blocks</li> <li><strong>Navigation</strong>: Organized sidebar navigation</li> </ul> <h3 id=troubleshooting-documentation>Troubleshooting Documentation<a class=headerlink href=#troubleshooting-documentation title="Permanent link">&para;</a></h3> <h4 id=local-build-fails>Local build fails<a class=headerlink href=#local-build-fails title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><pre><span></span><code><span id=__span-40-1><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=c1># Ensure dependencies are installed</span>
</span><span id=__span-40-2><a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a>uv<span class=w> </span>sync<span class=w> </span>--group<span class=w> </span>docs
</span><span id=__span-40-3><a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a>
</span><span id=__span-40-4><a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a><span class=c1># Clear MkDocs cache</span>
</span><span id=__span-40-5><a id=__codelineno-40-5 name=__codelineno-40-5 href=#__codelineno-40-5></a>rm<span class=w> </span>-rf<span class=w> </span>site/
</span><span id=__span-40-6><a id=__codelineno-40-6 name=__codelineno-40-6 href=#__codelineno-40-6></a>
</span><span id=__span-40-7><a id=__codelineno-40-7 name=__codelineno-40-7 href=#__codelineno-40-7></a><span class=c1># Rebuild</span>
</span><span id=__span-40-8><a id=__codelineno-40-8 name=__codelineno-40-8 href=#__codelineno-40-8></a>mkdocs<span class=w> </span>build
</span></code></pre></div> <h4 id=changes-not-appearing-on-github-pages>Changes not appearing on GitHub Pages<a class=headerlink href=#changes-not-appearing-on-github-pages title="Permanent link">&para;</a></h4> <ol> <li>Check the GitHub Actions workflow status</li> <li>Ensure the <code>gh-pages</code> branch exists</li> <li>Verify GitHub Pages is enabled in repository settings</li> <li>Wait a few minutes for deployment to propagate</li> </ol> <h4 id=changelog-not-updating>Changelog not updating<a class=headerlink href=#changelog-not-updating title="Permanent link">&para;</a></h4> <ol> <li>Ensure commits follow conventional commit format</li> <li>Check git-cliff configuration in <code>pyproject.toml</code> under <code>[tool.git-cliff.*]</code> sections</li> <li>Verify the release workflow completed successfully</li> </ol> <h2 id=resources>Resources<a class=headerlink href=#resources title="Permanent link">&para;</a></h2> <ul> <li><strong>GitHub Repository</strong>: <a href=https://github.com/jat255/Fit-File-Faker>jat255/Fit-File-Faker</a></li> <li><strong>PyPI Package</strong>: <a href=https://pypi.org/project/fit-file-faker/ >fit-file-faker</a></li> <li><strong>Issue Tracker</strong>: <a href=https://github.com/jat255/Fit-File-Faker/issues>GitHub Issues</a></li> <li><strong>pytest Documentation</strong>: <a href=https://docs.pytest.org/ >https://docs.pytest.org/</a></li> <li><strong>GitHub Actions</strong>: <code>.github/workflows/</code></li> </ul> <h2 id=getting-help>Getting Help<a class=headerlink href=#getting-help title="Permanent link">&para;</a></h2> <p>If you need help:</p> <ol> <li>Check the <a href=../ >documentation</a></li> <li>Search <a href=https://github.com/jat255/Fit-File-Faker/issues>existing issues</a></li> <li>Create a <a href=https://github.com/jat255/Fit-File-Faker/issues/new/choose>new issue</a></li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>As this is a side-project provided for free, support times may vary ðŸ˜….</p> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 - 2026 Josh Taillon </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/jat255 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://pypi.org/project/fit-file-faker/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>