<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Edit FIT files to appear as Garmin devices and upload to Garmin Connect"><meta name=author content="Josh Taillon"><link href=https://jat255.github.io/Fit-File-Faker/api/ rel=canonical><link href=../developer-guide/ rel=prev><link href=../changelog/ rel=next><link rel=icon href=../assets/logo.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>API Reference - FIT File Faker</title><link rel=stylesheet href=../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/_mkdocstrings.css><link rel=stylesheet href=../assets/custom.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#api-reference class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="FIT File Faker" class="md-header__button md-logo" aria-label="FIT File Faker" data-md-component=logo> <img src=../assets/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> FIT File Faker </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> API Reference </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/jat255/Fit-File-Faker title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> jat255/Fit-File-Faker </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="FIT File Faker" class="md-nav__button md-logo" aria-label="FIT File Faker" data-md-component=logo> <img src=../assets/logo.svg alt=logo> </a> FIT File Faker </label> <div class=md-nav__source> <a href=https://github.com/jat255/Fit-File-Faker title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> jat255/Fit-File-Faker </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../profiles/ class=md-nav__link> <span class=md-ellipsis> Multi-Profile Guide </span> </a> </li> <li class=md-nav__item> <a href=../developer-guide/ class=md-nav__link> <span class=md-ellipsis> Developer Guide </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> API Reference </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#main-application-interface-apppy class=md-nav__link> <span class=md-ellipsis> Main Application interface (app.py) </span> </a> <nav class=md-nav aria-label="Main Application interface (app.py)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.app.NewFileEventHandler class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NewFileEventHandler </span> </a> <nav class=md-nav aria-label= NewFileEventHandler> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.app.NewFileEventHandler.on_created class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;on_created </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.NewFileEventHandler.on_modified class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;on_modified </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.get_garth_dir class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_garth_dir </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.monitor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;monitor </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.run class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;run </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.select_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;select_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.upload class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;upload </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.upload_all class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;upload_all </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit-editor-fit_editorpy class=md-nav__link> <span class=md-ellipsis> FIT Editor (fit_editor.py) </span> </a> <nav class=md-nav aria-label="FIT Editor (fit_editor.py)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FitEditor </span> </a> <nav class=md-nav aria-label= FitEditor> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor.edit_fit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;edit_fit </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor.rewrite_file_id_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;rewrite_file_id_message </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor.get_date_from_fit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_date_from_fit </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor.strip_unknown_fields class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;strip_unknown_fields </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor._should_modify_manufacturer class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;_should_modify_manufacturer </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor._should_modify_device_info class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;_should_modify_device_info </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration-configpy class=md-nav__link> <span class=md-ellipsis> Configuration (config.py) </span> </a> <nav class=md-nav aria-label="Configuration (config.py)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.config.AppType class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AppType </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Config </span> </a> <nav class=md-nav aria-label= Config> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.config.Config.__post_init__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__post_init__ </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Config.get_default_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_default_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Config.get_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_profile </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ConfigManager </span> </a> <nav class=md-nav aria-label= ConfigManager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager._load_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;_load_config </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager.build_config_file class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;build_config_file </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager.get_config_file_path class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_config_file_path </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager.is_valid class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_valid </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager.save_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_config </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.GarminDeviceInfo class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GarminDeviceInfo </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.PathEncoder class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PathEncoder </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Profile </span> </a> <nav class=md-nav aria-label= Profile> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.config.Profile.__post_init__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__post_init__ </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Profile.get_device_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_device_name </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Profile.get_manufacturer_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_manufacturer_name </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Profile.validate_serial_number class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;validate_serial_number </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ProfileManager </span> </a> <nav class=md-nav aria-label= ProfileManager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.create_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.create_profile_wizard class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_profile_wizard </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.delete_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.delete_profile_wizard class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_profile_wizard </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.display_profiles_table class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;display_profiles_table </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.edit_profile_wizard class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;edit_profile_wizard </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.get_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.interactive_menu class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;interactive_menu </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.list_profiles class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_profiles </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.set_default_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_default_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.set_default_wizard class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_default_wizard </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.update_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_profile </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.get_fitfiles_path class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_fitfiles_path </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.get_supported_garmin_devices class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_supported_garmin_devices </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.get_tpv_folder class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_tpv_folder </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.migrate_legacy_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;migrate_legacy_config </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#utilities-utilspy class=md-nav__link> <span class=md-ellipsis> Utilities (utils.py) </span> </a> <nav class=md-nav aria-label="Utilities (utils.py)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.utils class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;utils </span> </a> <nav class=md-nav aria-label= utils> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.utils._lenient_get_length_from_size class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;_lenient_get_length_from_size </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.utils.apply_fit_tool_patch class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;apply_fit_tool_patch </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.utils.fit_crc_get16 class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fit_crc_get16 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#main-application-interface-apppy class=md-nav__link> <span class=md-ellipsis> Main Application interface (app.py) </span> </a> <nav class=md-nav aria-label="Main Application interface (app.py)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.app.NewFileEventHandler class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;NewFileEventHandler </span> </a> <nav class=md-nav aria-label= NewFileEventHandler> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.app.NewFileEventHandler.on_created class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;on_created </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.NewFileEventHandler.on_modified class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;on_modified </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.get_garth_dir class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_garth_dir </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.monitor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;monitor </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.run class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;run </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.select_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;select_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.upload class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;upload </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.app.upload_all class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;upload_all </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit-editor-fit_editorpy class=md-nav__link> <span class=md-ellipsis> FIT Editor (fit_editor.py) </span> </a> <nav class=md-nav aria-label="FIT Editor (fit_editor.py)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FitEditor </span> </a> <nav class=md-nav aria-label= FitEditor> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor.edit_fit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;edit_fit </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor.rewrite_file_id_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;rewrite_file_id_message </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor.get_date_from_fit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_date_from_fit </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor.strip_unknown_fields class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;strip_unknown_fields </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor._should_modify_manufacturer class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;_should_modify_manufacturer </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.fit_editor.FitEditor._should_modify_device_info class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;_should_modify_device_info </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration-configpy class=md-nav__link> <span class=md-ellipsis> Configuration (config.py) </span> </a> <nav class=md-nav aria-label="Configuration (config.py)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.config.AppType class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AppType </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Config </span> </a> <nav class=md-nav aria-label= Config> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.config.Config.__post_init__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__post_init__ </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Config.get_default_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_default_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Config.get_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_profile </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ConfigManager </span> </a> <nav class=md-nav aria-label= ConfigManager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager._load_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;_load_config </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager.build_config_file class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;build_config_file </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager.get_config_file_path class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_config_file_path </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager.is_valid class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_valid </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ConfigManager.save_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save_config </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.GarminDeviceInfo class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GarminDeviceInfo </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.PathEncoder class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PathEncoder </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Profile </span> </a> <nav class=md-nav aria-label= Profile> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.config.Profile.__post_init__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__post_init__ </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Profile.get_device_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_device_name </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Profile.get_manufacturer_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_manufacturer_name </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.Profile.validate_serial_number class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;validate_serial_number </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ProfileManager </span> </a> <nav class=md-nav aria-label= ProfileManager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.create_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.create_profile_wizard class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_profile_wizard </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.delete_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.delete_profile_wizard class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete_profile_wizard </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.display_profiles_table class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;display_profiles_table </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.edit_profile_wizard class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;edit_profile_wizard </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.get_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.interactive_menu class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;interactive_menu </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.list_profiles class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_profiles </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.set_default_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_default_profile </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.set_default_wizard class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_default_wizard </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.ProfileManager.update_profile class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_profile </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.get_fitfiles_path class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_fitfiles_path </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.get_supported_garmin_devices class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_supported_garmin_devices </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.get_tpv_folder class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_tpv_folder </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.config.migrate_legacy_config class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;migrate_legacy_config </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#utilities-utilspy class=md-nav__link> <span class=md-ellipsis> Utilities (utils.py) </span> </a> <nav class=md-nav aria-label="Utilities (utils.py)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.utils class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;utils </span> </a> <nav class=md-nav aria-label= utils> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fit_file_faker.utils._lenient_get_length_from_size class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;_lenient_get_length_from_size </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.utils.apply_fit_tool_patch class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;apply_fit_tool_patch </span> </a> </li> <li class=md-nav__item> <a href=#fit_file_faker.utils.fit_crc_get16 class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fit_crc_get16 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/jat255/Fit-File-Faker/edit/main/docs/api.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <h1 id=api-reference>API Reference<a class=headerlink href=#api-reference title="Permanent link">&para;</a></h1> <p>This page documents the public API for Fit File Faker.</p> <h2 id=main-application-interface-apppy>Main Application interface (<code>app.py</code>)<a class=headerlink href=#main-application-interface-apppy title="Permanent link">&para;</a></h2> <div class="doc doc-object doc-module"> <div class="doc doc-contents first"> <p>Main application module for Fit File Faker.</p> <p>This module provides the command-line interface and core application logic for modifying FIT files and uploading them to Garmin Connect. It simulates a Garmin Edge 830 device (by default) to enable Training Effect calculations for activities from non-Garmin sources.</p> <p>The module includes:</p> <ul> <li>CLI argument parsing and validation</li> <li>FIT file upload to Garmin Connect with OAuth authentication</li> <li>Batch processing of multiple FIT files</li> <li>Directory monitoring for automatic processing of new files</li> <li>Rich console output with colored logs</li> </ul> <p>Typical usage:</p> <div class="language-text highlight"><pre><span></span><code>$ fit-file-faker --config-menu         # Initial setup
$ fit-file-faker activity.fit          # Edit single file
$ fit-file-faker -u activity.fit       # Edit and upload
$ fit-file-faker -ua                   # Upload all new files
$ fit-file-faker -m                    # Monitor directory
</code></pre></div> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h3 id=fit_file_faker.app.NewFileEventHandler class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">NewFileEventHandler</span> <a href=#fit_file_faker.app.NewFileEventHandler class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>NewFileEventHandler</span><span class=p>(</span><span class=n>profile</span><span class=p>:</span> <span class=n>Profile</span><span class=p>,</span> <span class=n>dryrun</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=watchdog.events.PatternMatchingEventHandler>PatternMatchingEventHandler</span></code></p> <p>Event handler for monitoring directory changes and processing new FIT files.</p> <p>Extends watchdog's PatternMatchingEventHandler to automatically process and upload new FIT files as they're created in the monitored directory. Also handles file modification events for MyWhoosh files that follow the pattern "MyNewActivity-*.fit", as MyWhoosh overwrites the same file on completion rather than creating a new file.</p> <p>Includes a 5-second delay to ensure the file is fully written before processing.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=fit_file_faker.app.NewFileEventHandler.dryrun>dryrun</span></code></td> <td> </td> <td> <div class=doc-md-description> <p>If <code>True</code>, detects files but doesn't process them. Useful for testing.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.app.NewFileEventHandler.profile>profile</span></code></td> <td> </td> <td> <div class=doc-md-description> <p>The profile to use for uploading files.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Typically used via monitor() function, but can be instantiated directly:</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>watchdog.observers.polling</span><span class=w> </span><span class=kn>import</span> <span class=n>PollingObserver</span> <span class=k>as</span> <span class=n>Observer</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>handler</span> <span class=o>=</span> <span class=n>NewFileEventHandler</span><span class=p>(</span><span class=n>profile</span><span class=o>=</span><span class=n>profile</span><span class=p>,</span> <span class=n>dryrun</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>observer</span> <span class=o>=</span> <span class=n>Observer</span><span class=p>()</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>observer</span><span class=o>.</span><span class=n>schedule</span><span class=p>(</span><span class=n>handler</span><span class=p>,</span> <span class=s2>&quot;/path/to/fitfiles&quot;</span><span class=p>,</span> <span class=n>recursive</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>observer</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span></code></pre></div> <p>Initialize the file event handler.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>profile</code> </td> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a></code> </td> <td> <div class=doc-md-description> <p>The profile to use for uploading files.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>dryrun</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If <code>True</code>, log file detections but don't process them. Defaults to <code>False</code>.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/app.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>profile</span><span class=p>:</span> <span class=n>Profile</span><span class=p>,</span> <span class=n>dryrun</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>):</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize the file event handler.</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a><span class=sd>    Args:</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a><span class=sd>        profile: The profile to use for uploading files.</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a><span class=sd>        dryrun: If `True`, log file detections but don&#39;t process them.</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a><span class=sd>            Defaults to `False`.</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Creating NewFileEventHandler with </span><span class=si>{</span><span class=n>dryrun</span><span class=si>=}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>        <span class=n>patterns</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;*.fit&quot;</span><span class=p>,</span> <span class=s2>&quot;MyNewActivity-*.fit&quot;</span><span class=p>],</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>        <span class=n>ignore_directories</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>        <span class=n>case_sensitive</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>    <span class=p>)</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profile</span> <span class=o>=</span> <span class=n>profile</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>    <span class=bp>self</span><span class=o>.</span><span class=n>dryrun</span> <span class=o>=</span> <span class=n>dryrun</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.app.NewFileEventHandler.on_created class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">on_created</span> <a href=#fit_file_faker.app.NewFileEventHandler.on_created class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>on_created</span><span class=p>(</span><span class=n>event</span><span class=p>:</span> <span class=n>FileCreatedEvent</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Handle file creation events.</p> <p>Called by watchdog when a new <code>.fit</code> file is created in the monitored directory. Waits 5 seconds to ensure the file is fully written, then processes all new files in the directory via <a class="autorefs autorefs-internal" title="            upload_all" href=#fit_file_faker.app.upload_all><code>upload_all()</code></a>.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>event</code> </td> <td> <code><span title=watchdog.events.FileCreatedEvent>FileCreatedEvent</span></code> </td> <td> <div class=doc-md-description> <p>The file system event containing the path to the new file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>The 5-second delay is necessary because TrainingPeaks Virtual may still be writing to the file when the creation event fires. Without this delay, the file might be incomplete or corrupt.</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/app.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a><span class=k>def</span><span class=w> </span><span class=nf>on_created</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>:</span> <span class=n>FileCreatedEvent</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Handle file creation events.</span>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a><span class=sd>    Called by watchdog when a new `.fit` file is created in the monitored</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a><span class=sd>    directory. Waits 5 seconds to ensure the file is fully written, then</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a><span class=sd>    processes all new files in the directory via</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a><span class=sd>    [`upload_all()`][fit_file_faker.app.upload_all].</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154></a><span class=sd>    Args:</span>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a><span class=sd>        event: The file system event containing the path to the new file.</span>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a><span class=sd>    Note:</span>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158></a><span class=sd>        The 5-second delay is necessary because TrainingPeaks Virtual may</span>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a><span class=sd>        still be writing to the file when the creation event fires. Without</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a><span class=sd>        this delay, the file might be incomplete or corrupt.</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163></a>        <span class=sa>f</span><span class=s1>&#39;New file detected - &quot;</span><span class=si>{</span><span class=n>event</span><span class=o>.</span><span class=n>src_path</span><span class=si>}</span><span class=s1>&quot;; sleeping for 5 seconds &#39;</span>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a>        <span class=s2>&quot;to ensure TPV finishes writing file&quot;</span>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a>    <span class=p>)</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>dryrun</span><span class=p>:</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a>        <span class=c1># Wait for a short time to make sure TPV has finished writing to the file</span>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a>        <span class=c1># Run the upload all function</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>        <span class=n>p</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>src_path</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>p</span><span class=p>,</span> <span class=nb>bytes</span><span class=p>):</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>            <span class=n>p</span> <span class=o>=</span> <span class=n>p</span><span class=o>.</span><span class=n>decode</span><span class=p>()</span>  <span class=c1># pragma: no cover</span>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a>        <span class=n>p</span> <span class=o>=</span> <span class=n>cast</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>p</span><span class=p>)</span>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a>        <span class=n>upload_all</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>absolute</span><span class=p>(),</span> <span class=n>profile</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=p>)</span>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a>            <span class=s2>&quot;Found new file, but not processing because dryrun was requested&quot;</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a>        <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.app.NewFileEventHandler.on_modified class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">on_modified</span> <a href=#fit_file_faker.app.NewFileEventHandler.on_modified class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>on_modified</span><span class=p>(</span><span class=n>event</span><span class=p>:</span> <span class=n>FileModifiedEvent</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Handle file modification events.</p> <p>Called by watchdog when a <code>.fit</code> file is modified in the monitored directory. This is specifically useful for MyWhoosh files that follow the pattern "MyNewActivity-*.fit", as MyWhoosh overwrites the same file on completion rather than creating a new file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>event</code> </td> <td> <code><span title=watchdog.events.FileModifiedEvent>FileModifiedEvent</span></code> </td> <td> <div class=doc-md-description> <p>The file system event containing the path to the modified file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>Waits 5 seconds to ensure the file is fully written, similar to the creation event handler. This handles the case where MyWhoosh overwrites existing files. Only processes the specific modified file rather than all files in the directory.</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/app.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span>
<span class=normal><a href=#__codelineno-0-183>183</a></span>
<span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span>
<span class=normal><a href=#__codelineno-0-231>231</a></span>
<span class=normal><a href=#__codelineno-0-232>232</a></span>
<span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a><span class=k>def</span><span class=w> </span><span class=nf>on_modified</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>:</span> <span class=n>FileModifiedEvent</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Handle file modification events.</span>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182></a>
</span><span id=__span-0-183><a id=__codelineno-0-183 name=__codelineno-0-183></a><span class=sd>    Called by watchdog when a `.fit` file is modified in the monitored</span>
</span><span id=__span-0-184><a id=__codelineno-0-184 name=__codelineno-0-184></a><span class=sd>    directory. This is specifically useful for MyWhoosh files that follow</span>
</span><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185></a><span class=sd>    the pattern &quot;MyNewActivity-*.fit&quot;, as MyWhoosh overwrites the same file</span>
</span><span id=__span-0-186><a id=__codelineno-0-186 name=__codelineno-0-186></a><span class=sd>    on completion rather than creating a new file.</span>
</span><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187></a>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188></a><span class=sd>    Args:</span>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a><span class=sd>        event: The file system event containing the path to the modified file.</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191></a><span class=sd>    Note:</span>
</span><span id=__span-0-192><a id=__codelineno-0-192 name=__codelineno-0-192></a><span class=sd>        Waits 5 seconds to ensure the file is fully written, similar to</span>
</span><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193></a><span class=sd>        the creation event handler. This handles the case where MyWhoosh</span>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194></a><span class=sd>        overwrites existing files. Only processes the specific modified file</span>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195></a><span class=sd>        rather than all files in the directory.</span>
</span><span id=__span-0-196><a id=__codelineno-0-196 name=__codelineno-0-196></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197></a>    <span class=c1># Only process MyWhoosh files that match the pattern</span>
</span><span id=__span-0-198><a id=__codelineno-0-198 name=__codelineno-0-198></a>    <span class=k>if</span> <span class=s2>&quot;MyNewActivity-&quot;</span> <span class=ow>in</span> <span class=n>event</span><span class=o>.</span><span class=n>src_path</span><span class=p>:</span>
</span><span id=__span-0-199><a id=__codelineno-0-199 name=__codelineno-0-199></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a>            <span class=sa>f</span><span class=s1>&#39;File modified detected - &quot;</span><span class=si>{</span><span class=n>event</span><span class=o>.</span><span class=n>src_path</span><span class=si>}</span><span class=s1>&quot;; sleeping for 5 seconds &#39;</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a>            <span class=s2>&quot;to ensure MyWhoosh finishes writing file&quot;</span>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a>        <span class=p>)</span>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a>        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>dryrun</span><span class=p>:</span>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a>            <span class=c1># Wait for a short time to make sure MyWhoosh has finished writing to the file</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>            <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a>            <span class=c1># Process only the modified file</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a>            <span class=n>p</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>src_path</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208></a>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>p</span><span class=p>,</span> <span class=nb>bytes</span><span class=p>):</span>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209></a>                <span class=n>p</span> <span class=o>=</span> <span class=n>p</span><span class=o>.</span><span class=n>decode</span><span class=p>()</span>  <span class=c1># pragma: no cover</span>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a>            <span class=n>p</span> <span class=o>=</span> <span class=n>cast</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>p</span><span class=p>)</span>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a>            <span class=n>source_file</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>absolute</span><span class=p>()</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a>
</span><span id=__span-0-213><a id=__codelineno-0-213 name=__codelineno-0-213></a>            <span class=c1># Edit the file and upload it</span>
</span><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214></a>            <span class=k>with</span> <span class=n>NamedTemporaryFile</span><span class=p>(</span><span class=n>delete</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>delete_on_close</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span> <span class=k>as</span> <span class=n>fp</span><span class=p>:</span>
</span><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215></a>                <span class=n>fit_editor</span><span class=o>.</span><span class=n>set_profile</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=p>)</span>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a>                <span class=n>output</span> <span class=o>=</span> <span class=n>fit_editor</span><span class=o>.</span><span class=n>edit_fit</span><span class=p>(</span><span class=n>source_file</span><span class=p>,</span> <span class=n>output</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=n>fp</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a>                <span class=k>if</span> <span class=n>output</span><span class=p>:</span>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218></a>                    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a>                        <span class=sa>f</span><span class=s2>&quot;Uploading modified file (</span><span class=si>{</span><span class=n>output</span><span class=si>}</span><span class=s2>) to Garmin Connect&quot;</span>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220></a>                    <span class=p>)</span>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a>                    <span class=n>upload</span><span class=p>(</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222></a>                        <span class=n>output</span><span class=p>,</span>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a>                        <span class=n>profile</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=p>,</span>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a>                        <span class=n>original_path</span><span class=o>=</span><span class=n>source_file</span><span class=p>,</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a>                        <span class=n>dryrun</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>dryrun</span><span class=p>,</span>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226></a>                    <span class=p>)</span>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227></a>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228></a>                    <span class=c1># Track uploaded file to prevent re-processing</span>
</span><span id=__span-0-229><a id=__codelineno-0-229 name=__codelineno-0-229></a>                    <span class=n>uploaded_list</span> <span class=o>=</span> <span class=n>source_file</span><span class=o>.</span><span class=n>parent</span> <span class=o>/</span> <span class=n>FILES_UPLOADED_NAME</span>
</span><span id=__span-0-230><a id=__codelineno-0-230 name=__codelineno-0-230></a>                    <span class=n>uploaded_files</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-231><a id=__codelineno-0-231 name=__codelineno-0-231></a>                    <span class=k>if</span> <span class=n>uploaded_list</span><span class=o>.</span><span class=n>exists</span><span class=p>():</span>
</span><span id=__span-0-232><a id=__codelineno-0-232 name=__codelineno-0-232></a>                        <span class=k>with</span> <span class=n>uploaded_list</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s2>&quot;r&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-233><a id=__codelineno-0-233 name=__codelineno-0-233></a>                            <span class=n>uploaded_files</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234></a>
</span><span id=__span-0-235><a id=__codelineno-0-235 name=__codelineno-0-235></a>                    <span class=n>filename</span> <span class=o>=</span> <span class=n>source_file</span><span class=o>.</span><span class=n>name</span>
</span><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236></a>                    <span class=k>if</span> <span class=n>filename</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>uploaded_files</span><span class=p>:</span>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237></a>                        <span class=n>uploaded_files</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238></a>                        <span class=k>with</span> <span class=n>uploaded_list</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239></a>                            <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>uploaded_files</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240></a>                        <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Added &quot;</span><span class=si>{</span><span class=n>filename</span><span class=si>}</span><span class=s1>&quot; to uploaded files list&#39;</span><span class=p>)</span>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243></a>                <span class=s2>&quot;Found modified file, but not processing because dryrun was requested&quot;</span>
</span><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244></a>            <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=fit_file_faker.app.get_garth_dir class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_garth_dir</span> <a href=#fit_file_faker.app.get_garth_dir class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_garth_dir</span><span class=p>(</span><span class=n>profile_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Path</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get profile-specific garth directory for credential isolation.</p> <p>Each profile gets its own garth directory to prevent credential conflicts when managing multiple Garmin accounts. The profile name is sanitized to ensure filesystem compatibility.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>profile_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The name of the profile.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Path to the profile-specific garth directory.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>get_garth_dir</span><span class=p>(</span><span class=s2>&quot;tpv&quot;</span><span class=p>)</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=go>PosixPath(&#39;/Users/josh/Library/Caches/FitFileFaker/.garth_tpv&#39;)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>get_garth_dir</span><span class=p>(</span><span class=s2>&quot;work-account&quot;</span><span class=p>)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=go>PosixPath(&#39;/Users/josh/Library/Caches/FitFileFaker/.garth_work-account&#39;)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>The directory is automatically created if it doesn't exist. Profile names with special characters are sanitized (replaced with '_').</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/app.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a><span class=k>def</span><span class=w> </span><span class=nf>get_garth_dir</span><span class=p>(</span><span class=n>profile_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Path</span><span class=p>:</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get profile-specific garth directory for credential isolation.</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a><span class=sd>    Each profile gets its own garth directory to prevent credential conflicts</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=sd>    when managing multiple Garmin accounts. The profile name is sanitized to</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a><span class=sd>    ensure filesystem compatibility.</span>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a><span class=sd>    Args:</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a><span class=sd>        profile_name: The name of the profile.</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a><span class=sd>    Returns:</span>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a><span class=sd>        Path to the profile-specific garth directory.</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a><span class=sd>    Examples:</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a><span class=sd>        &gt;&gt;&gt; get_garth_dir(&quot;tpv&quot;)</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a><span class=sd>        PosixPath(&#39;/Users/josh/Library/Caches/FitFileFaker/.garth_tpv&#39;)</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a><span class=sd>        &gt;&gt;&gt; get_garth_dir(&quot;work-account&quot;)</span>
</span><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a><span class=sd>        PosixPath(&#39;/Users/josh/Library/Caches/FitFileFaker/.garth_work-account&#39;)</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a><span class=sd>    Note:</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a><span class=sd>        The directory is automatically created if it doesn&#39;t exist.</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a><span class=sd>        Profile names with special characters are sanitized (replaced with &#39;_&#39;).</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a>    <span class=n>safe_name</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>c</span> <span class=k>if</span> <span class=n>c</span><span class=o>.</span><span class=n>isalnum</span><span class=p>()</span> <span class=ow>or</span> <span class=n>c</span> <span class=ow>in</span> <span class=s2>&quot;-_&quot;</span> <span class=k>else</span> <span class=s2>&quot;_&quot;</span> <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>profile_name</span><span class=p>)</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a>    <span class=n>garth_dir</span> <span class=o>=</span> <span class=n>dirs</span><span class=o>.</span><span class=n>user_cache_path</span> <span class=o>/</span> <span class=sa>f</span><span class=s2>&quot;.garth_</span><span class=si>{</span><span class=n>safe_name</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>    <span class=n>garth_dir</span><span class=o>.</span><span class=n>mkdir</span><span class=p>(</span><span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>parents</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=k>return</span> <span class=n>garth_dir</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=fit_file_faker.app.monitor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">monitor</span> <a href=#fit_file_faker.app.monitor class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>monitor</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>watch_dir</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>profile</span><span class=p>:</span> <span class=n>Profile</span><span class=p>,</span> <span class=n>dryrun</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Monitor a directory for new FIT files and automatically process them.</p> <p>Uses watchdog's PollingObserver to watch for new .fit files in the specified directory. When a new file is detected, waits 5 seconds to ensure it's fully written, then processes and uploads it via <a class="autorefs autorefs-internal" title="            upload_all" href=#fit_file_faker.app.upload_all><code>upload_all()</code></a>.</p> <p>The monitor runs until interrupted by Ctrl-C (<code>KeyboardInterrupt</code>).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>watch_dir</code> </td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Path to the directory to monitor.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>profile</code> </td> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a></code> </td> <td> <div class=doc-md-description> <p>The profile to use for authentication and upload.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>dryrun</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If <code>True</code>, detects new files but doesn't process them. Defaults to <code>False</code>.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Monitor a directory</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>monitor</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/home/user/TPVirtual/abc123/FITFiles&quot;</span><span class=p>),</span> <span class=n>profile</span><span class=o>=</span><span class=n>my_profile</span><span class=p>)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=go>Monitoring directory: &quot;/home/user/TPVirtual/abc123/FITFiles&quot;</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=go># Press Ctrl-C to stop</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>Uses <code>PollingObserver</code> for cross-platform compatibility. This may be less efficient than platform-specific observers but works consistently across macOS, Windows, and Linux.</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/app.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span>
<span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span>
<span class=normal><a href=#__codelineno-0-435>435</a></span>
<span class=normal><a href=#__codelineno-0-436>436</a></span>
<span class=normal><a href=#__codelineno-0-437>437</a></span>
<span class=normal><a href=#__codelineno-0-438>438</a></span>
<span class=normal><a href=#__codelineno-0-439>439</a></span>
<span class=normal><a href=#__codelineno-0-440>440</a></span>
<span class=normal><a href=#__codelineno-0-441>441</a></span>
<span class=normal><a href=#__codelineno-0-442>442</a></span>
<span class=normal><a href=#__codelineno-0-443>443</a></span>
<span class=normal><a href=#__codelineno-0-444>444</a></span>
<span class=normal><a href=#__codelineno-0-445>445</a></span>
<span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span>
<span class=normal><a href=#__codelineno-0-453>453</a></span>
<span class=normal><a href=#__codelineno-0-454>454</a></span>
<span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span>
<span class=normal><a href=#__codelineno-0-457>457</a></span>
<span class=normal><a href=#__codelineno-0-458>458</a></span>
<span class=normal><a href=#__codelineno-0-459>459</a></span>
<span class=normal><a href=#__codelineno-0-460>460</a></span>
<span class=normal><a href=#__codelineno-0-461>461</a></span>
<span class=normal><a href=#__codelineno-0-462>462</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-420><a id=__codelineno-0-420 name=__codelineno-0-420></a><span class=k>def</span><span class=w> </span><span class=nf>monitor</span><span class=p>(</span><span class=n>watch_dir</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>profile</span><span class=p>:</span> <span class=n>Profile</span><span class=p>,</span> <span class=n>dryrun</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>):</span>
</span><span id=__span-0-421><a id=__codelineno-0-421 name=__codelineno-0-421></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Monitor a directory for new FIT files and automatically process them.</span>
</span><span id=__span-0-422><a id=__codelineno-0-422 name=__codelineno-0-422></a>
</span><span id=__span-0-423><a id=__codelineno-0-423 name=__codelineno-0-423></a><span class=sd>    Uses watchdog&#39;s PollingObserver to watch for new .fit files in the specified</span>
</span><span id=__span-0-424><a id=__codelineno-0-424 name=__codelineno-0-424></a><span class=sd>    directory. When a new file is detected, waits 5 seconds to ensure it&#39;s fully</span>
</span><span id=__span-0-425><a id=__codelineno-0-425 name=__codelineno-0-425></a><span class=sd>    written, then processes and uploads it via [`upload_all()`][fit_file_faker.app.upload_all].</span>
</span><span id=__span-0-426><a id=__codelineno-0-426 name=__codelineno-0-426></a>
</span><span id=__span-0-427><a id=__codelineno-0-427 name=__codelineno-0-427></a><span class=sd>    The monitor runs until interrupted by Ctrl-C (`KeyboardInterrupt`).</span>
</span><span id=__span-0-428><a id=__codelineno-0-428 name=__codelineno-0-428></a>
</span><span id=__span-0-429><a id=__codelineno-0-429 name=__codelineno-0-429></a><span class=sd>    Args:</span>
</span><span id=__span-0-430><a id=__codelineno-0-430 name=__codelineno-0-430></a><span class=sd>        watch_dir: Path to the directory to monitor.</span>
</span><span id=__span-0-431><a id=__codelineno-0-431 name=__codelineno-0-431></a><span class=sd>        profile: The profile to use for authentication and upload.</span>
</span><span id=__span-0-432><a id=__codelineno-0-432 name=__codelineno-0-432></a><span class=sd>        dryrun: If `True`, detects new files but doesn&#39;t process them.</span>
</span><span id=__span-0-433><a id=__codelineno-0-433 name=__codelineno-0-433></a><span class=sd>            Defaults to `False`.</span>
</span><span id=__span-0-434><a id=__codelineno-0-434 name=__codelineno-0-434></a>
</span><span id=__span-0-435><a id=__codelineno-0-435 name=__codelineno-0-435></a><span class=sd>    Examples:</span>
</span><span id=__span-0-436><a id=__codelineno-0-436 name=__codelineno-0-436></a><span class=sd>        &gt;&gt;&gt; from pathlib import Path</span>
</span><span id=__span-0-437><a id=__codelineno-0-437 name=__codelineno-0-437></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-438><a id=__codelineno-0-438 name=__codelineno-0-438></a><span class=sd>        &gt;&gt;&gt; # Monitor a directory</span>
</span><span id=__span-0-439><a id=__codelineno-0-439 name=__codelineno-0-439></a><span class=sd>        &gt;&gt;&gt; monitor(Path(&quot;/home/user/TPVirtual/abc123/FITFiles&quot;), profile=my_profile)</span>
</span><span id=__span-0-440><a id=__codelineno-0-440 name=__codelineno-0-440></a><span class=sd>        Monitoring directory: &quot;/home/user/TPVirtual/abc123/FITFiles&quot;</span>
</span><span id=__span-0-441><a id=__codelineno-0-441 name=__codelineno-0-441></a><span class=sd>        # Press Ctrl-C to stop</span>
</span><span id=__span-0-442><a id=__codelineno-0-442 name=__codelineno-0-442></a>
</span><span id=__span-0-443><a id=__codelineno-0-443 name=__codelineno-0-443></a><span class=sd>    Note:</span>
</span><span id=__span-0-444><a id=__codelineno-0-444 name=__codelineno-0-444></a><span class=sd>        Uses `PollingObserver` for cross-platform compatibility. This may be</span>
</span><span id=__span-0-445><a id=__codelineno-0-445 name=__codelineno-0-445></a><span class=sd>        less efficient than platform-specific observers but works consistently</span>
</span><span id=__span-0-446><a id=__codelineno-0-446 name=__codelineno-0-446></a><span class=sd>        across macOS, Windows, and Linux.</span>
</span><span id=__span-0-447><a id=__codelineno-0-447 name=__codelineno-0-447></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-448><a id=__codelineno-0-448 name=__codelineno-0-448></a>    <span class=n>event_handler</span> <span class=o>=</span> <span class=n>NewFileEventHandler</span><span class=p>(</span><span class=n>profile</span><span class=o>=</span><span class=n>profile</span><span class=p>,</span> <span class=n>dryrun</span><span class=o>=</span><span class=n>dryrun</span><span class=p>)</span>
</span><span id=__span-0-449><a id=__codelineno-0-449 name=__codelineno-0-449></a>    <span class=n>observer</span> <span class=o>=</span> <span class=n>Observer</span><span class=p>()</span>
</span><span id=__span-0-450><a id=__codelineno-0-450 name=__codelineno-0-450></a>    <span class=n>observer</span><span class=o>.</span><span class=n>schedule</span><span class=p>(</span><span class=n>event_handler</span><span class=p>,</span> <span class=nb>str</span><span class=p>(</span><span class=n>watch_dir</span><span class=o>.</span><span class=n>absolute</span><span class=p>()),</span> <span class=n>recursive</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-451><a id=__codelineno-0-451 name=__codelineno-0-451></a>    <span class=n>observer</span><span class=o>.</span><span class=n>start</span><span class=p>()</span>
</span><span id=__span-0-452><a id=__codelineno-0-452 name=__codelineno-0-452></a>    <span class=k>if</span> <span class=n>dryrun</span><span class=p>:</span>  <span class=c1># pragma: no cover</span>
</span><span id=__span-0-453><a id=__codelineno-0-453 name=__codelineno-0-453></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Dryrun was requested, so will not actually take any actions&quot;</span><span class=p>)</span>
</span><span id=__span-0-454><a id=__codelineno-0-454 name=__codelineno-0-454></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Monitoring directory: &quot;</span><span class=si>{</span><span class=n>watch_dir</span><span class=o>.</span><span class=n>absolute</span><span class=p>()</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-455><a id=__codelineno-0-455 name=__codelineno-0-455></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-456><a id=__codelineno-0-456 name=__codelineno-0-456></a>        <span class=k>while</span> <span class=n>observer</span><span class=o>.</span><span class=n>is_alive</span><span class=p>():</span>
</span><span id=__span-0-457><a id=__codelineno-0-457 name=__codelineno-0-457></a>            <span class=n>observer</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-458><a id=__codelineno-0-458 name=__codelineno-0-458></a>    <span class=k>except</span> <span class=ne>KeyboardInterrupt</span><span class=p>:</span>
</span><span id=__span-0-459><a id=__codelineno-0-459 name=__codelineno-0-459></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Received keyboard interrupt, shutting down monitor&quot;</span><span class=p>)</span>
</span><span id=__span-0-460><a id=__codelineno-0-460 name=__codelineno-0-460></a>    <span class=k>finally</span><span class=p>:</span>
</span><span id=__span-0-461><a id=__codelineno-0-461 name=__codelineno-0-461></a>        <span class=n>observer</span><span class=o>.</span><span class=n>stop</span><span class=p>()</span>
</span><span id=__span-0-462><a id=__codelineno-0-462 name=__codelineno-0-462></a>        <span class=n>observer</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=fit_file_faker.app.run class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">run</span> <a href=#fit_file_faker.app.run class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>run</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Main entry point for the fit-file-faker command-line application.</p> <p>Parses command-line arguments, validates configuration, and executes the appropriate operation (edit, upload, batch upload, or monitor). This function is registered as the console script entry point in pyproject.toml.</p> <p>Command-line options:</p> <div class="language-text highlight"><pre><span></span><code>--profile: Specify which profile to use
--list-profiles: List all available profiles
--config-menu: Launch the interactive profile management menu
--show-dirs: Show directories used for configuration and cache
-u, --upload: Upload file after editing
-ua, --upload-all: Batch upload all new files
-p, --preinitialize: Mark all existing files as already uploaded
-m, --monitor: Monitor directory for new files
-d, --dryrun: Perform dry run (no file writes or uploads)
-v, --verbose: Enable verbose debug logging
</code></pre></div> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=SystemExit>SystemExit</span></code> </td> <td> <div class=doc-md-description> <p>If configuration is invalid, required arguments are missing, or conflicting arguments are provided.</p> </div> </td> </tr> </tbody> </table> <p>Examples:</p> <div class="language-text highlight"><pre><span></span><code># run() is called automatically when running the installed command:
$ fit-file-faker --config-menu
$ fit-file-faker --show-dirs
$ fit-file-faker -u activity.fit
$ fit-file-faker -ua
$ fit-file-faker -m
</code></pre></div> <details class=note open> <summary>Note</summary> <p>Requires Python 3.12 or higher. Exits with error if Python version requirement is not met.</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/app.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-537>537</a></span>
<span class=normal><a href=#__codelineno-0-538>538</a></span>
<span class=normal><a href=#__codelineno-0-539>539</a></span>
<span class=normal><a href=#__codelineno-0-540>540</a></span>
<span class=normal><a href=#__codelineno-0-541>541</a></span>
<span class=normal><a href=#__codelineno-0-542>542</a></span>
<span class=normal><a href=#__codelineno-0-543>543</a></span>
<span class=normal><a href=#__codelineno-0-544>544</a></span>
<span class=normal><a href=#__codelineno-0-545>545</a></span>
<span class=normal><a href=#__codelineno-0-546>546</a></span>
<span class=normal><a href=#__codelineno-0-547>547</a></span>
<span class=normal><a href=#__codelineno-0-548>548</a></span>
<span class=normal><a href=#__codelineno-0-549>549</a></span>
<span class=normal><a href=#__codelineno-0-550>550</a></span>
<span class=normal><a href=#__codelineno-0-551>551</a></span>
<span class=normal><a href=#__codelineno-0-552>552</a></span>
<span class=normal><a href=#__codelineno-0-553>553</a></span>
<span class=normal><a href=#__codelineno-0-554>554</a></span>
<span class=normal><a href=#__codelineno-0-555>555</a></span>
<span class=normal><a href=#__codelineno-0-556>556</a></span>
<span class=normal><a href=#__codelineno-0-557>557</a></span>
<span class=normal><a href=#__codelineno-0-558>558</a></span>
<span class=normal><a href=#__codelineno-0-559>559</a></span>
<span class=normal><a href=#__codelineno-0-560>560</a></span>
<span class=normal><a href=#__codelineno-0-561>561</a></span>
<span class=normal><a href=#__codelineno-0-562>562</a></span>
<span class=normal><a href=#__codelineno-0-563>563</a></span>
<span class=normal><a href=#__codelineno-0-564>564</a></span>
<span class=normal><a href=#__codelineno-0-565>565</a></span>
<span class=normal><a href=#__codelineno-0-566>566</a></span>
<span class=normal><a href=#__codelineno-0-567>567</a></span>
<span class=normal><a href=#__codelineno-0-568>568</a></span>
<span class=normal><a href=#__codelineno-0-569>569</a></span>
<span class=normal><a href=#__codelineno-0-570>570</a></span>
<span class=normal><a href=#__codelineno-0-571>571</a></span>
<span class=normal><a href=#__codelineno-0-572>572</a></span>
<span class=normal><a href=#__codelineno-0-573>573</a></span>
<span class=normal><a href=#__codelineno-0-574>574</a></span>
<span class=normal><a href=#__codelineno-0-575>575</a></span>
<span class=normal><a href=#__codelineno-0-576>576</a></span>
<span class=normal><a href=#__codelineno-0-577>577</a></span>
<span class=normal><a href=#__codelineno-0-578>578</a></span>
<span class=normal><a href=#__codelineno-0-579>579</a></span>
<span class=normal><a href=#__codelineno-0-580>580</a></span>
<span class=normal><a href=#__codelineno-0-581>581</a></span>
<span class=normal><a href=#__codelineno-0-582>582</a></span>
<span class=normal><a href=#__codelineno-0-583>583</a></span>
<span class=normal><a href=#__codelineno-0-584>584</a></span>
<span class=normal><a href=#__codelineno-0-585>585</a></span>
<span class=normal><a href=#__codelineno-0-586>586</a></span>
<span class=normal><a href=#__codelineno-0-587>587</a></span>
<span class=normal><a href=#__codelineno-0-588>588</a></span>
<span class=normal><a href=#__codelineno-0-589>589</a></span>
<span class=normal><a href=#__codelineno-0-590>590</a></span>
<span class=normal><a href=#__codelineno-0-591>591</a></span>
<span class=normal><a href=#__codelineno-0-592>592</a></span>
<span class=normal><a href=#__codelineno-0-593>593</a></span>
<span class=normal><a href=#__codelineno-0-594>594</a></span>
<span class=normal><a href=#__codelineno-0-595>595</a></span>
<span class=normal><a href=#__codelineno-0-596>596</a></span>
<span class=normal><a href=#__codelineno-0-597>597</a></span>
<span class=normal><a href=#__codelineno-0-598>598</a></span>
<span class=normal><a href=#__codelineno-0-599>599</a></span>
<span class=normal><a href=#__codelineno-0-600>600</a></span>
<span class=normal><a href=#__codelineno-0-601>601</a></span>
<span class=normal><a href=#__codelineno-0-602>602</a></span>
<span class=normal><a href=#__codelineno-0-603>603</a></span>
<span class=normal><a href=#__codelineno-0-604>604</a></span>
<span class=normal><a href=#__codelineno-0-605>605</a></span>
<span class=normal><a href=#__codelineno-0-606>606</a></span>
<span class=normal><a href=#__codelineno-0-607>607</a></span>
<span class=normal><a href=#__codelineno-0-608>608</a></span>
<span class=normal><a href=#__codelineno-0-609>609</a></span>
<span class=normal><a href=#__codelineno-0-610>610</a></span>
<span class=normal><a href=#__codelineno-0-611>611</a></span>
<span class=normal><a href=#__codelineno-0-612>612</a></span>
<span class=normal><a href=#__codelineno-0-613>613</a></span>
<span class=normal><a href=#__codelineno-0-614>614</a></span>
<span class=normal><a href=#__codelineno-0-615>615</a></span>
<span class=normal><a href=#__codelineno-0-616>616</a></span>
<span class=normal><a href=#__codelineno-0-617>617</a></span>
<span class=normal><a href=#__codelineno-0-618>618</a></span>
<span class=normal><a href=#__codelineno-0-619>619</a></span>
<span class=normal><a href=#__codelineno-0-620>620</a></span>
<span class=normal><a href=#__codelineno-0-621>621</a></span>
<span class=normal><a href=#__codelineno-0-622>622</a></span>
<span class=normal><a href=#__codelineno-0-623>623</a></span>
<span class=normal><a href=#__codelineno-0-624>624</a></span>
<span class=normal><a href=#__codelineno-0-625>625</a></span>
<span class=normal><a href=#__codelineno-0-626>626</a></span>
<span class=normal><a href=#__codelineno-0-627>627</a></span>
<span class=normal><a href=#__codelineno-0-628>628</a></span>
<span class=normal><a href=#__codelineno-0-629>629</a></span>
<span class=normal><a href=#__codelineno-0-630>630</a></span>
<span class=normal><a href=#__codelineno-0-631>631</a></span>
<span class=normal><a href=#__codelineno-0-632>632</a></span>
<span class=normal><a href=#__codelineno-0-633>633</a></span>
<span class=normal><a href=#__codelineno-0-634>634</a></span>
<span class=normal><a href=#__codelineno-0-635>635</a></span>
<span class=normal><a href=#__codelineno-0-636>636</a></span>
<span class=normal><a href=#__codelineno-0-637>637</a></span>
<span class=normal><a href=#__codelineno-0-638>638</a></span>
<span class=normal><a href=#__codelineno-0-639>639</a></span>
<span class=normal><a href=#__codelineno-0-640>640</a></span>
<span class=normal><a href=#__codelineno-0-641>641</a></span>
<span class=normal><a href=#__codelineno-0-642>642</a></span>
<span class=normal><a href=#__codelineno-0-643>643</a></span>
<span class=normal><a href=#__codelineno-0-644>644</a></span>
<span class=normal><a href=#__codelineno-0-645>645</a></span>
<span class=normal><a href=#__codelineno-0-646>646</a></span>
<span class=normal><a href=#__codelineno-0-647>647</a></span>
<span class=normal><a href=#__codelineno-0-648>648</a></span>
<span class=normal><a href=#__codelineno-0-649>649</a></span>
<span class=normal><a href=#__codelineno-0-650>650</a></span>
<span class=normal><a href=#__codelineno-0-651>651</a></span>
<span class=normal><a href=#__codelineno-0-652>652</a></span>
<span class=normal><a href=#__codelineno-0-653>653</a></span>
<span class=normal><a href=#__codelineno-0-654>654</a></span>
<span class=normal><a href=#__codelineno-0-655>655</a></span>
<span class=normal><a href=#__codelineno-0-656>656</a></span>
<span class=normal><a href=#__codelineno-0-657>657</a></span>
<span class=normal><a href=#__codelineno-0-658>658</a></span>
<span class=normal><a href=#__codelineno-0-659>659</a></span>
<span class=normal><a href=#__codelineno-0-660>660</a></span>
<span class=normal><a href=#__codelineno-0-661>661</a></span>
<span class=normal><a href=#__codelineno-0-662>662</a></span>
<span class=normal><a href=#__codelineno-0-663>663</a></span>
<span class=normal><a href=#__codelineno-0-664>664</a></span>
<span class=normal><a href=#__codelineno-0-665>665</a></span>
<span class=normal><a href=#__codelineno-0-666>666</a></span>
<span class=normal><a href=#__codelineno-0-667>667</a></span>
<span class=normal><a href=#__codelineno-0-668>668</a></span>
<span class=normal><a href=#__codelineno-0-669>669</a></span>
<span class=normal><a href=#__codelineno-0-670>670</a></span>
<span class=normal><a href=#__codelineno-0-671>671</a></span>
<span class=normal><a href=#__codelineno-0-672>672</a></span>
<span class=normal><a href=#__codelineno-0-673>673</a></span>
<span class=normal><a href=#__codelineno-0-674>674</a></span>
<span class=normal><a href=#__codelineno-0-675>675</a></span>
<span class=normal><a href=#__codelineno-0-676>676</a></span>
<span class=normal><a href=#__codelineno-0-677>677</a></span>
<span class=normal><a href=#__codelineno-0-678>678</a></span>
<span class=normal><a href=#__codelineno-0-679>679</a></span>
<span class=normal><a href=#__codelineno-0-680>680</a></span>
<span class=normal><a href=#__codelineno-0-681>681</a></span>
<span class=normal><a href=#__codelineno-0-682>682</a></span>
<span class=normal><a href=#__codelineno-0-683>683</a></span>
<span class=normal><a href=#__codelineno-0-684>684</a></span>
<span class=normal><a href=#__codelineno-0-685>685</a></span>
<span class=normal><a href=#__codelineno-0-686>686</a></span>
<span class=normal><a href=#__codelineno-0-687>687</a></span>
<span class=normal><a href=#__codelineno-0-688>688</a></span>
<span class=normal><a href=#__codelineno-0-689>689</a></span>
<span class=normal><a href=#__codelineno-0-690>690</a></span>
<span class=normal><a href=#__codelineno-0-691>691</a></span>
<span class=normal><a href=#__codelineno-0-692>692</a></span>
<span class=normal><a href=#__codelineno-0-693>693</a></span>
<span class=normal><a href=#__codelineno-0-694>694</a></span>
<span class=normal><a href=#__codelineno-0-695>695</a></span>
<span class=normal><a href=#__codelineno-0-696>696</a></span>
<span class=normal><a href=#__codelineno-0-697>697</a></span>
<span class=normal><a href=#__codelineno-0-698>698</a></span>
<span class=normal><a href=#__codelineno-0-699>699</a></span>
<span class=normal><a href=#__codelineno-0-700>700</a></span>
<span class=normal><a href=#__codelineno-0-701>701</a></span>
<span class=normal><a href=#__codelineno-0-702>702</a></span>
<span class=normal><a href=#__codelineno-0-703>703</a></span>
<span class=normal><a href=#__codelineno-0-704>704</a></span>
<span class=normal><a href=#__codelineno-0-705>705</a></span>
<span class=normal><a href=#__codelineno-0-706>706</a></span>
<span class=normal><a href=#__codelineno-0-707>707</a></span>
<span class=normal><a href=#__codelineno-0-708>708</a></span>
<span class=normal><a href=#__codelineno-0-709>709</a></span>
<span class=normal><a href=#__codelineno-0-710>710</a></span>
<span class=normal><a href=#__codelineno-0-711>711</a></span>
<span class=normal><a href=#__codelineno-0-712>712</a></span>
<span class=normal><a href=#__codelineno-0-713>713</a></span>
<span class=normal><a href=#__codelineno-0-714>714</a></span>
<span class=normal><a href=#__codelineno-0-715>715</a></span>
<span class=normal><a href=#__codelineno-0-716>716</a></span>
<span class=normal><a href=#__codelineno-0-717>717</a></span>
<span class=normal><a href=#__codelineno-0-718>718</a></span>
<span class=normal><a href=#__codelineno-0-719>719</a></span>
<span class=normal><a href=#__codelineno-0-720>720</a></span>
<span class=normal><a href=#__codelineno-0-721>721</a></span>
<span class=normal><a href=#__codelineno-0-722>722</a></span>
<span class=normal><a href=#__codelineno-0-723>723</a></span>
<span class=normal><a href=#__codelineno-0-724>724</a></span>
<span class=normal><a href=#__codelineno-0-725>725</a></span>
<span class=normal><a href=#__codelineno-0-726>726</a></span>
<span class=normal><a href=#__codelineno-0-727>727</a></span>
<span class=normal><a href=#__codelineno-0-728>728</a></span>
<span class=normal><a href=#__codelineno-0-729>729</a></span>
<span class=normal><a href=#__codelineno-0-730>730</a></span>
<span class=normal><a href=#__codelineno-0-731>731</a></span>
<span class=normal><a href=#__codelineno-0-732>732</a></span>
<span class=normal><a href=#__codelineno-0-733>733</a></span>
<span class=normal><a href=#__codelineno-0-734>734</a></span>
<span class=normal><a href=#__codelineno-0-735>735</a></span>
<span class=normal><a href=#__codelineno-0-736>736</a></span>
<span class=normal><a href=#__codelineno-0-737>737</a></span>
<span class=normal><a href=#__codelineno-0-738>738</a></span>
<span class=normal><a href=#__codelineno-0-739>739</a></span>
<span class=normal><a href=#__codelineno-0-740>740</a></span>
<span class=normal><a href=#__codelineno-0-741>741</a></span>
<span class=normal><a href=#__codelineno-0-742>742</a></span>
<span class=normal><a href=#__codelineno-0-743>743</a></span>
<span class=normal><a href=#__codelineno-0-744>744</a></span>
<span class=normal><a href=#__codelineno-0-745>745</a></span>
<span class=normal><a href=#__codelineno-0-746>746</a></span>
<span class=normal><a href=#__codelineno-0-747>747</a></span>
<span class=normal><a href=#__codelineno-0-748>748</a></span>
<span class=normal><a href=#__codelineno-0-749>749</a></span>
<span class=normal><a href=#__codelineno-0-750>750</a></span>
<span class=normal><a href=#__codelineno-0-751>751</a></span>
<span class=normal><a href=#__codelineno-0-752>752</a></span>
<span class=normal><a href=#__codelineno-0-753>753</a></span>
<span class=normal><a href=#__codelineno-0-754>754</a></span>
<span class=normal><a href=#__codelineno-0-755>755</a></span>
<span class=normal><a href=#__codelineno-0-756>756</a></span>
<span class=normal><a href=#__codelineno-0-757>757</a></span>
<span class=normal><a href=#__codelineno-0-758>758</a></span>
<span class=normal><a href=#__codelineno-0-759>759</a></span>
<span class=normal><a href=#__codelineno-0-760>760</a></span>
<span class=normal><a href=#__codelineno-0-761>761</a></span>
<span class=normal><a href=#__codelineno-0-762>762</a></span>
<span class=normal><a href=#__codelineno-0-763>763</a></span>
<span class=normal><a href=#__codelineno-0-764>764</a></span>
<span class=normal><a href=#__codelineno-0-765>765</a></span>
<span class=normal><a href=#__codelineno-0-766>766</a></span>
<span class=normal><a href=#__codelineno-0-767>767</a></span>
<span class=normal><a href=#__codelineno-0-768>768</a></span>
<span class=normal><a href=#__codelineno-0-769>769</a></span>
<span class=normal><a href=#__codelineno-0-770>770</a></span>
<span class=normal><a href=#__codelineno-0-771>771</a></span>
<span class=normal><a href=#__codelineno-0-772>772</a></span>
<span class=normal><a href=#__codelineno-0-773>773</a></span>
<span class=normal><a href=#__codelineno-0-774>774</a></span>
<span class=normal><a href=#__codelineno-0-775>775</a></span>
<span class=normal><a href=#__codelineno-0-776>776</a></span>
<span class=normal><a href=#__codelineno-0-777>777</a></span>
<span class=normal><a href=#__codelineno-0-778>778</a></span>
<span class=normal><a href=#__codelineno-0-779>779</a></span>
<span class=normal><a href=#__codelineno-0-780>780</a></span>
<span class=normal><a href=#__codelineno-0-781>781</a></span>
<span class=normal><a href=#__codelineno-0-782>782</a></span>
<span class=normal><a href=#__codelineno-0-783>783</a></span>
<span class=normal><a href=#__codelineno-0-784>784</a></span>
<span class=normal><a href=#__codelineno-0-785>785</a></span>
<span class=normal><a href=#__codelineno-0-786>786</a></span>
<span class=normal><a href=#__codelineno-0-787>787</a></span>
<span class=normal><a href=#__codelineno-0-788>788</a></span>
<span class=normal><a href=#__codelineno-0-789>789</a></span>
<span class=normal><a href=#__codelineno-0-790>790</a></span>
<span class=normal><a href=#__codelineno-0-791>791</a></span>
<span class=normal><a href=#__codelineno-0-792>792</a></span>
<span class=normal><a href=#__codelineno-0-793>793</a></span>
<span class=normal><a href=#__codelineno-0-794>794</a></span>
<span class=normal><a href=#__codelineno-0-795>795</a></span>
<span class=normal><a href=#__codelineno-0-796>796</a></span>
<span class=normal><a href=#__codelineno-0-797>797</a></span>
<span class=normal><a href=#__codelineno-0-798>798</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-537><a id=__codelineno-0-537 name=__codelineno-0-537></a><span class=k>def</span><span class=w> </span><span class=nf>run</span><span class=p>():</span>
</span><span id=__span-0-538><a id=__codelineno-0-538 name=__codelineno-0-538></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Main entry point for the fit-file-faker command-line application.</span>
</span><span id=__span-0-539><a id=__codelineno-0-539 name=__codelineno-0-539></a>
</span><span id=__span-0-540><a id=__codelineno-0-540 name=__codelineno-0-540></a><span class=sd>    Parses command-line arguments, validates configuration, and executes the</span>
</span><span id=__span-0-541><a id=__codelineno-0-541 name=__codelineno-0-541></a><span class=sd>    appropriate operation (edit, upload, batch upload, or monitor). This function</span>
</span><span id=__span-0-542><a id=__codelineno-0-542 name=__codelineno-0-542></a><span class=sd>    is registered as the console script entry point in pyproject.toml.</span>
</span><span id=__span-0-543><a id=__codelineno-0-543 name=__codelineno-0-543></a>
</span><span id=__span-0-544><a id=__codelineno-0-544 name=__codelineno-0-544></a><span class=sd>    Command-line options:</span>
</span><span id=__span-0-545><a id=__codelineno-0-545 name=__codelineno-0-545></a>
</span><span id=__span-0-546><a id=__codelineno-0-546 name=__codelineno-0-546></a><span class=sd>        --profile: Specify which profile to use</span>
</span><span id=__span-0-547><a id=__codelineno-0-547 name=__codelineno-0-547></a><span class=sd>        --list-profiles: List all available profiles</span>
</span><span id=__span-0-548><a id=__codelineno-0-548 name=__codelineno-0-548></a><span class=sd>        --config-menu: Launch the interactive profile management menu</span>
</span><span id=__span-0-549><a id=__codelineno-0-549 name=__codelineno-0-549></a><span class=sd>        --show-dirs: Show directories used for configuration and cache</span>
</span><span id=__span-0-550><a id=__codelineno-0-550 name=__codelineno-0-550></a><span class=sd>        -u, --upload: Upload file after editing</span>
</span><span id=__span-0-551><a id=__codelineno-0-551 name=__codelineno-0-551></a><span class=sd>        -ua, --upload-all: Batch upload all new files</span>
</span><span id=__span-0-552><a id=__codelineno-0-552 name=__codelineno-0-552></a><span class=sd>        -p, --preinitialize: Mark all existing files as already uploaded</span>
</span><span id=__span-0-553><a id=__codelineno-0-553 name=__codelineno-0-553></a><span class=sd>        -m, --monitor: Monitor directory for new files</span>
</span><span id=__span-0-554><a id=__codelineno-0-554 name=__codelineno-0-554></a><span class=sd>        -d, --dryrun: Perform dry run (no file writes or uploads)</span>
</span><span id=__span-0-555><a id=__codelineno-0-555 name=__codelineno-0-555></a><span class=sd>        -v, --verbose: Enable verbose debug logging</span>
</span><span id=__span-0-556><a id=__codelineno-0-556 name=__codelineno-0-556></a>
</span><span id=__span-0-557><a id=__codelineno-0-557 name=__codelineno-0-557></a><span class=sd>    Raises:</span>
</span><span id=__span-0-558><a id=__codelineno-0-558 name=__codelineno-0-558></a><span class=sd>        SystemExit: If configuration is invalid, required arguments are missing,</span>
</span><span id=__span-0-559><a id=__codelineno-0-559 name=__codelineno-0-559></a><span class=sd>            or conflicting arguments are provided.</span>
</span><span id=__span-0-560><a id=__codelineno-0-560 name=__codelineno-0-560></a>
</span><span id=__span-0-561><a id=__codelineno-0-561 name=__codelineno-0-561></a><span class=sd>    Examples:</span>
</span><span id=__span-0-562><a id=__codelineno-0-562 name=__codelineno-0-562></a>
</span><span id=__span-0-563><a id=__codelineno-0-563 name=__codelineno-0-563></a><span class=sd>        # run() is called automatically when running the installed command:</span>
</span><span id=__span-0-564><a id=__codelineno-0-564 name=__codelineno-0-564></a><span class=sd>        $ fit-file-faker --config-menu</span>
</span><span id=__span-0-565><a id=__codelineno-0-565 name=__codelineno-0-565></a><span class=sd>        $ fit-file-faker --show-dirs</span>
</span><span id=__span-0-566><a id=__codelineno-0-566 name=__codelineno-0-566></a><span class=sd>        $ fit-file-faker -u activity.fit</span>
</span><span id=__span-0-567><a id=__codelineno-0-567 name=__codelineno-0-567></a><span class=sd>        $ fit-file-faker -ua</span>
</span><span id=__span-0-568><a id=__codelineno-0-568 name=__codelineno-0-568></a><span class=sd>        $ fit-file-faker -m</span>
</span><span id=__span-0-569><a id=__codelineno-0-569 name=__codelineno-0-569></a>
</span><span id=__span-0-570><a id=__codelineno-0-570 name=__codelineno-0-570></a><span class=sd>    Note:</span>
</span><span id=__span-0-571><a id=__codelineno-0-571 name=__codelineno-0-571></a><span class=sd>        Requires Python 3.12 or higher. Exits with error if Python version</span>
</span><span id=__span-0-572><a id=__codelineno-0-572 name=__codelineno-0-572></a><span class=sd>        requirement is not met.</span>
</span><span id=__span-0-573><a id=__codelineno-0-573 name=__codelineno-0-573></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-574><a id=__codelineno-0-574 name=__codelineno-0-574></a>    <span class=n>v</span> <span class=o>=</span> <span class=n>sys</span><span class=o>.</span><span class=n>version_info</span>
</span><span id=__span-0-575><a id=__codelineno-0-575 name=__codelineno-0-575></a>    <span class=n>v_str</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>v</span><span class=o>.</span><span class=n>major</span><span class=si>}</span><span class=s2>.</span><span class=si>{</span><span class=n>v</span><span class=o>.</span><span class=n>minor</span><span class=si>}</span><span class=s2>.</span><span class=si>{</span><span class=n>v</span><span class=o>.</span><span class=n>micro</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-576><a id=__codelineno-0-576 name=__codelineno-0-576></a>    <span class=n>min_ver</span> <span class=o>=</span> <span class=s2>&quot;3.12.0&quot;</span>
</span><span id=__span-0-577><a id=__codelineno-0-577 name=__codelineno-0-577></a>    <span class=n>ver</span> <span class=o>=</span> <span class=n>semver</span><span class=o>.</span><span class=n>Version</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=n>v_str</span><span class=p>)</span>
</span><span id=__span-0-578><a id=__codelineno-0-578 name=__codelineno-0-578></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>ver</span> <span class=o>&gt;=</span> <span class=n>semver</span><span class=o>.</span><span class=n>Version</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=n>min_ver</span><span class=p>):</span>
</span><span id=__span-0-579><a id=__codelineno-0-579 name=__codelineno-0-579></a>        <span class=n>msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;This program requires Python &quot;</span><span class=si>{</span><span class=n>min_ver</span><span class=si>}</span><span class=s1>&quot; or greater (current version is &quot;</span><span class=si>{</span><span class=n>v_str</span><span class=si>}</span><span class=s1>&quot;). Please upgrade your python version.&#39;</span>
</span><span id=__span-0-580><a id=__codelineno-0-580 name=__codelineno-0-580></a>        <span class=k>raise</span> <span class=ne>OSError</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span><span id=__span-0-581><a id=__codelineno-0-581 name=__codelineno-0-581></a>
</span><span id=__span-0-582><a id=__codelineno-0-582 name=__codelineno-0-582></a>    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
</span><span id=__span-0-583><a id=__codelineno-0-583 name=__codelineno-0-583></a>        <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Tool to add Garmin device information to FIT files and upload them to Garmin Connect. &quot;</span>
</span><span id=__span-0-584><a id=__codelineno-0-584 name=__codelineno-0-584></a>        <span class=s2>&quot;Currently, only FIT files produced by TrainingPeaks Virtual (https://www.trainingpeaks.com/virtual/), &quot;</span>
</span><span id=__span-0-585><a id=__codelineno-0-585 name=__codelineno-0-585></a>        <span class=s2>&quot;Zwift (https://www.zwift.com/), and MyWhoosh (https://mywhoosh.com/) are supported, but it&#39;s &quot;</span>
</span><span id=__span-0-586><a id=__codelineno-0-586 name=__codelineno-0-586></a>        <span class=s2>&quot;possible others may work.&quot;</span>
</span><span id=__span-0-587><a id=__codelineno-0-587 name=__codelineno-0-587></a>    <span class=p>)</span>
</span><span id=__span-0-588><a id=__codelineno-0-588 name=__codelineno-0-588></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-589><a id=__codelineno-0-589 name=__codelineno-0-589></a>        <span class=s2>&quot;input_path&quot;</span><span class=p>,</span>
</span><span id=__span-0-590><a id=__codelineno-0-590 name=__codelineno-0-590></a>        <span class=n>nargs</span><span class=o>=</span><span class=s2>&quot;?&quot;</span><span class=p>,</span>
</span><span id=__span-0-591><a id=__codelineno-0-591 name=__codelineno-0-591></a>        <span class=n>default</span><span class=o>=</span><span class=p>[],</span>
</span><span id=__span-0-592><a id=__codelineno-0-592 name=__codelineno-0-592></a>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;the FIT file or directory to process. This argument can be omitted if the &#39;fitfiles_path&#39; &quot;</span>
</span><span id=__span-0-593><a id=__codelineno-0-593 name=__codelineno-0-593></a>        <span class=s2>&quot;config value is set (that directory will be used instead). By default, files will just be edited. &quot;</span>
</span><span id=__span-0-594><a id=__codelineno-0-594 name=__codelineno-0-594></a>        <span class=s1>&#39;Specify the &quot;-u&quot; flag to also upload them to Garmin Connect.&#39;</span><span class=p>,</span>
</span><span id=__span-0-595><a id=__codelineno-0-595 name=__codelineno-0-595></a>    <span class=p>)</span>
</span><span id=__span-0-596><a id=__codelineno-0-596 name=__codelineno-0-596></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-597><a id=__codelineno-0-597 name=__codelineno-0-597></a>        <span class=s2>&quot;--profile&quot;</span><span class=p>,</span>
</span><span id=__span-0-598><a id=__codelineno-0-598 name=__codelineno-0-598></a>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;specify which profile to use (if not specified, uses default profile)&quot;</span><span class=p>,</span>
</span><span id=__span-0-599><a id=__codelineno-0-599 name=__codelineno-0-599></a>        <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-600><a id=__codelineno-0-600 name=__codelineno-0-600></a>        <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-601><a id=__codelineno-0-601 name=__codelineno-0-601></a>    <span class=p>)</span>
</span><span id=__span-0-602><a id=__codelineno-0-602 name=__codelineno-0-602></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-603><a id=__codelineno-0-603 name=__codelineno-0-603></a>        <span class=s2>&quot;--list-profiles&quot;</span><span class=p>,</span>
</span><span id=__span-0-604><a id=__codelineno-0-604 name=__codelineno-0-604></a>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;list all available profiles and exit&quot;</span><span class=p>,</span>
</span><span id=__span-0-605><a id=__codelineno-0-605 name=__codelineno-0-605></a>        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span><span class=p>,</span>
</span><span id=__span-0-606><a id=__codelineno-0-606 name=__codelineno-0-606></a>    <span class=p>)</span>
</span><span id=__span-0-607><a id=__codelineno-0-607 name=__codelineno-0-607></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-608><a id=__codelineno-0-608 name=__codelineno-0-608></a>        <span class=s2>&quot;--config-menu&quot;</span><span class=p>,</span>
</span><span id=__span-0-609><a id=__codelineno-0-609 name=__codelineno-0-609></a>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;launch the interactive profile management menu&quot;</span><span class=p>,</span>
</span><span id=__span-0-610><a id=__codelineno-0-610 name=__codelineno-0-610></a>        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span><span class=p>,</span>
</span><span id=__span-0-611><a id=__codelineno-0-611 name=__codelineno-0-611></a>    <span class=p>)</span>
</span><span id=__span-0-612><a id=__codelineno-0-612 name=__codelineno-0-612></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-613><a id=__codelineno-0-613 name=__codelineno-0-613></a>        <span class=s2>&quot;--show-dirs&quot;</span><span class=p>,</span>
</span><span id=__span-0-614><a id=__codelineno-0-614 name=__codelineno-0-614></a>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;show the directories used by Fit File Faker for configuration and cache&quot;</span><span class=p>,</span>
</span><span id=__span-0-615><a id=__codelineno-0-615 name=__codelineno-0-615></a>        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span><span class=p>,</span>
</span><span id=__span-0-616><a id=__codelineno-0-616 name=__codelineno-0-616></a>    <span class=p>)</span>
</span><span id=__span-0-617><a id=__codelineno-0-617 name=__codelineno-0-617></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-618><a id=__codelineno-0-618 name=__codelineno-0-618></a>        <span class=s2>&quot;-u&quot;</span><span class=p>,</span>
</span><span id=__span-0-619><a id=__codelineno-0-619 name=__codelineno-0-619></a>        <span class=s2>&quot;--upload&quot;</span><span class=p>,</span>
</span><span id=__span-0-620><a id=__codelineno-0-620 name=__codelineno-0-620></a>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;upload FIT file (after editing) to Garmin Connect&quot;</span><span class=p>,</span>
</span><span id=__span-0-621><a id=__codelineno-0-621 name=__codelineno-0-621></a>        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span><span class=p>,</span>
</span><span id=__span-0-622><a id=__codelineno-0-622 name=__codelineno-0-622></a>    <span class=p>)</span>
</span><span id=__span-0-623><a id=__codelineno-0-623 name=__codelineno-0-623></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-624><a id=__codelineno-0-624 name=__codelineno-0-624></a>        <span class=s2>&quot;-ua&quot;</span><span class=p>,</span>
</span><span id=__span-0-625><a id=__codelineno-0-625 name=__codelineno-0-625></a>        <span class=s2>&quot;--upload-all&quot;</span><span class=p>,</span>
</span><span id=__span-0-626><a id=__codelineno-0-626 name=__codelineno-0-626></a>        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span><span class=p>,</span>
</span><span id=__span-0-627><a id=__codelineno-0-627 name=__codelineno-0-627></a>        <span class=n>help</span><span class=o>=</span><span class=s1>&#39;upload all FIT files in directory (if they are not in &quot;already processed&quot; list)&#39;</span><span class=p>,</span>
</span><span id=__span-0-628><a id=__codelineno-0-628 name=__codelineno-0-628></a>    <span class=p>)</span>
</span><span id=__span-0-629><a id=__codelineno-0-629 name=__codelineno-0-629></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-630><a id=__codelineno-0-630 name=__codelineno-0-630></a>        <span class=s2>&quot;-p&quot;</span><span class=p>,</span>
</span><span id=__span-0-631><a id=__codelineno-0-631 name=__codelineno-0-631></a>        <span class=s2>&quot;--preinitialize&quot;</span><span class=p>,</span>
</span><span id=__span-0-632><a id=__codelineno-0-632 name=__codelineno-0-632></a>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;preinitialize the list of processed FIT files (mark all existing files in directory as already uploaded)&quot;</span><span class=p>,</span>
</span><span id=__span-0-633><a id=__codelineno-0-633 name=__codelineno-0-633></a>        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span><span class=p>,</span>
</span><span id=__span-0-634><a id=__codelineno-0-634 name=__codelineno-0-634></a>    <span class=p>)</span>
</span><span id=__span-0-635><a id=__codelineno-0-635 name=__codelineno-0-635></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-636><a id=__codelineno-0-636 name=__codelineno-0-636></a>        <span class=s2>&quot;-m&quot;</span><span class=p>,</span>
</span><span id=__span-0-637><a id=__codelineno-0-637 name=__codelineno-0-637></a>        <span class=s2>&quot;--monitor&quot;</span><span class=p>,</span>
</span><span id=__span-0-638><a id=__codelineno-0-638 name=__codelineno-0-638></a>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;monitor a directory and upload all newly created FIT files as they are found&quot;</span><span class=p>,</span>
</span><span id=__span-0-639><a id=__codelineno-0-639 name=__codelineno-0-639></a>        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span><span class=p>,</span>
</span><span id=__span-0-640><a id=__codelineno-0-640 name=__codelineno-0-640></a>    <span class=p>)</span>
</span><span id=__span-0-641><a id=__codelineno-0-641 name=__codelineno-0-641></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-642><a id=__codelineno-0-642 name=__codelineno-0-642></a>        <span class=s2>&quot;-d&quot;</span><span class=p>,</span>
</span><span id=__span-0-643><a id=__codelineno-0-643 name=__codelineno-0-643></a>        <span class=s2>&quot;--dryrun&quot;</span><span class=p>,</span>
</span><span id=__span-0-644><a id=__codelineno-0-644 name=__codelineno-0-644></a>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;perform a dry run, meaning any files processed will not be saved nor uploaded&quot;</span><span class=p>,</span>
</span><span id=__span-0-645><a id=__codelineno-0-645 name=__codelineno-0-645></a>        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span><span class=p>,</span>
</span><span id=__span-0-646><a id=__codelineno-0-646 name=__codelineno-0-646></a>    <span class=p>)</span>
</span><span id=__span-0-647><a id=__codelineno-0-647 name=__codelineno-0-647></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-648><a id=__codelineno-0-648 name=__codelineno-0-648></a>        <span class=s2>&quot;-v&quot;</span><span class=p>,</span> <span class=s2>&quot;--verbose&quot;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s2>&quot;increase verbosity of log output&quot;</span><span class=p>,</span> <span class=n>action</span><span class=o>=</span><span class=s2>&quot;store_true&quot;</span>
</span><span id=__span-0-649><a id=__codelineno-0-649 name=__codelineno-0-649></a>    <span class=p>)</span>
</span><span id=__span-0-650><a id=__codelineno-0-650 name=__codelineno-0-650></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span><span id=__span-0-651><a id=__codelineno-0-651 name=__codelineno-0-651></a>        <span class=s2>&quot;--version&quot;</span><span class=p>,</span>
</span><span id=__span-0-652><a id=__codelineno-0-652 name=__codelineno-0-652></a>        <span class=n>action</span><span class=o>=</span><span class=s2>&quot;version&quot;</span><span class=p>,</span>
</span><span id=__span-0-653><a id=__codelineno-0-653 name=__codelineno-0-653></a>        <span class=n>version</span><span class=o>=</span><span class=sa>f</span><span class=s2>&quot;%(prog)s </span><span class=si>{</span><span class=n>version</span><span class=p>(</span><span class=s1>&#39;fit-file-faker&#39;</span><span class=p>)</span><span class=si>}</span><span class=s2> (released </span><span class=si>{</span><span class=n>__version_date__</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>,</span>
</span><span id=__span-0-654><a id=__codelineno-0-654 name=__codelineno-0-654></a>        <span class=n>help</span><span class=o>=</span><span class=s2>&quot;show program version and exit&quot;</span><span class=p>,</span>
</span><span id=__span-0-655><a id=__codelineno-0-655 name=__codelineno-0-655></a>    <span class=p>)</span>
</span><span id=__span-0-656><a id=__codelineno-0-656 name=__codelineno-0-656></a>    <span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>()</span>
</span><span id=__span-0-657><a id=__codelineno-0-657 name=__codelineno-0-657></a>
</span><span id=__span-0-658><a id=__codelineno-0-658 name=__codelineno-0-658></a>    <span class=c1># setup logging before anything else</span>
</span><span id=__span-0-659><a id=__codelineno-0-659 name=__codelineno-0-659></a>    <span class=k>if</span> <span class=n>args</span><span class=o>.</span><span class=n>verbose</span><span class=p>:</span>
</span><span id=__span-0-660><a id=__codelineno-0-660 name=__codelineno-0-660></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>DEBUG</span><span class=p>)</span>
</span><span id=__span-0-661><a id=__codelineno-0-661 name=__codelineno-0-661></a>        <span class=k>for</span> <span class=n>logger</span> <span class=ow>in</span> <span class=p>[</span>
</span><span id=__span-0-662><a id=__codelineno-0-662 name=__codelineno-0-662></a>            <span class=s2>&quot;urllib3.connectionpool&quot;</span><span class=p>,</span>
</span><span id=__span-0-663><a id=__codelineno-0-663 name=__codelineno-0-663></a>            <span class=s2>&quot;oauthlib.oauth1.rfc5849&quot;</span><span class=p>,</span>
</span><span id=__span-0-664><a id=__codelineno-0-664 name=__codelineno-0-664></a>            <span class=s2>&quot;requests_oauthlib.oauth1_auth&quot;</span><span class=p>,</span>
</span><span id=__span-0-665><a id=__codelineno-0-665 name=__codelineno-0-665></a>            <span class=s2>&quot;asyncio&quot;</span><span class=p>,</span>
</span><span id=__span-0-666><a id=__codelineno-0-666 name=__codelineno-0-666></a>            <span class=s2>&quot;watchdog.observers.inotify_buffer&quot;</span><span class=p>,</span>
</span><span id=__span-0-667><a id=__codelineno-0-667 name=__codelineno-0-667></a>        <span class=p>]:</span>
</span><span id=__span-0-668><a id=__codelineno-0-668 name=__codelineno-0-668></a>            <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=n>logger</span><span class=p>)</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>
</span><span id=__span-0-669><a id=__codelineno-0-669 name=__codelineno-0-669></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Using &quot;</span><span class=si>{</span><span class=n>config_manager</span><span class=o>.</span><span class=n>get_config_file_path</span><span class=p>()</span><span class=si>}</span><span class=s1>&quot; as config file&#39;</span><span class=p>)</span>
</span><span id=__span-0-670><a id=__codelineno-0-670 name=__codelineno-0-670></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-671><a id=__codelineno-0-671 name=__codelineno-0-671></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>INFO</span><span class=p>)</span>
</span><span id=__span-0-672><a id=__codelineno-0-672 name=__codelineno-0-672></a>        <span class=k>for</span> <span class=n>logger</span> <span class=ow>in</span> <span class=p>[</span>
</span><span id=__span-0-673><a id=__codelineno-0-673 name=__codelineno-0-673></a>            <span class=s2>&quot;urllib3.connectionpool&quot;</span><span class=p>,</span>
</span><span id=__span-0-674><a id=__codelineno-0-674 name=__codelineno-0-674></a>            <span class=s2>&quot;oauthlib.oauth1.rfc5849&quot;</span><span class=p>,</span>
</span><span id=__span-0-675><a id=__codelineno-0-675 name=__codelineno-0-675></a>            <span class=s2>&quot;requests_oauthlib.oauth1_auth&quot;</span><span class=p>,</span>
</span><span id=__span-0-676><a id=__codelineno-0-676 name=__codelineno-0-676></a>            <span class=s2>&quot;asyncio&quot;</span><span class=p>,</span>
</span><span id=__span-0-677><a id=__codelineno-0-677 name=__codelineno-0-677></a>            <span class=s2>&quot;watchdog.observers.inotify_buffer&quot;</span><span class=p>,</span>
</span><span id=__span-0-678><a id=__codelineno-0-678 name=__codelineno-0-678></a>        <span class=p>]:</span>
</span><span id=__span-0-679><a id=__codelineno-0-679 name=__codelineno-0-679></a>            <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=n>logger</span><span class=p>)</span><span class=o>.</span><span class=n>setLevel</span><span class=p>(</span><span class=n>logging</span><span class=o>.</span><span class=n>WARNING</span><span class=p>)</span>
</span><span id=__span-0-680><a id=__codelineno-0-680 name=__codelineno-0-680></a>
</span><span id=__span-0-681><a id=__codelineno-0-681 name=__codelineno-0-681></a>    <span class=c1># Handle --list-profiles</span>
</span><span id=__span-0-682><a id=__codelineno-0-682 name=__codelineno-0-682></a>    <span class=k>if</span> <span class=n>args</span><span class=o>.</span><span class=n>list_profiles</span><span class=p>:</span>
</span><span id=__span-0-683><a id=__codelineno-0-683 name=__codelineno-0-683></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=p>:</span>
</span><span id=__span-0-684><a id=__codelineno-0-684 name=__codelineno-0-684></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-685><a id=__codelineno-0-685 name=__codelineno-0-685></a>                <span class=s2>&quot;No profiles configured. Run with --config-menu to create one.&quot;</span>
</span><span id=__span-0-686><a id=__codelineno-0-686 name=__codelineno-0-686></a>            <span class=p>)</span>
</span><span id=__span-0-687><a id=__codelineno-0-687 name=__codelineno-0-687></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-688><a id=__codelineno-0-688 name=__codelineno-0-688></a>            <span class=n>profile_manager</span><span class=o>.</span><span class=n>display_profiles_table</span><span class=p>()</span>
</span><span id=__span-0-689><a id=__codelineno-0-689 name=__codelineno-0-689></a>        <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-690><a id=__codelineno-0-690 name=__codelineno-0-690></a>
</span><span id=__span-0-691><a id=__codelineno-0-691 name=__codelineno-0-691></a>    <span class=c1># Handle --config-menu</span>
</span><span id=__span-0-692><a id=__codelineno-0-692 name=__codelineno-0-692></a>    <span class=k>if</span> <span class=n>args</span><span class=o>.</span><span class=n>config_menu</span><span class=p>:</span>
</span><span id=__span-0-693><a id=__codelineno-0-693 name=__codelineno-0-693></a>        <span class=n>profile_manager</span><span class=o>.</span><span class=n>interactive_menu</span><span class=p>()</span>
</span><span id=__span-0-694><a id=__codelineno-0-694 name=__codelineno-0-694></a>        <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-695><a id=__codelineno-0-695 name=__codelineno-0-695></a>
</span><span id=__span-0-696><a id=__codelineno-0-696 name=__codelineno-0-696></a>    <span class=c1># Handle --show-dirs</span>
</span><span id=__span-0-697><a id=__codelineno-0-697 name=__codelineno-0-697></a>    <span class=k>if</span> <span class=n>args</span><span class=o>.</span><span class=n>show_dirs</span><span class=p>:</span>
</span><span id=__span-0-698><a id=__codelineno-0-698 name=__codelineno-0-698></a>        <span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.config</span><span class=w> </span><span class=kn>import</span> <span class=n>dirs</span> <span class=k>as</span> <span class=n>config_dirs</span>
</span><span id=__span-0-699><a id=__codelineno-0-699 name=__codelineno-0-699></a>
</span><span id=__span-0-700><a id=__codelineno-0-700 name=__codelineno-0-700></a>        <span class=n>console</span> <span class=o>=</span> <span class=n>Console</span><span class=p>()</span>
</span><span id=__span-0-701><a id=__codelineno-0-701 name=__codelineno-0-701></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[bold cyan]Fit File Faker - Directories[/bold cyan]</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-702><a id=__codelineno-0-702 name=__codelineno-0-702></a>
</span><span id=__span-0-703><a id=__codelineno-0-703 name=__codelineno-0-703></a>        <span class=c1># Show executable path</span>
</span><span id=__span-0-704><a id=__codelineno-0-704 name=__codelineno-0-704></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;[green]Executable:[/green] [yellow]&quot;</span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>executable</span><span class=si>}</span><span class=s1>&quot;[/yellow]&#39;</span><span class=p>)</span>
</span><span id=__span-0-705><a id=__codelineno-0-705 name=__codelineno-0-705></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-706><a id=__codelineno-0-706 name=__codelineno-0-706></a>            <span class=sa>f</span><span class=s1>&#39;  [dim]fit-file-faker command:[/dim] [yellow]&quot;</span><span class=si>{</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=si>}</span><span class=s1>&quot;[/yellow]&#39;</span>
</span><span id=__span-0-707><a id=__codelineno-0-707 name=__codelineno-0-707></a>        <span class=p>)</span>
</span><span id=__span-0-708><a id=__codelineno-0-708 name=__codelineno-0-708></a>
</span><span id=__span-0-709><a id=__codelineno-0-709 name=__codelineno-0-709></a>        <span class=c1># Show config directory</span>
</span><span id=__span-0-710><a id=__codelineno-0-710 name=__codelineno-0-710></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-711><a id=__codelineno-0-711 name=__codelineno-0-711></a>            <span class=sa>f</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>[green]Config directory:[/green] [yellow]&quot;</span><span class=si>{</span><span class=n>config_dirs</span><span class=o>.</span><span class=n>user_config_path</span><span class=si>}</span><span class=s1>&quot;[/yellow]&#39;</span>
</span><span id=__span-0-712><a id=__codelineno-0-712 name=__codelineno-0-712></a>        <span class=p>)</span>
</span><span id=__span-0-713><a id=__codelineno-0-713 name=__codelineno-0-713></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-714><a id=__codelineno-0-714 name=__codelineno-0-714></a>            <span class=sa>f</span><span class=s1>&#39;  [dim]Configuration file:[/dim] [yellow]&quot;</span><span class=si>{</span><span class=n>config_manager</span><span class=o>.</span><span class=n>get_config_file_path</span><span class=p>()</span><span class=si>}</span><span class=s1>&quot;[/yellow]&#39;</span>
</span><span id=__span-0-715><a id=__codelineno-0-715 name=__codelineno-0-715></a>        <span class=p>)</span>
</span><span id=__span-0-716><a id=__codelineno-0-716 name=__codelineno-0-716></a>
</span><span id=__span-0-717><a id=__codelineno-0-717 name=__codelineno-0-717></a>        <span class=c1># Show cache directory</span>
</span><span id=__span-0-718><a id=__codelineno-0-718 name=__codelineno-0-718></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-719><a id=__codelineno-0-719 name=__codelineno-0-719></a>            <span class=sa>f</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>[green]Cache directory:[/green] [yellow]&quot;</span><span class=si>{</span><span class=n>config_dirs</span><span class=o>.</span><span class=n>user_cache_path</span><span class=si>}</span><span class=s1>&quot;[/yellow]&#39;</span>
</span><span id=__span-0-720><a id=__codelineno-0-720 name=__codelineno-0-720></a>        <span class=p>)</span>
</span><span id=__span-0-721><a id=__codelineno-0-721 name=__codelineno-0-721></a>
</span><span id=__span-0-722><a id=__codelineno-0-722 name=__codelineno-0-722></a>        <span class=c1># Find and list actual .garth directories</span>
</span><span id=__span-0-723><a id=__codelineno-0-723 name=__codelineno-0-723></a>        <span class=n>garth_dirs</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>config_dirs</span><span class=o>.</span><span class=n>user_cache_path</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s2>&quot;.garth_*&quot;</span><span class=p>))</span>
</span><span id=__span-0-724><a id=__codelineno-0-724 name=__codelineno-0-724></a>        <span class=k>if</span> <span class=n>garth_dirs</span><span class=p>:</span>
</span><span id=__span-0-725><a id=__codelineno-0-725 name=__codelineno-0-725></a>            <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;  [dim]Garmin credential directories:[/dim]&quot;</span><span class=p>)</span>
</span><span id=__span-0-726><a id=__codelineno-0-726 name=__codelineno-0-726></a>            <span class=k>for</span> <span class=n>garth_dir</span> <span class=ow>in</span> <span class=n>garth_dirs</span><span class=p>:</span>
</span><span id=__span-0-727><a id=__codelineno-0-727 name=__codelineno-0-727></a>                <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;    [yellow]&quot;</span><span class=si>{</span><span class=n>garth_dir</span><span class=si>}</span><span class=s1>&quot;[/yellow]&#39;</span><span class=p>)</span>
</span><span id=__span-0-728><a id=__codelineno-0-728 name=__codelineno-0-728></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-729><a id=__codelineno-0-729 name=__codelineno-0-729></a>            <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-730><a id=__codelineno-0-730 name=__codelineno-0-730></a>                <span class=s2>&quot;  [dim]No Garmin credential directories found (will be created on first use)[/dim]&quot;</span>
</span><span id=__span-0-731><a id=__codelineno-0-731 name=__codelineno-0-731></a>            <span class=p>)</span>
</span><span id=__span-0-732><a id=__codelineno-0-732 name=__codelineno-0-732></a>
</span><span id=__span-0-733><a id=__codelineno-0-733 name=__codelineno-0-733></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span><span id=__span-0-734><a id=__codelineno-0-734 name=__codelineno-0-734></a>        <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-735><a id=__codelineno-0-735 name=__codelineno-0-735></a>
</span><span id=__span-0-736><a id=__codelineno-0-736 name=__codelineno-0-736></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>args</span><span class=o>.</span><span class=n>input_path</span> <span class=ow>and</span> <span class=ow>not</span> <span class=p>(</span>
</span><span id=__span-0-737><a id=__codelineno-0-737 name=__codelineno-0-737></a>        <span class=n>args</span><span class=o>.</span><span class=n>upload_all</span> <span class=ow>or</span> <span class=n>args</span><span class=o>.</span><span class=n>monitor</span> <span class=ow>or</span> <span class=n>args</span><span class=o>.</span><span class=n>preinitialize</span>
</span><span id=__span-0-738><a id=__codelineno-0-738 name=__codelineno-0-738></a>    <span class=p>):</span>
</span><span id=__span-0-739><a id=__codelineno-0-739 name=__codelineno-0-739></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span>
</span><span id=__span-0-740><a id=__codelineno-0-740 name=__codelineno-0-740></a>            <span class=s1>&#39;***************************</span><span class=se>\n</span><span class=s1>Specify either &quot;--upload-all&quot;, &quot;--monitor&quot;, &quot;--preinitialize&quot;, or one input file/directory to use</span><span class=se>\n</span><span class=s1>***************************</span><span class=se>\n</span><span class=s1>&#39;</span>
</span><span id=__span-0-741><a id=__codelineno-0-741 name=__codelineno-0-741></a>        <span class=p>)</span>
</span><span id=__span-0-742><a id=__codelineno-0-742 name=__codelineno-0-742></a>        <span class=n>parser</span><span class=o>.</span><span class=n>print_help</span><span class=p>()</span>
</span><span id=__span-0-743><a id=__codelineno-0-743 name=__codelineno-0-743></a>        <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-744><a id=__codelineno-0-744 name=__codelineno-0-744></a>    <span class=k>if</span> <span class=n>args</span><span class=o>.</span><span class=n>monitor</span> <span class=ow>and</span> <span class=n>args</span><span class=o>.</span><span class=n>upload_all</span><span class=p>:</span>
</span><span id=__span-0-745><a id=__codelineno-0-745 name=__codelineno-0-745></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span>
</span><span id=__span-0-746><a id=__codelineno-0-746 name=__codelineno-0-746></a>            <span class=s1>&#39;***************************</span><span class=se>\n</span><span class=s1>Cannot use &quot;--upload-all&quot; and &quot;--monitor&quot; together</span><span class=se>\n</span><span class=s1>***************************</span><span class=se>\n</span><span class=s1>&#39;</span>
</span><span id=__span-0-747><a id=__codelineno-0-747 name=__codelineno-0-747></a>        <span class=p>)</span>
</span><span id=__span-0-748><a id=__codelineno-0-748 name=__codelineno-0-748></a>        <span class=n>parser</span><span class=o>.</span><span class=n>print_help</span><span class=p>()</span>
</span><span id=__span-0-749><a id=__codelineno-0-749 name=__codelineno-0-749></a>        <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-750><a id=__codelineno-0-750 name=__codelineno-0-750></a>
</span><span id=__span-0-751><a id=__codelineno-0-751 name=__codelineno-0-751></a>    <span class=c1># Select profile to use</span>
</span><span id=__span-0-752><a id=__codelineno-0-752 name=__codelineno-0-752></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-753><a id=__codelineno-0-753 name=__codelineno-0-753></a>        <span class=n>profile</span> <span class=o>=</span> <span class=n>select_profile</span><span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>profile</span><span class=p>)</span>
</span><span id=__span-0-754><a id=__codelineno-0-754 name=__codelineno-0-754></a>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-755><a id=__codelineno-0-755 name=__codelineno-0-755></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>))</span>
</span><span id=__span-0-756><a id=__codelineno-0-756 name=__codelineno-0-756></a>        <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-757><a id=__codelineno-0-757 name=__codelineno-0-757></a>
</span><span id=__span-0-758><a id=__codelineno-0-758 name=__codelineno-0-758></a>    <span class=c1># Determine path to use (from input_path or profile&#39;s fitfiles_path)</span>
</span><span id=__span-0-759><a id=__codelineno-0-759 name=__codelineno-0-759></a>    <span class=k>if</span> <span class=n>args</span><span class=o>.</span><span class=n>input_path</span><span class=p>:</span>
</span><span id=__span-0-760><a id=__codelineno-0-760 name=__codelineno-0-760></a>        <span class=n>p</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>input_path</span><span class=p>)</span><span class=o>.</span><span class=n>absolute</span><span class=p>()</span>
</span><span id=__span-0-761><a id=__codelineno-0-761 name=__codelineno-0-761></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Using path &quot;</span><span class=si>{</span><span class=n>p</span><span class=si>}</span><span class=s1>&quot; from command line input&#39;</span><span class=p>)</span>
</span><span id=__span-0-762><a id=__codelineno-0-762 name=__codelineno-0-762></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-763><a id=__codelineno-0-763 name=__codelineno-0-763></a>        <span class=k>if</span> <span class=n>profile</span><span class=o>.</span><span class=n>fitfiles_path</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-764><a id=__codelineno-0-764 name=__codelineno-0-764></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span>
</span><span id=__span-0-765><a id=__codelineno-0-765 name=__codelineno-0-765></a>                <span class=sa>f</span><span class=s1>&#39;Profile &quot;</span><span class=si>{</span><span class=n>profile</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot; does not have a fitfiles_path configured. &#39;</span>
</span><span id=__span-0-766><a id=__codelineno-0-766 name=__codelineno-0-766></a>                <span class=sa>f</span><span class=s2>&quot;Please update the profile with --config-menu or provide a path as an argument.&quot;</span>
</span><span id=__span-0-767><a id=__codelineno-0-767 name=__codelineno-0-767></a>            <span class=p>)</span>
</span><span id=__span-0-768><a id=__codelineno-0-768 name=__codelineno-0-768></a>            <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-769><a id=__codelineno-0-769 name=__codelineno-0-769></a>        <span class=n>p</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>profile</span><span class=o>.</span><span class=n>fitfiles_path</span><span class=p>)</span><span class=o>.</span><span class=n>absolute</span><span class=p>()</span>
</span><span id=__span-0-770><a id=__codelineno-0-770 name=__codelineno-0-770></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Using path &quot;</span><span class=si>{</span><span class=n>p</span><span class=si>}</span><span class=s1>&quot; from profile &quot;</span><span class=si>{</span><span class=n>profile</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot; configuration&#39;</span><span class=p>)</span>
</span><span id=__span-0-771><a id=__codelineno-0-771 name=__codelineno-0-771></a>
</span><span id=__span-0-772><a id=__codelineno-0-772 name=__codelineno-0-772></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>p</span><span class=o>.</span><span class=n>exists</span><span class=p>():</span>
</span><span id=__span-0-773><a id=__codelineno-0-773 name=__codelineno-0-773></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span>
</span><span id=__span-0-774><a id=__codelineno-0-774 name=__codelineno-0-774></a>            <span class=sa>f</span><span class=s1>&#39;Configured/selected path &quot;</span><span class=si>{</span><span class=n>p</span><span class=si>}</span><span class=s1>&quot; does not exist, please check your configuration.&#39;</span>
</span><span id=__span-0-775><a id=__codelineno-0-775 name=__codelineno-0-775></a>        <span class=p>)</span>
</span><span id=__span-0-776><a id=__codelineno-0-776 name=__codelineno-0-776></a>        <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-777><a id=__codelineno-0-777 name=__codelineno-0-777></a>    <span class=k>if</span> <span class=n>p</span><span class=o>.</span><span class=n>is_file</span><span class=p>():</span>
</span><span id=__span-0-778><a id=__codelineno-0-778 name=__codelineno-0-778></a>        <span class=c1># if p is a single file, do edit and upload</span>
</span><span id=__span-0-779><a id=__codelineno-0-779 name=__codelineno-0-779></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;&quot;</span><span class=si>{</span><span class=n>p</span><span class=si>}</span><span class=s1>&quot; is a single file&#39;</span><span class=p>)</span>
</span><span id=__span-0-780><a id=__codelineno-0-780 name=__codelineno-0-780></a>        <span class=n>fit_editor</span><span class=o>.</span><span class=n>set_profile</span><span class=p>(</span><span class=n>profile</span><span class=p>)</span>
</span><span id=__span-0-781><a id=__codelineno-0-781 name=__codelineno-0-781></a>        <span class=n>output_path</span> <span class=o>=</span> <span class=n>fit_editor</span><span class=o>.</span><span class=n>edit_fit</span><span class=p>(</span><span class=n>p</span><span class=p>,</span> <span class=n>dryrun</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>dryrun</span><span class=p>)</span>
</span><span id=__span-0-782><a id=__codelineno-0-782 name=__codelineno-0-782></a>        <span class=k>if</span> <span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>upload</span> <span class=ow>or</span> <span class=n>args</span><span class=o>.</span><span class=n>upload_all</span><span class=p>)</span> <span class=ow>and</span> <span class=n>output_path</span><span class=p>:</span>
</span><span id=__span-0-783><a id=__codelineno-0-783 name=__codelineno-0-783></a>            <span class=n>upload</span><span class=p>(</span><span class=n>output_path</span><span class=p>,</span> <span class=n>profile</span><span class=o>=</span><span class=n>profile</span><span class=p>,</span> <span class=n>original_path</span><span class=o>=</span><span class=n>p</span><span class=p>,</span> <span class=n>dryrun</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>dryrun</span><span class=p>)</span>
</span><span id=__span-0-784><a id=__codelineno-0-784 name=__codelineno-0-784></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-785><a id=__codelineno-0-785 name=__codelineno-0-785></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;&quot;</span><span class=si>{</span><span class=n>p</span><span class=si>}</span><span class=s1>&quot; is a directory&#39;</span><span class=p>)</span>
</span><span id=__span-0-786><a id=__codelineno-0-786 name=__codelineno-0-786></a>        <span class=c1># if p is directory, do other stuff</span>
</span><span id=__span-0-787><a id=__codelineno-0-787 name=__codelineno-0-787></a>        <span class=k>if</span> <span class=n>args</span><span class=o>.</span><span class=n>upload_all</span> <span class=ow>or</span> <span class=n>args</span><span class=o>.</span><span class=n>preinitialize</span><span class=p>:</span>
</span><span id=__span-0-788><a id=__codelineno-0-788 name=__codelineno-0-788></a>            <span class=n>upload_all</span><span class=p>(</span>
</span><span id=__span-0-789><a id=__codelineno-0-789 name=__codelineno-0-789></a>                <span class=n>p</span><span class=p>,</span> <span class=n>profile</span><span class=o>=</span><span class=n>profile</span><span class=p>,</span> <span class=n>preinitialize</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>preinitialize</span><span class=p>,</span> <span class=n>dryrun</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>dryrun</span>
</span><span id=__span-0-790><a id=__codelineno-0-790 name=__codelineno-0-790></a>            <span class=p>)</span>
</span><span id=__span-0-791><a id=__codelineno-0-791 name=__codelineno-0-791></a>        <span class=k>elif</span> <span class=n>args</span><span class=o>.</span><span class=n>monitor</span><span class=p>:</span>
</span><span id=__span-0-792><a id=__codelineno-0-792 name=__codelineno-0-792></a>            <span class=n>monitor</span><span class=p>(</span><span class=n>p</span><span class=p>,</span> <span class=n>profile</span><span class=o>=</span><span class=n>profile</span><span class=p>,</span> <span class=n>dryrun</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>dryrun</span><span class=p>)</span>
</span><span id=__span-0-793><a id=__codelineno-0-793 name=__codelineno-0-793></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-794><a id=__codelineno-0-794 name=__codelineno-0-794></a>            <span class=n>files_to_edit</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>p</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s2>&quot;*.fit&quot;</span><span class=p>,</span> <span class=n>case_sensitive</span><span class=o>=</span><span class=kc>False</span><span class=p>))</span>
</span><span id=__span-0-795><a id=__codelineno-0-795 name=__codelineno-0-795></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Found </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>files_to_edit</span><span class=p>)</span><span class=si>}</span><span class=s2> FIT files to edit&quot;</span><span class=p>)</span>
</span><span id=__span-0-796><a id=__codelineno-0-796 name=__codelineno-0-796></a>            <span class=n>fit_editor</span><span class=o>.</span><span class=n>set_profile</span><span class=p>(</span><span class=n>profile</span><span class=p>)</span>
</span><span id=__span-0-797><a id=__codelineno-0-797 name=__codelineno-0-797></a>            <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=n>files_to_edit</span><span class=p>:</span>
</span><span id=__span-0-798><a id=__codelineno-0-798 name=__codelineno-0-798></a>                <span class=n>fit_editor</span><span class=o>.</span><span class=n>edit_fit</span><span class=p>(</span><span class=n>f</span><span class=p>,</span> <span class=n>dryrun</span><span class=o>=</span><span class=n>args</span><span class=o>.</span><span class=n>dryrun</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=fit_file_faker.app.select_profile class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">select_profile</span> <a href=#fit_file_faker.app.select_profile class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>select_profile</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>profile_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Select a profile to use for the current operation.</p> <p>Uses the following priority: 1. If profile_name is provided, use that profile (error if not found) 2. Use the default profile if one is set 3. If only one profile exists, use it 4. If multiple profiles exist, prompt the user to select one 5. If no profiles exist, raise an error</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>profile_name</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>Optional name of the profile to use. If not provided, uses the default profile or prompts the user.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a></code> </td> <td> <div class=doc-md-description> <p>The selected Profile object.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=ValueError>ValueError</span></code> </td> <td> <div class=doc-md-description> <p>If the specified profile is not found or no profiles are configured.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Use a specific profile</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span> <span class=o>=</span> <span class=n>select_profile</span><span class=p>(</span><span class=s2>&quot;tpv&quot;</span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Use default profile (or prompt if no default)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span> <span class=o>=</span> <span class=n>select_profile</span><span class=p>()</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/app.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-465>465</a></span>
<span class=normal><a href=#__codelineno-0-466>466</a></span>
<span class=normal><a href=#__codelineno-0-467>467</a></span>
<span class=normal><a href=#__codelineno-0-468>468</a></span>
<span class=normal><a href=#__codelineno-0-469>469</a></span>
<span class=normal><a href=#__codelineno-0-470>470</a></span>
<span class=normal><a href=#__codelineno-0-471>471</a></span>
<span class=normal><a href=#__codelineno-0-472>472</a></span>
<span class=normal><a href=#__codelineno-0-473>473</a></span>
<span class=normal><a href=#__codelineno-0-474>474</a></span>
<span class=normal><a href=#__codelineno-0-475>475</a></span>
<span class=normal><a href=#__codelineno-0-476>476</a></span>
<span class=normal><a href=#__codelineno-0-477>477</a></span>
<span class=normal><a href=#__codelineno-0-478>478</a></span>
<span class=normal><a href=#__codelineno-0-479>479</a></span>
<span class=normal><a href=#__codelineno-0-480>480</a></span>
<span class=normal><a href=#__codelineno-0-481>481</a></span>
<span class=normal><a href=#__codelineno-0-482>482</a></span>
<span class=normal><a href=#__codelineno-0-483>483</a></span>
<span class=normal><a href=#__codelineno-0-484>484</a></span>
<span class=normal><a href=#__codelineno-0-485>485</a></span>
<span class=normal><a href=#__codelineno-0-486>486</a></span>
<span class=normal><a href=#__codelineno-0-487>487</a></span>
<span class=normal><a href=#__codelineno-0-488>488</a></span>
<span class=normal><a href=#__codelineno-0-489>489</a></span>
<span class=normal><a href=#__codelineno-0-490>490</a></span>
<span class=normal><a href=#__codelineno-0-491>491</a></span>
<span class=normal><a href=#__codelineno-0-492>492</a></span>
<span class=normal><a href=#__codelineno-0-493>493</a></span>
<span class=normal><a href=#__codelineno-0-494>494</a></span>
<span class=normal><a href=#__codelineno-0-495>495</a></span>
<span class=normal><a href=#__codelineno-0-496>496</a></span>
<span class=normal><a href=#__codelineno-0-497>497</a></span>
<span class=normal><a href=#__codelineno-0-498>498</a></span>
<span class=normal><a href=#__codelineno-0-499>499</a></span>
<span class=normal><a href=#__codelineno-0-500>500</a></span>
<span class=normal><a href=#__codelineno-0-501>501</a></span>
<span class=normal><a href=#__codelineno-0-502>502</a></span>
<span class=normal><a href=#__codelineno-0-503>503</a></span>
<span class=normal><a href=#__codelineno-0-504>504</a></span>
<span class=normal><a href=#__codelineno-0-505>505</a></span>
<span class=normal><a href=#__codelineno-0-506>506</a></span>
<span class=normal><a href=#__codelineno-0-507>507</a></span>
<span class=normal><a href=#__codelineno-0-508>508</a></span>
<span class=normal><a href=#__codelineno-0-509>509</a></span>
<span class=normal><a href=#__codelineno-0-510>510</a></span>
<span class=normal><a href=#__codelineno-0-511>511</a></span>
<span class=normal><a href=#__codelineno-0-512>512</a></span>
<span class=normal><a href=#__codelineno-0-513>513</a></span>
<span class=normal><a href=#__codelineno-0-514>514</a></span>
<span class=normal><a href=#__codelineno-0-515>515</a></span>
<span class=normal><a href=#__codelineno-0-516>516</a></span>
<span class=normal><a href=#__codelineno-0-517>517</a></span>
<span class=normal><a href=#__codelineno-0-518>518</a></span>
<span class=normal><a href=#__codelineno-0-519>519</a></span>
<span class=normal><a href=#__codelineno-0-520>520</a></span>
<span class=normal><a href=#__codelineno-0-521>521</a></span>
<span class=normal><a href=#__codelineno-0-522>522</a></span>
<span class=normal><a href=#__codelineno-0-523>523</a></span>
<span class=normal><a href=#__codelineno-0-524>524</a></span>
<span class=normal><a href=#__codelineno-0-525>525</a></span>
<span class=normal><a href=#__codelineno-0-526>526</a></span>
<span class=normal><a href=#__codelineno-0-527>527</a></span>
<span class=normal><a href=#__codelineno-0-528>528</a></span>
<span class=normal><a href=#__codelineno-0-529>529</a></span>
<span class=normal><a href=#__codelineno-0-530>530</a></span>
<span class=normal><a href=#__codelineno-0-531>531</a></span>
<span class=normal><a href=#__codelineno-0-532>532</a></span>
<span class=normal><a href=#__codelineno-0-533>533</a></span>
<span class=normal><a href=#__codelineno-0-534>534</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-465><a id=__codelineno-0-465 name=__codelineno-0-465></a><span class=k>def</span><span class=w> </span><span class=nf>select_profile</span><span class=p>(</span><span class=n>profile_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span><span class=p>:</span>
</span><span id=__span-0-466><a id=__codelineno-0-466 name=__codelineno-0-466></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Select a profile to use for the current operation.</span>
</span><span id=__span-0-467><a id=__codelineno-0-467 name=__codelineno-0-467></a>
</span><span id=__span-0-468><a id=__codelineno-0-468 name=__codelineno-0-468></a><span class=sd>    Uses the following priority:</span>
</span><span id=__span-0-469><a id=__codelineno-0-469 name=__codelineno-0-469></a><span class=sd>    1. If profile_name is provided, use that profile (error if not found)</span>
</span><span id=__span-0-470><a id=__codelineno-0-470 name=__codelineno-0-470></a><span class=sd>    2. Use the default profile if one is set</span>
</span><span id=__span-0-471><a id=__codelineno-0-471 name=__codelineno-0-471></a><span class=sd>    3. If only one profile exists, use it</span>
</span><span id=__span-0-472><a id=__codelineno-0-472 name=__codelineno-0-472></a><span class=sd>    4. If multiple profiles exist, prompt the user to select one</span>
</span><span id=__span-0-473><a id=__codelineno-0-473 name=__codelineno-0-473></a><span class=sd>    5. If no profiles exist, raise an error</span>
</span><span id=__span-0-474><a id=__codelineno-0-474 name=__codelineno-0-474></a>
</span><span id=__span-0-475><a id=__codelineno-0-475 name=__codelineno-0-475></a><span class=sd>    Args:</span>
</span><span id=__span-0-476><a id=__codelineno-0-476 name=__codelineno-0-476></a><span class=sd>        profile_name: Optional name of the profile to use. If not provided,</span>
</span><span id=__span-0-477><a id=__codelineno-0-477 name=__codelineno-0-477></a><span class=sd>            uses the default profile or prompts the user.</span>
</span><span id=__span-0-478><a id=__codelineno-0-478 name=__codelineno-0-478></a>
</span><span id=__span-0-479><a id=__codelineno-0-479 name=__codelineno-0-479></a><span class=sd>    Returns:</span>
</span><span id=__span-0-480><a id=__codelineno-0-480 name=__codelineno-0-480></a><span class=sd>        The selected Profile object.</span>
</span><span id=__span-0-481><a id=__codelineno-0-481 name=__codelineno-0-481></a>
</span><span id=__span-0-482><a id=__codelineno-0-482 name=__codelineno-0-482></a><span class=sd>    Raises:</span>
</span><span id=__span-0-483><a id=__codelineno-0-483 name=__codelineno-0-483></a><span class=sd>        ValueError: If the specified profile is not found or no profiles are configured.</span>
</span><span id=__span-0-484><a id=__codelineno-0-484 name=__codelineno-0-484></a>
</span><span id=__span-0-485><a id=__codelineno-0-485 name=__codelineno-0-485></a><span class=sd>    Examples:</span>
</span><span id=__span-0-486><a id=__codelineno-0-486 name=__codelineno-0-486></a><span class=sd>        &gt;&gt;&gt; # Use a specific profile</span>
</span><span id=__span-0-487><a id=__codelineno-0-487 name=__codelineno-0-487></a><span class=sd>        &gt;&gt;&gt; profile = select_profile(&quot;tpv&quot;)</span>
</span><span id=__span-0-488><a id=__codelineno-0-488 name=__codelineno-0-488></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-489><a id=__codelineno-0-489 name=__codelineno-0-489></a><span class=sd>        &gt;&gt;&gt; # Use default profile (or prompt if no default)</span>
</span><span id=__span-0-490><a id=__codelineno-0-490 name=__codelineno-0-490></a><span class=sd>        &gt;&gt;&gt; profile = select_profile()</span>
</span><span id=__span-0-491><a id=__codelineno-0-491 name=__codelineno-0-491></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-492><a id=__codelineno-0-492 name=__codelineno-0-492></a>    <span class=k>if</span> <span class=n>profile_name</span><span class=p>:</span>
</span><span id=__span-0-493><a id=__codelineno-0-493 name=__codelineno-0-493></a>        <span class=n>profile</span> <span class=o>=</span> <span class=n>profile_manager</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=n>profile_name</span><span class=p>)</span>
</span><span id=__span-0-494><a id=__codelineno-0-494 name=__codelineno-0-494></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>profile</span><span class=p>:</span>
</span><span id=__span-0-495><a id=__codelineno-0-495 name=__codelineno-0-495></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
</span><span id=__span-0-496><a id=__codelineno-0-496 name=__codelineno-0-496></a>                <span class=sa>f</span><span class=s1>&#39;Profile &quot;</span><span class=si>{</span><span class=n>profile_name</span><span class=si>}</span><span class=s1>&quot; not found. &#39;</span>
</span><span id=__span-0-497><a id=__codelineno-0-497 name=__codelineno-0-497></a>                <span class=sa>f</span><span class=s2>&quot;Run with --list-profiles to see available profiles.&quot;</span>
</span><span id=__span-0-498><a id=__codelineno-0-498 name=__codelineno-0-498></a>            <span class=p>)</span>
</span><span id=__span-0-499><a id=__codelineno-0-499 name=__codelineno-0-499></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Using profile: &quot;</span><span class=si>{</span><span class=n>profile</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-500><a id=__codelineno-0-500 name=__codelineno-0-500></a>        <span class=k>return</span> <span class=n>profile</span>
</span><span id=__span-0-501><a id=__codelineno-0-501 name=__codelineno-0-501></a>
</span><span id=__span-0-502><a id=__codelineno-0-502 name=__codelineno-0-502></a>    <span class=c1># Try to get default profile</span>
</span><span id=__span-0-503><a id=__codelineno-0-503 name=__codelineno-0-503></a>    <span class=n>default</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_default_profile</span><span class=p>()</span>
</span><span id=__span-0-504><a id=__codelineno-0-504 name=__codelineno-0-504></a>    <span class=k>if</span> <span class=n>default</span><span class=p>:</span>
</span><span id=__span-0-505><a id=__codelineno-0-505 name=__codelineno-0-505></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Using default profile: &quot;</span><span class=si>{</span><span class=n>default</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-506><a id=__codelineno-0-506 name=__codelineno-0-506></a>        <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-0-507><a id=__codelineno-0-507 name=__codelineno-0-507></a>
</span><span id=__span-0-508><a id=__codelineno-0-508 name=__codelineno-0-508></a>    <span class=c1># Check if any profiles exist</span>
</span><span id=__span-0-509><a id=__codelineno-0-509 name=__codelineno-0-509></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=p>:</span>
</span><span id=__span-0-510><a id=__codelineno-0-510 name=__codelineno-0-510></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
</span><span id=__span-0-511><a id=__codelineno-0-511 name=__codelineno-0-511></a>            <span class=s2>&quot;No profiles configured. Run with --config-menu to create a profile.&quot;</span>
</span><span id=__span-0-512><a id=__codelineno-0-512 name=__codelineno-0-512></a>        <span class=p>)</span>
</span><span id=__span-0-513><a id=__codelineno-0-513 name=__codelineno-0-513></a>
</span><span id=__span-0-514><a id=__codelineno-0-514 name=__codelineno-0-514></a>    <span class=c1># If only one profile, use it</span>
</span><span id=__span-0-515><a id=__codelineno-0-515 name=__codelineno-0-515></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-516><a id=__codelineno-0-516 name=__codelineno-0-516></a>        <span class=n>profile</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-0-517><a id=__codelineno-0-517 name=__codelineno-0-517></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Using only available profile: &quot;</span><span class=si>{</span><span class=n>profile</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-518><a id=__codelineno-0-518 name=__codelineno-0-518></a>        <span class=k>return</span> <span class=n>profile</span>
</span><span id=__span-0-519><a id=__codelineno-0-519 name=__codelineno-0-519></a>
</span><span id=__span-0-520><a id=__codelineno-0-520 name=__codelineno-0-520></a>    <span class=c1># Multiple profiles, no default - prompt user</span>
</span><span id=__span-0-521><a id=__codelineno-0-521 name=__codelineno-0-521></a>    <span class=n>profile_choices</span> <span class=o>=</span> <span class=p>[</span><span class=n>p</span><span class=o>.</span><span class=n>name</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=p>]</span>
</span><span id=__span-0-522><a id=__codelineno-0-522 name=__codelineno-0-522></a>    <span class=n>selected_name</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>select</span><span class=p>(</span>
</span><span id=__span-0-523><a id=__codelineno-0-523 name=__codelineno-0-523></a>        <span class=s2>&quot;Multiple profiles found. Select profile to use:&quot;</span><span class=p>,</span> <span class=n>choices</span><span class=o>=</span><span class=n>profile_choices</span>
</span><span id=__span-0-524><a id=__codelineno-0-524 name=__codelineno-0-524></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-525><a id=__codelineno-0-525 name=__codelineno-0-525></a>
</span><span id=__span-0-526><a id=__codelineno-0-526 name=__codelineno-0-526></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>selected_name</span><span class=p>:</span>
</span><span id=__span-0-527><a id=__codelineno-0-527 name=__codelineno-0-527></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;No profile selected&quot;</span><span class=p>)</span>
</span><span id=__span-0-528><a id=__codelineno-0-528 name=__codelineno-0-528></a>
</span><span id=__span-0-529><a id=__codelineno-0-529 name=__codelineno-0-529></a>    <span class=n>profile</span> <span class=o>=</span> <span class=n>profile_manager</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=n>selected_name</span><span class=p>)</span>
</span><span id=__span-0-530><a id=__codelineno-0-530 name=__codelineno-0-530></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profile</span><span class=p>:</span>  <span class=c1># pragma: no cover</span>
</span><span id=__span-0-531><a id=__codelineno-0-531 name=__codelineno-0-531></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Profile &quot;</span><span class=si>{</span><span class=n>selected_name</span><span class=si>}</span><span class=s1>&quot; not found&#39;</span><span class=p>)</span>
</span><span id=__span-0-532><a id=__codelineno-0-532 name=__codelineno-0-532></a>
</span><span id=__span-0-533><a id=__codelineno-0-533 name=__codelineno-0-533></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Using selected profile: &quot;</span><span class=si>{</span><span class=n>profile</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-534><a id=__codelineno-0-534 name=__codelineno-0-534></a>    <span class=k>return</span> <span class=n>profile</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=fit_file_faker.app.upload class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">upload</span> <a href=#fit_file_faker.app.upload class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>upload</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>fn</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>profile</span><span class=p>:</span> <span class=n>Profile</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>original_path</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Path</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>dryrun</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Upload a FIT file to Garmin Connect.</p> <p>Authenticates to Garmin Connect using credentials from the specified profile, then uploads the specified FIT file. Credentials are cached in a profile-specific cache directory for future use.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>fn</code> </td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Path to the (modified) FIT file to upload.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>profile</code> </td> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a></code> </td> <td> <div class=doc-md-description> <p>The profile to use for authentication and upload.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>original_path</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=pathlib.Path>Path</span>]</code> </td> <td> <div class=doc-md-description> <p>Optional path to the original file for logging purposes. Defaults to <code>None</code>.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>dryrun</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If <code>True</code>, authenticates but doesn't actually upload the file. Defaults to <code>False</code>.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=GarthHTTPError>GarthHTTPError</span></code> </td> <td> <div class=doc-md-description> <p>If upload fails with an HTTP error. 409 (conflict/duplicate) errors are caught and logged as warnings, but other HTTP errors are re-raised.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Upload a modified file</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>upload</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;activity_modified.fit&quot;</span><span class=p>),</span> <span class=n>profile</span><span class=o>=</span><span class=n>my_profile</span><span class=p>)</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Dry run (authenticate but don&#39;t upload)</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>upload</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;activity_modified.fit&quot;</span><span class=p>),</span> <span class=n>profile</span><span class=o>=</span><span class=n>my_profile</span><span class=p>,</span> <span class=n>dryrun</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>Garmin Connect credentials are read from the profile. Credentials are cached in profile-specific directories like ~/.cache/FitFileFaker/.garth_<profile_name> (location varies by platform).</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/app.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-247>247</a></span>
<span class=normal><a href=#__codelineno-0-248>248</a></span>
<span class=normal><a href=#__codelineno-0-249>249</a></span>
<span class=normal><a href=#__codelineno-0-250>250</a></span>
<span class=normal><a href=#__codelineno-0-251>251</a></span>
<span class=normal><a href=#__codelineno-0-252>252</a></span>
<span class=normal><a href=#__codelineno-0-253>253</a></span>
<span class=normal><a href=#__codelineno-0-254>254</a></span>
<span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span>
<span class=normal><a href=#__codelineno-0-257>257</a></span>
<span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span>
<span class=normal><a href=#__codelineno-0-265>265</a></span>
<span class=normal><a href=#__codelineno-0-266>266</a></span>
<span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span>
<span class=normal><a href=#__codelineno-0-269>269</a></span>
<span class=normal><a href=#__codelineno-0-270>270</a></span>
<span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span>
<span class=normal><a href=#__codelineno-0-273>273</a></span>
<span class=normal><a href=#__codelineno-0-274>274</a></span>
<span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span>
<span class=normal><a href=#__codelineno-0-278>278</a></span>
<span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span>
<span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span>
<span class=normal><a href=#__codelineno-0-292>292</a></span>
<span class=normal><a href=#__codelineno-0-293>293</a></span>
<span class=normal><a href=#__codelineno-0-294>294</a></span>
<span class=normal><a href=#__codelineno-0-295>295</a></span>
<span class=normal><a href=#__codelineno-0-296>296</a></span>
<span class=normal><a href=#__codelineno-0-297>297</a></span>
<span class=normal><a href=#__codelineno-0-298>298</a></span>
<span class=normal><a href=#__codelineno-0-299>299</a></span>
<span class=normal><a href=#__codelineno-0-300>300</a></span>
<span class=normal><a href=#__codelineno-0-301>301</a></span>
<span class=normal><a href=#__codelineno-0-302>302</a></span>
<span class=normal><a href=#__codelineno-0-303>303</a></span>
<span class=normal><a href=#__codelineno-0-304>304</a></span>
<span class=normal><a href=#__codelineno-0-305>305</a></span>
<span class=normal><a href=#__codelineno-0-306>306</a></span>
<span class=normal><a href=#__codelineno-0-307>307</a></span>
<span class=normal><a href=#__codelineno-0-308>308</a></span>
<span class=normal><a href=#__codelineno-0-309>309</a></span>
<span class=normal><a href=#__codelineno-0-310>310</a></span>
<span class=normal><a href=#__codelineno-0-311>311</a></span>
<span class=normal><a href=#__codelineno-0-312>312</a></span>
<span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span>
<span class=normal><a href=#__codelineno-0-315>315</a></span>
<span class=normal><a href=#__codelineno-0-316>316</a></span>
<span class=normal><a href=#__codelineno-0-317>317</a></span>
<span class=normal><a href=#__codelineno-0-318>318</a></span>
<span class=normal><a href=#__codelineno-0-319>319</a></span>
<span class=normal><a href=#__codelineno-0-320>320</a></span>
<span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span>
<span class=normal><a href=#__codelineno-0-326>326</a></span>
<span class=normal><a href=#__codelineno-0-327>327</a></span>
<span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247></a><span class=k>def</span><span class=w> </span><span class=nf>upload</span><span class=p>(</span>
</span><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248></a>    <span class=n>fn</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span>
</span><span id=__span-0-249><a id=__codelineno-0-249 name=__codelineno-0-249></a>    <span class=n>profile</span><span class=p>:</span> <span class=n>Profile</span><span class=p>,</span>
</span><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a>    <span class=n>original_path</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Path</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251></a>    <span class=n>dryrun</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252></a><span class=p>):</span>
</span><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Upload a FIT file to Garmin Connect.</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254></a>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a><span class=sd>    Authenticates to Garmin Connect using credentials from the specified profile,</span>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a><span class=sd>    then uploads the specified FIT file. Credentials are cached in a profile-specific</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257></a><span class=sd>    cache directory for future use.</span>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a><span class=sd>    Args:</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a><span class=sd>        fn: Path to the (modified) FIT file to upload.</span>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a><span class=sd>        profile: The profile to use for authentication and upload.</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a><span class=sd>        original_path: Optional path to the original file for logging purposes.</span>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a><span class=sd>            Defaults to `None`.</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a><span class=sd>        dryrun: If `True`, authenticates but doesn&#39;t actually upload the file.</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265></a><span class=sd>            Defaults to `False`.</span>
</span><span id=__span-0-266><a id=__codelineno-0-266 name=__codelineno-0-266></a>
</span><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a><span class=sd>    Raises:</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a><span class=sd>        GarthHTTPError: If upload fails with an HTTP error. 409 (conflict/duplicate)</span>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269></a><span class=sd>            errors are caught and logged as warnings, but other HTTP errors are re-raised.</span>
</span><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270></a>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a><span class=sd>    Examples:</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a><span class=sd>        &gt;&gt;&gt; from pathlib import Path</span>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273></a><span class=sd>        &gt;&gt;&gt; # Upload a modified file</span>
</span><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274></a><span class=sd>        &gt;&gt;&gt; upload(Path(&quot;activity_modified.fit&quot;), profile=my_profile)</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a><span class=sd>        &gt;&gt;&gt; # Dry run (authenticate but don&#39;t upload)</span>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a><span class=sd>        &gt;&gt;&gt; upload(Path(&quot;activity_modified.fit&quot;), profile=my_profile, dryrun=True)</span>
</span><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a>
</span><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279></a><span class=sd>    Note:</span>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a><span class=sd>        Garmin Connect credentials are read from the profile. Credentials are cached</span>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281></a><span class=sd>        in profile-specific directories like ~/.cache/FitFileFaker/.garth_&lt;profile_name&gt;</span>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282></a><span class=sd>        (location varies by platform).</span>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284></a>    <span class=c1># get credentials and login if needed</span>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285></a>    <span class=kn>import</span><span class=w> </span><span class=nn>garth</span>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286></a>    <span class=kn>from</span><span class=w> </span><span class=nn>garth.exc</span><span class=w> </span><span class=kn>import</span> <span class=n>GarthException</span><span class=p>,</span> <span class=n>GarthHTTPError</span>
</span><span id=__span-0-287><a id=__codelineno-0-287 name=__codelineno-0-287></a>
</span><span id=__span-0-288><a id=__codelineno-0-288 name=__codelineno-0-288></a>    <span class=n>garth_dir</span> <span class=o>=</span> <span class=n>get_garth_dir</span><span class=p>(</span><span class=n>profile</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Using &quot;</span><span class=si>{</span><span class=n>garth_dir</span><span class=si>}</span><span class=s1>&quot; for garth credentials&#39;</span><span class=p>)</span>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292></a>        <span class=n>garth</span><span class=o>.</span><span class=n>resume</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>garth_dir</span><span class=o>.</span><span class=n>absolute</span><span class=p>()))</span>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293></a>        <span class=n>garth</span><span class=o>.</span><span class=n>client</span><span class=o>.</span><span class=n>username</span>
</span><span id=__span-0-294><a id=__codelineno-0-294 name=__codelineno-0-294></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Using stored Garmin credentials from &quot;</span><span class=si>{</span><span class=n>garth_dir</span><span class=si>}</span><span class=s1>&quot; directory&#39;</span><span class=p>)</span>
</span><span id=__span-0-295><a id=__codelineno-0-295 name=__codelineno-0-295></a>    <span class=k>except</span> <span class=p>(</span><span class=n>GarthException</span><span class=p>,</span> <span class=ne>FileNotFoundError</span><span class=p>):</span>
</span><span id=__span-0-296><a id=__codelineno-0-296 name=__codelineno-0-296></a>        <span class=c1># Session is expired. You&#39;ll need to log in again</span>
</span><span id=__span-0-297><a id=__codelineno-0-297 name=__codelineno-0-297></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Authenticating to Garmin Connect&quot;</span><span class=p>)</span>
</span><span id=__span-0-298><a id=__codelineno-0-298 name=__codelineno-0-298></a>        <span class=n>email</span> <span class=o>=</span> <span class=n>profile</span><span class=o>.</span><span class=n>garmin_username</span>
</span><span id=__span-0-299><a id=__codelineno-0-299 name=__codelineno-0-299></a>        <span class=n>password</span> <span class=o>=</span> <span class=n>profile</span><span class=o>.</span><span class=n>garmin_password</span>
</span><span id=__span-0-300><a id=__codelineno-0-300 name=__codelineno-0-300></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>email</span><span class=p>:</span>
</span><span id=__span-0-301><a id=__codelineno-0-301 name=__codelineno-0-301></a>            <span class=n>email</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>text</span><span class=p>(</span>
</span><span id=__span-0-302><a id=__codelineno-0-302 name=__codelineno-0-302></a>                <span class=s1>&#39;No &quot;garmin_username&quot; variable set; Enter email address: &#39;</span>
</span><span id=__span-0-303><a id=__codelineno-0-303 name=__codelineno-0-303></a>            <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-304><a id=__codelineno-0-304 name=__codelineno-0-304></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Using username &quot;</span><span class=si>{</span><span class=n>email</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-305><a id=__codelineno-0-305 name=__codelineno-0-305></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>password</span><span class=p>:</span>
</span><span id=__span-0-306><a id=__codelineno-0-306 name=__codelineno-0-306></a>            <span class=n>password</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>password</span><span class=p>(</span>
</span><span id=__span-0-307><a id=__codelineno-0-307 name=__codelineno-0-307></a>                <span class=s1>&#39;No &quot;garmin_password&quot; variable set; Enter password: &#39;</span>
</span><span id=__span-0-308><a id=__codelineno-0-308 name=__codelineno-0-308></a>            <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-309><a id=__codelineno-0-309 name=__codelineno-0-309></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Using password from user input&quot;</span><span class=p>)</span>
</span><span id=__span-0-310><a id=__codelineno-0-310 name=__codelineno-0-310></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-311><a id=__codelineno-0-311 name=__codelineno-0-311></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s1>&#39;Using password stored in &quot;garmin_password&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-312><a id=__codelineno-0-312 name=__codelineno-0-312></a>        <span class=n>garth</span><span class=o>.</span><span class=n>login</span><span class=p>(</span><span class=n>email</span><span class=p>,</span> <span class=n>password</span><span class=p>)</span>
</span><span id=__span-0-313><a id=__codelineno-0-313 name=__codelineno-0-313></a>        <span class=n>garth</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>garth_dir</span><span class=o>.</span><span class=n>absolute</span><span class=p>()))</span>
</span><span id=__span-0-314><a id=__codelineno-0-314 name=__codelineno-0-314></a>
</span><span id=__span-0-315><a id=__codelineno-0-315 name=__codelineno-0-315></a>    <span class=k>with</span> <span class=n>fn</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s2>&quot;rb&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-316><a id=__codelineno-0-316 name=__codelineno-0-316></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-317><a id=__codelineno-0-317 name=__codelineno-0-317></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>dryrun</span><span class=p>:</span>
</span><span id=__span-0-318><a id=__codelineno-0-318 name=__codelineno-0-318></a>                <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Uploading &quot;</span><span class=si>{</span><span class=n>fn</span><span class=si>}</span><span class=s1>&quot; using garth&#39;</span><span class=p>)</span>
</span><span id=__span-0-319><a id=__codelineno-0-319 name=__codelineno-0-319></a>                <span class=n>garth</span><span class=o>.</span><span class=n>client</span><span class=o>.</span><span class=n>upload</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-320><a id=__codelineno-0-320 name=__codelineno-0-320></a>                <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-321><a id=__codelineno-0-321 name=__codelineno-0-321></a>                    <span class=sa>f</span><span class=s1>&#39;:white_check_mark: Successfully uploaded &quot;</span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>original_path</span><span class=p>)</span><span class=si>}</span><span class=s1>&quot;&#39;</span>
</span><span id=__span-0-322><a id=__codelineno-0-322 name=__codelineno-0-322></a>                <span class=p>)</span>
</span><span id=__span-0-323><a id=__codelineno-0-323 name=__codelineno-0-323></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-324><a id=__codelineno-0-324 name=__codelineno-0-324></a>                <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Skipping upload of &quot;</span><span class=si>{</span><span class=n>fn</span><span class=si>}</span><span class=s1>&quot; because dryrun was requested&#39;</span><span class=p>)</span>
</span><span id=__span-0-325><a id=__codelineno-0-325 name=__codelineno-0-325></a>        <span class=k>except</span> <span class=n>GarthHTTPError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-326><a id=__codelineno-0-326 name=__codelineno-0-326></a>            <span class=k>if</span> <span class=n>e</span><span class=o>.</span><span class=n>error</span><span class=o>.</span><span class=n>response</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>409</span><span class=p>:</span>
</span><span id=__span-0-327><a id=__codelineno-0-327 name=__codelineno-0-327></a>                <span class=n>_logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
</span><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328></a>                    <span class=sa>f</span><span class=s1>&#39;:x: Received HTTP conflict (activity already exists) for &quot;</span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>original_path</span><span class=p>)</span><span class=si>}</span><span class=s1>&quot;&#39;</span>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329></a>                <span class=p>)</span>
</span><span id=__span-0-330><a id=__codelineno-0-330 name=__codelineno-0-330></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-331><a id=__codelineno-0-331 name=__codelineno-0-331></a>                <span class=k>raise</span> <span class=n>e</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=fit_file_faker.app.upload_all class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">upload_all</span> <a href=#fit_file_faker.app.upload_all class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>upload_all</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=nb>dir</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>profile</span><span class=p>:</span> <span class=n>Profile</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>preinitialize</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>dryrun</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Batch process and upload all new FIT files in a directory.</p> <p>Scans the directory for FIT files that haven't been processed yet, edits them to appear as Garmin Edge 830 files, and uploads them to Garmin Connect. Maintains a <code>.uploaded_files.json</code> file to track which files have been processed.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>dir</code> </td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Path to the directory containing FIT files to process.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>profile</code> </td> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a></code> </td> <td> <div class=doc-md-description> <p>The profile to use for authentication and upload.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>preinitialize</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If <code>True</code>, marks all existing files as already uploaded without actually processing them. Useful for initializing the tracking file. Defaults to <code>False</code>.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>dryrun</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If <code>True</code>, processes files but doesn't upload or update the tracking file. Defaults to <code>False</code>.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>Files ending in "_modified.fit" are automatically excluded to avoid re-processing previously modified files. Temporary files are used for uploads and are automatically deleted afterwards.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Process and upload all new files</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>upload_all</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/home/user/TPVirtual/abc123/FITFiles&quot;</span><span class=p>),</span> <span class=n>profile</span><span class=o>=</span><span class=n>my_profile</span><span class=p>)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Initialize tracking without processing</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>upload_all</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/path/to/fitfiles&quot;</span><span class=p>),</span> <span class=n>profile</span><span class=o>=</span><span class=n>my_profile</span><span class=p>,</span> <span class=n>preinitialize</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Dry run (no uploads or tracking updates)</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>upload_all</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/path/to/fitfiles&quot;</span><span class=p>),</span> <span class=n>profile</span><span class=o>=</span><span class=n>my_profile</span><span class=p>,</span> <span class=n>dryrun</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/app.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span>
<span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span>
<span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span>
<span class=normal><a href=#__codelineno-0-386>386</a></span>
<span class=normal><a href=#__codelineno-0-387>387</a></span>
<span class=normal><a href=#__codelineno-0-388>388</a></span>
<span class=normal><a href=#__codelineno-0-389>389</a></span>
<span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span>
<span class=normal><a href=#__codelineno-0-393>393</a></span>
<span class=normal><a href=#__codelineno-0-394>394</a></span>
<span class=normal><a href=#__codelineno-0-395>395</a></span>
<span class=normal><a href=#__codelineno-0-396>396</a></span>
<span class=normal><a href=#__codelineno-0-397>397</a></span>
<span class=normal><a href=#__codelineno-0-398>398</a></span>
<span class=normal><a href=#__codelineno-0-399>399</a></span>
<span class=normal><a href=#__codelineno-0-400>400</a></span>
<span class=normal><a href=#__codelineno-0-401>401</a></span>
<span class=normal><a href=#__codelineno-0-402>402</a></span>
<span class=normal><a href=#__codelineno-0-403>403</a></span>
<span class=normal><a href=#__codelineno-0-404>404</a></span>
<span class=normal><a href=#__codelineno-0-405>405</a></span>
<span class=normal><a href=#__codelineno-0-406>406</a></span>
<span class=normal><a href=#__codelineno-0-407>407</a></span>
<span class=normal><a href=#__codelineno-0-408>408</a></span>
<span class=normal><a href=#__codelineno-0-409>409</a></span>
<span class=normal><a href=#__codelineno-0-410>410</a></span>
<span class=normal><a href=#__codelineno-0-411>411</a></span>
<span class=normal><a href=#__codelineno-0-412>412</a></span>
<span class=normal><a href=#__codelineno-0-413>413</a></span>
<span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span>
<span class=normal><a href=#__codelineno-0-416>416</a></span>
<span class=normal><a href=#__codelineno-0-417>417</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-334><a id=__codelineno-0-334 name=__codelineno-0-334></a><span class=k>def</span><span class=w> </span><span class=nf>upload_all</span><span class=p>(</span>
</span><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335></a>    <span class=nb>dir</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span> <span class=n>profile</span><span class=p>:</span> <span class=n>Profile</span><span class=p>,</span> <span class=n>preinitialize</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>dryrun</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336></a><span class=p>):</span>
</span><span id=__span-0-337><a id=__codelineno-0-337 name=__codelineno-0-337></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Batch process and upload all new FIT files in a directory.</span>
</span><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338></a>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a><span class=sd>    Scans the directory for FIT files that haven&#39;t been processed yet, edits them</span>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a><span class=sd>    to appear as Garmin Edge 830 files, and uploads them to Garmin Connect. Maintains</span>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a><span class=sd>    a `.uploaded_files.json` file to track which files have been processed.</span>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a><span class=sd>    Args:</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a><span class=sd>        dir: Path to the directory containing FIT files to process.</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a><span class=sd>        profile: The profile to use for authentication and upload.</span>
</span><span id=__span-0-346><a id=__codelineno-0-346 name=__codelineno-0-346></a><span class=sd>        preinitialize: If `True`, marks all existing files as already uploaded</span>
</span><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a><span class=sd>            without actually processing them. Useful for initializing the tracking</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a><span class=sd>            file. Defaults to `False`.</span>
</span><span id=__span-0-349><a id=__codelineno-0-349 name=__codelineno-0-349></a><span class=sd>        dryrun: If `True`, processes files but doesn&#39;t upload or update the tracking</span>
</span><span id=__span-0-350><a id=__codelineno-0-350 name=__codelineno-0-350></a><span class=sd>            file. Defaults to `False`.</span>
</span><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a>
</span><span id=__span-0-352><a id=__codelineno-0-352 name=__codelineno-0-352></a><span class=sd>    Note:</span>
</span><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a><span class=sd>        Files ending in &quot;_modified.fit&quot; are automatically excluded to avoid</span>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a><span class=sd>        re-processing previously modified files. Temporary files are used for</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a><span class=sd>        uploads and are automatically deleted afterwards.</span>
</span><span id=__span-0-356><a id=__codelineno-0-356 name=__codelineno-0-356></a>
</span><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a><span class=sd>    Examples:</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a><span class=sd>        &gt;&gt;&gt; from pathlib import Path</span>
</span><span id=__span-0-359><a id=__codelineno-0-359 name=__codelineno-0-359></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a><span class=sd>        &gt;&gt;&gt; # Process and upload all new files</span>
</span><span id=__span-0-361><a id=__codelineno-0-361 name=__codelineno-0-361></a><span class=sd>        &gt;&gt;&gt; upload_all(Path(&quot;/home/user/TPVirtual/abc123/FITFiles&quot;), profile=my_profile)</span>
</span><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a><span class=sd>        &gt;&gt;&gt; # Initialize tracking without processing</span>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a><span class=sd>        &gt;&gt;&gt; upload_all(Path(&quot;/path/to/fitfiles&quot;), profile=my_profile, preinitialize=True)</span>
</span><span id=__span-0-365><a id=__codelineno-0-365 name=__codelineno-0-365></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-366><a id=__codelineno-0-366 name=__codelineno-0-366></a><span class=sd>        &gt;&gt;&gt; # Dry run (no uploads or tracking updates)</span>
</span><span id=__span-0-367><a id=__codelineno-0-367 name=__codelineno-0-367></a><span class=sd>        &gt;&gt;&gt; upload_all(Path(&quot;/path/to/fitfiles&quot;), profile=my_profile, dryrun=True)</span>
</span><span id=__span-0-368><a id=__codelineno-0-368 name=__codelineno-0-368></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-369><a id=__codelineno-0-369 name=__codelineno-0-369></a>    <span class=n>files_uploaded</span> <span class=o>=</span> <span class=nb>dir</span><span class=o>.</span><span class=n>joinpath</span><span class=p>(</span><span class=n>FILES_UPLOADED_NAME</span><span class=p>)</span>
</span><span id=__span-0-370><a id=__codelineno-0-370 name=__codelineno-0-370></a>    <span class=k>if</span> <span class=n>files_uploaded</span><span class=o>.</span><span class=n>exists</span><span class=p>():</span>
</span><span id=__span-0-371><a id=__codelineno-0-371 name=__codelineno-0-371></a>        <span class=c1># load uploaded file list from disk</span>
</span><span id=__span-0-372><a id=__codelineno-0-372 name=__codelineno-0-372></a>        <span class=k>with</span> <span class=n>files_uploaded</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s2>&quot;r&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-373><a id=__codelineno-0-373 name=__codelineno-0-373></a>            <span class=n>uploaded_files</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-374><a id=__codelineno-0-374 name=__codelineno-0-374></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-375><a id=__codelineno-0-375 name=__codelineno-0-375></a>        <span class=n>uploaded_files</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-376><a id=__codelineno-0-376 name=__codelineno-0-376></a>        <span class=k>with</span> <span class=n>files_uploaded</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-377><a id=__codelineno-0-377 name=__codelineno-0-377></a>            <span class=c1># write blank file</span>
</span><span id=__span-0-378><a id=__codelineno-0-378 name=__codelineno-0-378></a>            <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>uploaded_files</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span><span id=__span-0-379><a id=__codelineno-0-379 name=__codelineno-0-379></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Found the following already uploaded files: </span><span class=si>{</span><span class=n>uploaded_files</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-380><a id=__codelineno-0-380 name=__codelineno-0-380></a>
</span><span id=__span-0-381><a id=__codelineno-0-381 name=__codelineno-0-381></a>    <span class=c1># glob all .fit files in the current directory</span>
</span><span id=__span-0-382><a id=__codelineno-0-382 name=__codelineno-0-382></a>    <span class=n>files</span> <span class=o>=</span> <span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>dir</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s2>&quot;*.fit&quot;</span><span class=p>,</span> <span class=n>case_sensitive</span><span class=o>=</span><span class=kc>False</span><span class=p>)]</span>
</span><span id=__span-0-383><a id=__codelineno-0-383 name=__codelineno-0-383></a>    <span class=c1># strip any leading/trailing slashes from filenames</span>
</span><span id=__span-0-384><a id=__codelineno-0-384 name=__codelineno-0-384></a>    <span class=n>files</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=nb>dir</span><span class=p>),</span> <span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=s2>&quot;/&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\\</span><span class=s2>&quot;</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>files</span><span class=p>]</span>
</span><span id=__span-0-385><a id=__codelineno-0-385 name=__codelineno-0-385></a>    <span class=c1># remove files matching what we may have already processed</span>
</span><span id=__span-0-386><a id=__codelineno-0-386 name=__codelineno-0-386></a>    <span class=n>files</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>files</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>i</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>&quot;_modified.fit&quot;</span><span class=p>)]</span>
</span><span id=__span-0-387><a id=__codelineno-0-387 name=__codelineno-0-387></a>    <span class=c1># remove files found in the &quot;already uploaded&quot; list</span>
</span><span id=__span-0-388><a id=__codelineno-0-388 name=__codelineno-0-388></a>    <span class=n>files</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>files</span> <span class=k>if</span> <span class=n>i</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>uploaded_files</span><span class=p>]</span>
</span><span id=__span-0-389><a id=__codelineno-0-389 name=__codelineno-0-389></a>
</span><span id=__span-0-390><a id=__codelineno-0-390 name=__codelineno-0-390></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Found </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>files</span><span class=p>)</span><span class=si>}</span><span class=s2> files to edit/upload&quot;</span><span class=p>)</span>
</span><span id=__span-0-391><a id=__codelineno-0-391 name=__codelineno-0-391></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Files to upload: </span><span class=si>{</span><span class=n>files</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-392><a id=__codelineno-0-392 name=__codelineno-0-392></a>
</span><span id=__span-0-393><a id=__codelineno-0-393 name=__codelineno-0-393></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>files</span><span class=p>:</span>
</span><span id=__span-0-394><a id=__codelineno-0-394 name=__codelineno-0-394></a>        <span class=k>return</span>
</span><span id=__span-0-395><a id=__codelineno-0-395 name=__codelineno-0-395></a>
</span><span id=__span-0-396><a id=__codelineno-0-396 name=__codelineno-0-396></a>    <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=n>files</span><span class=p>:</span>
</span><span id=__span-0-397><a id=__codelineno-0-397 name=__codelineno-0-397></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Processing &quot;</span><span class=si>{</span><span class=n>f</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-398><a id=__codelineno-0-398 name=__codelineno-0-398></a>
</span><span id=__span-0-399><a id=__codelineno-0-399 name=__codelineno-0-399></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>preinitialize</span><span class=p>:</span>
</span><span id=__span-0-400><a id=__codelineno-0-400 name=__codelineno-0-400></a>            <span class=k>with</span> <span class=n>NamedTemporaryFile</span><span class=p>(</span><span class=n>delete</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>delete_on_close</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span> <span class=k>as</span> <span class=n>fp</span><span class=p>:</span>
</span><span id=__span-0-401><a id=__codelineno-0-401 name=__codelineno-0-401></a>                <span class=n>fit_editor</span><span class=o>.</span><span class=n>set_profile</span><span class=p>(</span><span class=n>profile</span><span class=p>)</span>
</span><span id=__span-0-402><a id=__codelineno-0-402 name=__codelineno-0-402></a>                <span class=n>output</span> <span class=o>=</span> <span class=n>fit_editor</span><span class=o>.</span><span class=n>edit_fit</span><span class=p>(</span><span class=nb>dir</span><span class=o>.</span><span class=n>joinpath</span><span class=p>(</span><span class=n>f</span><span class=p>),</span> <span class=n>output</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=n>fp</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
</span><span id=__span-0-403><a id=__codelineno-0-403 name=__codelineno-0-403></a>                <span class=k>if</span> <span class=n>output</span><span class=p>:</span>
</span><span id=__span-0-404><a id=__codelineno-0-404 name=__codelineno-0-404></a>                    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Uploading modified file to Garmin Connect&quot;</span><span class=p>)</span>
</span><span id=__span-0-405><a id=__codelineno-0-405 name=__codelineno-0-405></a>                    <span class=n>upload</span><span class=p>(</span>
</span><span id=__span-0-406><a id=__codelineno-0-406 name=__codelineno-0-406></a>                        <span class=n>output</span><span class=p>,</span> <span class=n>profile</span><span class=o>=</span><span class=n>profile</span><span class=p>,</span> <span class=n>original_path</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=n>f</span><span class=p>),</span> <span class=n>dryrun</span><span class=o>=</span><span class=n>dryrun</span>
</span><span id=__span-0-407><a id=__codelineno-0-407 name=__codelineno-0-407></a>                    <span class=p>)</span>
</span><span id=__span-0-408><a id=__codelineno-0-408 name=__codelineno-0-408></a>                    <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Adding &quot;</span><span class=si>{</span><span class=n>f</span><span class=si>}</span><span class=s1>&quot; to &quot;uploaded_files&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-409><a id=__codelineno-0-409 name=__codelineno-0-409></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-410><a id=__codelineno-0-410 name=__codelineno-0-410></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-411><a id=__codelineno-0-411 name=__codelineno-0-411></a>                <span class=s2>&quot;Preinitialize was requested, so just marking as uploaded (not actually processing)&quot;</span>
</span><span id=__span-0-412><a id=__codelineno-0-412 name=__codelineno-0-412></a>            <span class=p>)</span>
</span><span id=__span-0-413><a id=__codelineno-0-413 name=__codelineno-0-413></a>        <span class=n>uploaded_files</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-414><a id=__codelineno-0-414 name=__codelineno-0-414></a>
</span><span id=__span-0-415><a id=__codelineno-0-415 name=__codelineno-0-415></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>dryrun</span><span class=p>:</span>
</span><span id=__span-0-416><a id=__codelineno-0-416 name=__codelineno-0-416></a>        <span class=k>with</span> <span class=n>files_uploaded</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-417><a id=__codelineno-0-417 name=__codelineno-0-417></a>            <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>uploaded_files</span><span class=p>,</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h2 id=fit-editor-fit_editorpy>FIT Editor (<code>fit_editor.py</code>)<a class=headerlink href=#fit-editor-fit_editorpy title="Permanent link">&para;</a></h2> <div class="doc doc-object doc-class"> <h3 id=fit_file_faker.fit_editor.FitEditor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">FitEditor</span> <a href=#fit_file_faker.fit_editor.FitEditor class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>FitEditor</span><span class=p>(</span><span class=n>profile</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents first"> <p>Handles FIT file editing and manipulation.</p> <p>This class provides methods to read, modify, and save FIT files from various cycling platforms (TrainingPeaks Virtual, Zwift, COROS, etc.), converting them to appear as if they came from a Garmin Edge 830 device (or a custom device if configured via profile).</p> <p>The editor modifies only device metadata (manufacturer, product IDs) while preserving all activity data including records, laps, and sessions. This enables Garmin Connect's Training Effect calculations for activities from non-Garmin sources.</p> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.fit_editor</span><span class=w> </span><span class=kn>import</span> <span class=n>fit_editor</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Edit a single file</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>output</span> <span class=o>=</span> <span class=n>fit_editor</span><span class=o>.</span><span class=n>edit_fit</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;activity.fit&quot;</span><span class=p>))</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Dry run mode (no file written)</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>output</span> <span class=o>=</span> <span class=n>fit_editor</span><span class=o>.</span><span class=n>edit_fit</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;activity.fit&quot;</span><span class=p>),</span> <span class=n>dryrun</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Custom output location</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=gp>&gt;&gt;&gt; </span><span class=n>output</span> <span class=o>=</span> <span class=n>fit_editor</span><span class=o>.</span><span class=n>edit_fit</span><span class=p>(</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=s2>&quot;activity.fit&quot;</span><span class=p>),</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=gp>... </span>    <span class=n>output</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;modified_activity.fit&quot;</span><span class=p>)</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <p>Initialize the FIT editor.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>profile</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Optional Profile object for device simulation settings. If None, defaults to Garmin Edge 830.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p>Applies a logging filter to suppress verbose fit_tool warnings.</p> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/fit_editor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>profile</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize the FIT editor.</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a><span class=sd>    Args:</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a><span class=sd>        profile: Optional Profile object for device simulation settings.</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a><span class=sd>            If None, defaults to Garmin Edge 830.</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a><span class=sd>    Applies a logging filter to suppress verbose fit_tool warnings.</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a>    <span class=c1># Apply the log filter to suppress noisy fit_tool warnings</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>    <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s2>&quot;fit_tool&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>addFilter</span><span class=p>(</span><span class=n>FitFileLogFilter</span><span class=p>())</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>    <span class=bp>self</span><span class=o>.</span><span class=n>profile</span> <span class=o>=</span> <span class=n>profile</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.fit_editor.FitEditor.edit_fit class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">edit_fit</span> <a href=#fit_file_faker.fit_editor.FitEditor.edit_fit class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>edit_fit</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>fit_input</span><span class=p>:</span> <span class=n>Path</span> <span class=o>|</span> <span class=n>FitFile</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>output</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Path</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>dryrun</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Edit a FIT file to appear as if it came from a Garmin Edge 830.</p> <p>This is the primary method for converting FIT files from virtual cycling platforms to Garmin-compatible format. It modifies device metadata (manufacturer and product IDs) while preserving all activity data.</p> <p>The method performs the following transformations:</p> <ol> <li>Strips unknown field definitions to prevent corruption</li> <li>Rewrites <code>FileIdMessage</code> with Garmin Edge 830 metadata</li> <li>Adds a <code>FileCreatorMessage</code> with Edge 830 software/hardware versions</li> <li>Modifies <code>DeviceInfoMessage</code> records to match Edge 830</li> <li>Reorders <code>Activity</code> messages to end of file (COROS compatibility)</li> </ol> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>fit_input</code> </td> <td> <code><span title=pathlib.Path>Path</span> | <span title=fit_file_faker.vendor.fit_tool.fit_file.FitFile>FitFile</span></code> </td> <td> <div class=doc-md-description> <p>Either a <code>Path</code> to the input FIT file OR a pre-parsed <code>FitFile</code> object. Using a <code>Path</code> is recommended for most cases.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>output</code> </td> <td> <code><span title=typing.Optional>Optional</span>[<span title=pathlib.Path>Path</span>]</code> </td> <td> <div class=doc-md-description> <p>Optional output path. Defaults to {original}_modified.fit when <code>fit_input</code> is a <code>Path</code>. Required if <code>fit_input</code> is a <code>FitFile</code> object.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>dryrun</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If <code>True</code>, performs all processing but doesn't write the output file. Useful for validation and testing.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=pathlib.Path>Path</span> | None</code> </td> <td> <div class=doc-md-description> <p>Path to the output file if successful, or <code>None</code> if processing</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=pathlib.Path>Path</span> | None</code> </td> <td> <div class=doc-md-description> <p>failed (e.g., invalid FIT file).</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>None</code> </td> <td> <div class=doc-md-description> <p>Errors are logged but not raised. Returns <code>None</code> on failure.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.fit_editor</span><span class=w> </span><span class=kn>import</span> <span class=n>fit_editor</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Basic usage</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>output</span> <span class=o>=</span> <span class=n>fit_editor</span><span class=o>.</span><span class=n>edit_fit</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;activity.fit&quot;</span><span class=p>))</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Modified file: </span><span class=si>{</span><span class=n>output</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Custom output path</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=gp>&gt;&gt;&gt; </span><span class=n>output</span> <span class=o>=</span> <span class=n>fit_editor</span><span class=o>.</span><span class=n>edit_fit</span><span class=p>(</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=s2>&quot;activity.fit&quot;</span><span class=p>),</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=gp>... </span>    <span class=n>output</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;custom_output.fit&quot;</span><span class=p>)</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Dry run (no file written)</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=gp>&gt;&gt;&gt; </span><span class=n>output</span> <span class=o>=</span> <span class=n>fit_editor</span><span class=o>.</span><span class=n>edit_fit</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;activity.fit&quot;</span><span class=p>),</span> <span class=n>dryrun</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>Only modifies device metadata. All activity data (records, laps, sessions, heart rate, power, etc.) is preserved exactly as-is.</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/fit_editor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span>
<span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span>
<span class=normal><a href=#__codelineno-0-386>386</a></span>
<span class=normal><a href=#__codelineno-0-387>387</a></span>
<span class=normal><a href=#__codelineno-0-388>388</a></span>
<span class=normal><a href=#__codelineno-0-389>389</a></span>
<span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span>
<span class=normal><a href=#__codelineno-0-393>393</a></span>
<span class=normal><a href=#__codelineno-0-394>394</a></span>
<span class=normal><a href=#__codelineno-0-395>395</a></span>
<span class=normal><a href=#__codelineno-0-396>396</a></span>
<span class=normal><a href=#__codelineno-0-397>397</a></span>
<span class=normal><a href=#__codelineno-0-398>398</a></span>
<span class=normal><a href=#__codelineno-0-399>399</a></span>
<span class=normal><a href=#__codelineno-0-400>400</a></span>
<span class=normal><a href=#__codelineno-0-401>401</a></span>
<span class=normal><a href=#__codelineno-0-402>402</a></span>
<span class=normal><a href=#__codelineno-0-403>403</a></span>
<span class=normal><a href=#__codelineno-0-404>404</a></span>
<span class=normal><a href=#__codelineno-0-405>405</a></span>
<span class=normal><a href=#__codelineno-0-406>406</a></span>
<span class=normal><a href=#__codelineno-0-407>407</a></span>
<span class=normal><a href=#__codelineno-0-408>408</a></span>
<span class=normal><a href=#__codelineno-0-409>409</a></span>
<span class=normal><a href=#__codelineno-0-410>410</a></span>
<span class=normal><a href=#__codelineno-0-411>411</a></span>
<span class=normal><a href=#__codelineno-0-412>412</a></span>
<span class=normal><a href=#__codelineno-0-413>413</a></span>
<span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span>
<span class=normal><a href=#__codelineno-0-416>416</a></span>
<span class=normal><a href=#__codelineno-0-417>417</a></span>
<span class=normal><a href=#__codelineno-0-418>418</a></span>
<span class=normal><a href=#__codelineno-0-419>419</a></span>
<span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span>
<span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span>
<span class=normal><a href=#__codelineno-0-435>435</a></span>
<span class=normal><a href=#__codelineno-0-436>436</a></span>
<span class=normal><a href=#__codelineno-0-437>437</a></span>
<span class=normal><a href=#__codelineno-0-438>438</a></span>
<span class=normal><a href=#__codelineno-0-439>439</a></span>
<span class=normal><a href=#__codelineno-0-440>440</a></span>
<span class=normal><a href=#__codelineno-0-441>441</a></span>
<span class=normal><a href=#__codelineno-0-442>442</a></span>
<span class=normal><a href=#__codelineno-0-443>443</a></span>
<span class=normal><a href=#__codelineno-0-444>444</a></span>
<span class=normal><a href=#__codelineno-0-445>445</a></span>
<span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span>
<span class=normal><a href=#__codelineno-0-453>453</a></span>
<span class=normal><a href=#__codelineno-0-454>454</a></span>
<span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span>
<span class=normal><a href=#__codelineno-0-457>457</a></span>
<span class=normal><a href=#__codelineno-0-458>458</a></span>
<span class=normal><a href=#__codelineno-0-459>459</a></span>
<span class=normal><a href=#__codelineno-0-460>460</a></span>
<span class=normal><a href=#__codelineno-0-461>461</a></span>
<span class=normal><a href=#__codelineno-0-462>462</a></span>
<span class=normal><a href=#__codelineno-0-463>463</a></span>
<span class=normal><a href=#__codelineno-0-464>464</a></span>
<span class=normal><a href=#__codelineno-0-465>465</a></span>
<span class=normal><a href=#__codelineno-0-466>466</a></span>
<span class=normal><a href=#__codelineno-0-467>467</a></span>
<span class=normal><a href=#__codelineno-0-468>468</a></span>
<span class=normal><a href=#__codelineno-0-469>469</a></span>
<span class=normal><a href=#__codelineno-0-470>470</a></span>
<span class=normal><a href=#__codelineno-0-471>471</a></span>
<span class=normal><a href=#__codelineno-0-472>472</a></span>
<span class=normal><a href=#__codelineno-0-473>473</a></span>
<span class=normal><a href=#__codelineno-0-474>474</a></span>
<span class=normal><a href=#__codelineno-0-475>475</a></span>
<span class=normal><a href=#__codelineno-0-476>476</a></span>
<span class=normal><a href=#__codelineno-0-477>477</a></span>
<span class=normal><a href=#__codelineno-0-478>478</a></span>
<span class=normal><a href=#__codelineno-0-479>479</a></span>
<span class=normal><a href=#__codelineno-0-480>480</a></span>
<span class=normal><a href=#__codelineno-0-481>481</a></span>
<span class=normal><a href=#__codelineno-0-482>482</a></span>
<span class=normal><a href=#__codelineno-0-483>483</a></span>
<span class=normal><a href=#__codelineno-0-484>484</a></span>
<span class=normal><a href=#__codelineno-0-485>485</a></span>
<span class=normal><a href=#__codelineno-0-486>486</a></span>
<span class=normal><a href=#__codelineno-0-487>487</a></span>
<span class=normal><a href=#__codelineno-0-488>488</a></span>
<span class=normal><a href=#__codelineno-0-489>489</a></span>
<span class=normal><a href=#__codelineno-0-490>490</a></span>
<span class=normal><a href=#__codelineno-0-491>491</a></span>
<span class=normal><a href=#__codelineno-0-492>492</a></span>
<span class=normal><a href=#__codelineno-0-493>493</a></span>
<span class=normal><a href=#__codelineno-0-494>494</a></span>
<span class=normal><a href=#__codelineno-0-495>495</a></span>
<span class=normal><a href=#__codelineno-0-496>496</a></span>
<span class=normal><a href=#__codelineno-0-497>497</a></span>
<span class=normal><a href=#__codelineno-0-498>498</a></span>
<span class=normal><a href=#__codelineno-0-499>499</a></span>
<span class=normal><a href=#__codelineno-0-500>500</a></span>
<span class=normal><a href=#__codelineno-0-501>501</a></span>
<span class=normal><a href=#__codelineno-0-502>502</a></span>
<span class=normal><a href=#__codelineno-0-503>503</a></span>
<span class=normal><a href=#__codelineno-0-504>504</a></span>
<span class=normal><a href=#__codelineno-0-505>505</a></span>
<span class=normal><a href=#__codelineno-0-506>506</a></span>
<span class=normal><a href=#__codelineno-0-507>507</a></span>
<span class=normal><a href=#__codelineno-0-508>508</a></span>
<span class=normal><a href=#__codelineno-0-509>509</a></span>
<span class=normal><a href=#__codelineno-0-510>510</a></span>
<span class=normal><a href=#__codelineno-0-511>511</a></span>
<span class=normal><a href=#__codelineno-0-512>512</a></span>
<span class=normal><a href=#__codelineno-0-513>513</a></span>
<span class=normal><a href=#__codelineno-0-514>514</a></span>
<span class=normal><a href=#__codelineno-0-515>515</a></span>
<span class=normal><a href=#__codelineno-0-516>516</a></span>
<span class=normal><a href=#__codelineno-0-517>517</a></span>
<span class=normal><a href=#__codelineno-0-518>518</a></span>
<span class=normal><a href=#__codelineno-0-519>519</a></span>
<span class=normal><a href=#__codelineno-0-520>520</a></span>
<span class=normal><a href=#__codelineno-0-521>521</a></span>
<span class=normal><a href=#__codelineno-0-522>522</a></span>
<span class=normal><a href=#__codelineno-0-523>523</a></span>
<span class=normal><a href=#__codelineno-0-524>524</a></span>
<span class=normal><a href=#__codelineno-0-525>525</a></span>
<span class=normal><a href=#__codelineno-0-526>526</a></span>
<span class=normal><a href=#__codelineno-0-527>527</a></span>
<span class=normal><a href=#__codelineno-0-528>528</a></span>
<span class=normal><a href=#__codelineno-0-529>529</a></span>
<span class=normal><a href=#__codelineno-0-530>530</a></span>
<span class=normal><a href=#__codelineno-0-531>531</a></span>
<span class=normal><a href=#__codelineno-0-532>532</a></span>
<span class=normal><a href=#__codelineno-0-533>533</a></span>
<span class=normal><a href=#__codelineno-0-534>534</a></span>
<span class=normal><a href=#__codelineno-0-535>535</a></span>
<span class=normal><a href=#__codelineno-0-536>536</a></span>
<span class=normal><a href=#__codelineno-0-537>537</a></span>
<span class=normal><a href=#__codelineno-0-538>538</a></span>
<span class=normal><a href=#__codelineno-0-539>539</a></span>
<span class=normal><a href=#__codelineno-0-540>540</a></span>
<span class=normal><a href=#__codelineno-0-541>541</a></span>
<span class=normal><a href=#__codelineno-0-542>542</a></span>
<span class=normal><a href=#__codelineno-0-543>543</a></span>
<span class=normal><a href=#__codelineno-0-544>544</a></span>
<span class=normal><a href=#__codelineno-0-545>545</a></span>
<span class=normal><a href=#__codelineno-0-546>546</a></span>
<span class=normal><a href=#__codelineno-0-547>547</a></span>
<span class=normal><a href=#__codelineno-0-548>548</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a><span class=k>def</span><span class=w> </span><span class=nf>edit_fit</span><span class=p>(</span>
</span><span id=__span-0-361><a id=__codelineno-0-361 name=__codelineno-0-361></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a>    <span class=n>fit_input</span><span class=p>:</span> <span class=n>Path</span> <span class=o>|</span> <span class=n>FitFile</span><span class=p>,</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a>    <span class=n>output</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Path</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a>    <span class=n>dryrun</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-365><a id=__codelineno-0-365 name=__codelineno-0-365></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-366><a id=__codelineno-0-366 name=__codelineno-0-366></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Edit a FIT file to appear as if it came from a Garmin Edge 830.</span>
</span><span id=__span-0-367><a id=__codelineno-0-367 name=__codelineno-0-367></a>
</span><span id=__span-0-368><a id=__codelineno-0-368 name=__codelineno-0-368></a><span class=sd>    This is the primary method for converting FIT files from virtual cycling</span>
</span><span id=__span-0-369><a id=__codelineno-0-369 name=__codelineno-0-369></a><span class=sd>    platforms to Garmin-compatible format. It modifies device metadata</span>
</span><span id=__span-0-370><a id=__codelineno-0-370 name=__codelineno-0-370></a><span class=sd>    (manufacturer and product IDs) while preserving all activity data.</span>
</span><span id=__span-0-371><a id=__codelineno-0-371 name=__codelineno-0-371></a>
</span><span id=__span-0-372><a id=__codelineno-0-372 name=__codelineno-0-372></a><span class=sd>    The method performs the following transformations:</span>
</span><span id=__span-0-373><a id=__codelineno-0-373 name=__codelineno-0-373></a>
</span><span id=__span-0-374><a id=__codelineno-0-374 name=__codelineno-0-374></a><span class=sd>    1. Strips unknown field definitions to prevent corruption</span>
</span><span id=__span-0-375><a id=__codelineno-0-375 name=__codelineno-0-375></a><span class=sd>    2. Rewrites `FileIdMessage` with Garmin Edge 830 metadata</span>
</span><span id=__span-0-376><a id=__codelineno-0-376 name=__codelineno-0-376></a><span class=sd>    3. Adds a `FileCreatorMessage` with Edge 830 software/hardware versions</span>
</span><span id=__span-0-377><a id=__codelineno-0-377 name=__codelineno-0-377></a><span class=sd>    4. Modifies `DeviceInfoMessage` records to match Edge 830</span>
</span><span id=__span-0-378><a id=__codelineno-0-378 name=__codelineno-0-378></a><span class=sd>    5. Reorders `Activity` messages to end of file (COROS compatibility)</span>
</span><span id=__span-0-379><a id=__codelineno-0-379 name=__codelineno-0-379></a>
</span><span id=__span-0-380><a id=__codelineno-0-380 name=__codelineno-0-380></a><span class=sd>    Args:</span>
</span><span id=__span-0-381><a id=__codelineno-0-381 name=__codelineno-0-381></a><span class=sd>        fit_input: Either a `Path` to the input FIT file OR a pre-parsed</span>
</span><span id=__span-0-382><a id=__codelineno-0-382 name=__codelineno-0-382></a><span class=sd>            `FitFile` object. Using a `Path` is recommended for most cases.</span>
</span><span id=__span-0-383><a id=__codelineno-0-383 name=__codelineno-0-383></a><span class=sd>        output: Optional output path. Defaults to {original}_modified.fit</span>
</span><span id=__span-0-384><a id=__codelineno-0-384 name=__codelineno-0-384></a><span class=sd>            when `fit_input` is a `Path`. Required if `fit_input` is a `FitFile`</span>
</span><span id=__span-0-385><a id=__codelineno-0-385 name=__codelineno-0-385></a><span class=sd>            object.</span>
</span><span id=__span-0-386><a id=__codelineno-0-386 name=__codelineno-0-386></a><span class=sd>        dryrun: If `True`, performs all processing but doesn&#39;t write the</span>
</span><span id=__span-0-387><a id=__codelineno-0-387 name=__codelineno-0-387></a><span class=sd>            output file. Useful for validation and testing.</span>
</span><span id=__span-0-388><a id=__codelineno-0-388 name=__codelineno-0-388></a>
</span><span id=__span-0-389><a id=__codelineno-0-389 name=__codelineno-0-389></a><span class=sd>    Returns:</span>
</span><span id=__span-0-390><a id=__codelineno-0-390 name=__codelineno-0-390></a><span class=sd>        Path to the output file if successful, or `None` if processing</span>
</span><span id=__span-0-391><a id=__codelineno-0-391 name=__codelineno-0-391></a><span class=sd>        failed (e.g., invalid FIT file).</span>
</span><span id=__span-0-392><a id=__codelineno-0-392 name=__codelineno-0-392></a>
</span><span id=__span-0-393><a id=__codelineno-0-393 name=__codelineno-0-393></a><span class=sd>    Raises:</span>
</span><span id=__span-0-394><a id=__codelineno-0-394 name=__codelineno-0-394></a><span class=sd>        None: Errors are logged but not raised. Returns `None` on failure.</span>
</span><span id=__span-0-395><a id=__codelineno-0-395 name=__codelineno-0-395></a>
</span><span id=__span-0-396><a id=__codelineno-0-396 name=__codelineno-0-396></a><span class=sd>    Examples:</span>
</span><span id=__span-0-397><a id=__codelineno-0-397 name=__codelineno-0-397></a><span class=sd>        &gt;&gt;&gt; from pathlib import Path</span>
</span><span id=__span-0-398><a id=__codelineno-0-398 name=__codelineno-0-398></a><span class=sd>        &gt;&gt;&gt; from fit_file_faker.fit_editor import fit_editor</span>
</span><span id=__span-0-399><a id=__codelineno-0-399 name=__codelineno-0-399></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-400><a id=__codelineno-0-400 name=__codelineno-0-400></a><span class=sd>        &gt;&gt;&gt; # Basic usage</span>
</span><span id=__span-0-401><a id=__codelineno-0-401 name=__codelineno-0-401></a><span class=sd>        &gt;&gt;&gt; output = fit_editor.edit_fit(Path(&quot;activity.fit&quot;))</span>
</span><span id=__span-0-402><a id=__codelineno-0-402 name=__codelineno-0-402></a><span class=sd>        &gt;&gt;&gt; print(f&quot;Modified file: {output}&quot;)</span>
</span><span id=__span-0-403><a id=__codelineno-0-403 name=__codelineno-0-403></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-404><a id=__codelineno-0-404 name=__codelineno-0-404></a><span class=sd>        &gt;&gt;&gt; # Custom output path</span>
</span><span id=__span-0-405><a id=__codelineno-0-405 name=__codelineno-0-405></a><span class=sd>        &gt;&gt;&gt; output = fit_editor.edit_fit(</span>
</span><span id=__span-0-406><a id=__codelineno-0-406 name=__codelineno-0-406></a><span class=sd>        ...     Path(&quot;activity.fit&quot;),</span>
</span><span id=__span-0-407><a id=__codelineno-0-407 name=__codelineno-0-407></a><span class=sd>        ...     output=Path(&quot;custom_output.fit&quot;)</span>
</span><span id=__span-0-408><a id=__codelineno-0-408 name=__codelineno-0-408></a><span class=sd>        ... )</span>
</span><span id=__span-0-409><a id=__codelineno-0-409 name=__codelineno-0-409></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-410><a id=__codelineno-0-410 name=__codelineno-0-410></a><span class=sd>        &gt;&gt;&gt; # Dry run (no file written)</span>
</span><span id=__span-0-411><a id=__codelineno-0-411 name=__codelineno-0-411></a><span class=sd>        &gt;&gt;&gt; output = fit_editor.edit_fit(Path(&quot;activity.fit&quot;), dryrun=True)</span>
</span><span id=__span-0-412><a id=__codelineno-0-412 name=__codelineno-0-412></a>
</span><span id=__span-0-413><a id=__codelineno-0-413 name=__codelineno-0-413></a><span class=sd>    Note:</span>
</span><span id=__span-0-414><a id=__codelineno-0-414 name=__codelineno-0-414></a><span class=sd>        Only modifies device metadata. All activity data (records, laps,</span>
</span><span id=__span-0-415><a id=__codelineno-0-415 name=__codelineno-0-415></a><span class=sd>        sessions, heart rate, power, etc.) is preserved exactly as-is.</span>
</span><span id=__span-0-416><a id=__codelineno-0-416 name=__codelineno-0-416></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-417><a id=__codelineno-0-417 name=__codelineno-0-417></a>    <span class=k>if</span> <span class=n>dryrun</span><span class=p>:</span>
</span><span id=__span-0-418><a id=__codelineno-0-418 name=__codelineno-0-418></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s1>&#39;In &quot;dryrun&quot; mode; will not actually write new file.&#39;</span><span class=p>)</span>
</span><span id=__span-0-419><a id=__codelineno-0-419 name=__codelineno-0-419></a>
</span><span id=__span-0-420><a id=__codelineno-0-420 name=__codelineno-0-420></a>    <span class=c1># Handle both Path and FitFile inputs</span>
</span><span id=__span-0-421><a id=__codelineno-0-421 name=__codelineno-0-421></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>fit_input</span><span class=p>,</span> <span class=n>Path</span><span class=p>):</span>
</span><span id=__span-0-422><a id=__codelineno-0-422 name=__codelineno-0-422></a>        <span class=n>fit_path</span> <span class=o>=</span> <span class=n>fit_input</span>
</span><span id=__span-0-423><a id=__codelineno-0-423 name=__codelineno-0-423></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Processing &quot;</span><span class=si>{</span><span class=n>fit_path</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-424><a id=__codelineno-0-424 name=__codelineno-0-424></a>
</span><span id=__span-0-425><a id=__codelineno-0-425 name=__codelineno-0-425></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-426><a id=__codelineno-0-426 name=__codelineno-0-426></a>            <span class=n>fit_file</span> <span class=o>=</span> <span class=n>FitFile</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>fit_path</span><span class=p>))</span>
</span><span id=__span-0-427><a id=__codelineno-0-427 name=__codelineno-0-427></a>        <span class=k>except</span> <span class=ne>Exception</span><span class=p>:</span>
</span><span id=__span-0-428><a id=__codelineno-0-428 name=__codelineno-0-428></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;File does not appear to be a FIT file, skipping...&quot;</span><span class=p>)</span>
</span><span id=__span-0-429><a id=__codelineno-0-429 name=__codelineno-0-429></a>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-430><a id=__codelineno-0-430 name=__codelineno-0-430></a>    <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>fit_input</span><span class=p>,</span> <span class=n>FitFile</span><span class=p>):</span>
</span><span id=__span-0-431><a id=__codelineno-0-431 name=__codelineno-0-431></a>        <span class=n>fit_file</span> <span class=o>=</span> <span class=n>fit_input</span>
</span><span id=__span-0-432><a id=__codelineno-0-432 name=__codelineno-0-432></a>        <span class=n>fit_path</span> <span class=o>=</span> <span class=kc>None</span>  <span class=c1># No source path available</span>
</span><span id=__span-0-433><a id=__codelineno-0-433 name=__codelineno-0-433></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Processing parsed FIT file&quot;</span><span class=p>)</span>
</span><span id=__span-0-434><a id=__codelineno-0-434 name=__codelineno-0-434></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-435><a id=__codelineno-0-435 name=__codelineno-0-435></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid input type: </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>fit_input</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-436><a id=__codelineno-0-436 name=__codelineno-0-436></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-437><a id=__codelineno-0-437 name=__codelineno-0-437></a>
</span><span id=__span-0-438><a id=__codelineno-0-438 name=__codelineno-0-438></a>    <span class=c1># Strip unknown field definitions to prevent corruption when rewriting</span>
</span><span id=__span-0-439><a id=__codelineno-0-439 name=__codelineno-0-439></a>    <span class=bp>self</span><span class=o>.</span><span class=n>strip_unknown_fields</span><span class=p>(</span><span class=n>fit_file</span><span class=p>)</span>
</span><span id=__span-0-440><a id=__codelineno-0-440 name=__codelineno-0-440></a>
</span><span id=__span-0-441><a id=__codelineno-0-441 name=__codelineno-0-441></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>output</span><span class=p>:</span>
</span><span id=__span-0-442><a id=__codelineno-0-442 name=__codelineno-0-442></a>        <span class=k>if</span> <span class=n>fit_path</span><span class=p>:</span>
</span><span id=__span-0-443><a id=__codelineno-0-443 name=__codelineno-0-443></a>            <span class=n>output</span> <span class=o>=</span> <span class=n>fit_path</span><span class=o>.</span><span class=n>parent</span> <span class=o>/</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>fit_path</span><span class=o>.</span><span class=n>stem</span><span class=si>}</span><span class=s2>_modified.fit&quot;</span>
</span><span id=__span-0-444><a id=__codelineno-0-444 name=__codelineno-0-444></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-445><a id=__codelineno-0-445 name=__codelineno-0-445></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;Output path required when using parsed FIT file&quot;</span><span class=p>)</span>
</span><span id=__span-0-446><a id=__codelineno-0-446 name=__codelineno-0-446></a>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-447><a id=__codelineno-0-447 name=__codelineno-0-447></a>
</span><span id=__span-0-448><a id=__codelineno-0-448 name=__codelineno-0-448></a>    <span class=n>builder</span> <span class=o>=</span> <span class=n>FitFileBuilder</span><span class=p>(</span><span class=n>auto_define</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-449><a id=__codelineno-0-449 name=__codelineno-0-449></a>    <span class=n>skipped_device_type_zero</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-450><a id=__codelineno-0-450 name=__codelineno-0-450></a>
</span><span id=__span-0-451><a id=__codelineno-0-451 name=__codelineno-0-451></a>    <span class=c1># Collect Activity messages to write at the end (fixes COROS file ordering)</span>
</span><span id=__span-0-452><a id=__codelineno-0-452 name=__codelineno-0-452></a>    <span class=n>activity_messages</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-453><a id=__codelineno-0-453 name=__codelineno-0-453></a>
</span><span id=__span-0-454><a id=__codelineno-0-454 name=__codelineno-0-454></a>    <span class=c1># Loop through records, find the ones we need to change, and modify the values</span>
</span><span id=__span-0-455><a id=__codelineno-0-455 name=__codelineno-0-455></a>    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>record</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>fit_file</span><span class=o>.</span><span class=n>records</span><span class=p>):</span>
</span><span id=__span-0-456><a id=__codelineno-0-456 name=__codelineno-0-456></a>        <span class=n>message</span> <span class=o>=</span> <span class=n>record</span><span class=o>.</span><span class=n>message</span>
</span><span id=__span-0-457><a id=__codelineno-0-457 name=__codelineno-0-457></a>
</span><span id=__span-0-458><a id=__codelineno-0-458 name=__codelineno-0-458></a>        <span class=c1># Defer Activity messages until the end to ensure proper ordering</span>
</span><span id=__span-0-459><a id=__codelineno-0-459 name=__codelineno-0-459></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>ActivityMessage</span><span class=p>):</span>
</span><span id=__span-0-460><a id=__codelineno-0-460 name=__codelineno-0-460></a>            <span class=n>activity_messages</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
</span><span id=__span-0-461><a id=__codelineno-0-461 name=__codelineno-0-461></a>            <span class=k>continue</span>
</span><span id=__span-0-462><a id=__codelineno-0-462 name=__codelineno-0-462></a>
</span><span id=__span-0-463><a id=__codelineno-0-463 name=__codelineno-0-463></a>        <span class=c1># Change file id to indicate file was saved by Edge 830</span>
</span><span id=__span-0-464><a id=__codelineno-0-464 name=__codelineno-0-464></a>        <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>global_id</span> <span class=o>==</span> <span class=n>FileIdMessage</span><span class=o>.</span><span class=n>ID</span><span class=p>:</span>
</span><span id=__span-0-465><a id=__codelineno-0-465 name=__codelineno-0-465></a>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>DefinitionMessage</span><span class=p>):</span>
</span><span id=__span-0-466><a id=__codelineno-0-466 name=__codelineno-0-466></a>                <span class=c1># If this is the definition message for the FileIdMessage, skip it</span>
</span><span id=__span-0-467><a id=__codelineno-0-467 name=__codelineno-0-467></a>                <span class=c1># since we&#39;re going to write a new one</span>
</span><span id=__span-0-468><a id=__codelineno-0-468 name=__codelineno-0-468></a>                <span class=k>continue</span>
</span><span id=__span-0-469><a id=__codelineno-0-469 name=__codelineno-0-469></a>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>FileIdMessage</span><span class=p>):</span>
</span><span id=__span-0-470><a id=__codelineno-0-470 name=__codelineno-0-470></a>                <span class=c1># Rewrite the FileIdMessage and its definition and add to builder</span>
</span><span id=__span-0-471><a id=__codelineno-0-471 name=__codelineno-0-471></a>                <span class=n>def_message</span><span class=p>,</span> <span class=n>message</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>rewrite_file_id_message</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>i</span><span class=p>)</span>
</span><span id=__span-0-472><a id=__codelineno-0-472 name=__codelineno-0-472></a>                <span class=n>builder</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>def_message</span><span class=p>)</span>
</span><span id=__span-0-473><a id=__codelineno-0-473 name=__codelineno-0-473></a>                <span class=n>builder</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
</span><span id=__span-0-474><a id=__codelineno-0-474 name=__codelineno-0-474></a>                <span class=c1># Add FileCreatorMessage only if profile has software_version set</span>
</span><span id=__span-0-475><a id=__codelineno-0-475 name=__codelineno-0-475></a>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=o>.</span><span class=n>software_version</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-476><a id=__codelineno-0-476 name=__codelineno-0-476></a>                    <span class=n>creator_message</span> <span class=o>=</span> <span class=n>FileCreatorMessage</span><span class=p>()</span>
</span><span id=__span-0-477><a id=__codelineno-0-477 name=__codelineno-0-477></a>                    <span class=n>creator_message</span><span class=o>.</span><span class=n>software_version</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=o>.</span><span class=n>software_version</span>
</span><span id=__span-0-478><a id=__codelineno-0-478 name=__codelineno-0-478></a>                    <span class=n>builder</span><span class=o>.</span><span class=n>add</span><span class=p>(</span>
</span><span id=__span-0-479><a id=__codelineno-0-479 name=__codelineno-0-479></a>                        <span class=n>DefinitionMessage</span><span class=o>.</span><span class=n>from_data_message</span><span class=p>(</span><span class=n>creator_message</span><span class=p>)</span>
</span><span id=__span-0-480><a id=__codelineno-0-480 name=__codelineno-0-480></a>                    <span class=p>)</span>
</span><span id=__span-0-481><a id=__codelineno-0-481 name=__codelineno-0-481></a>                    <span class=n>builder</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>creator_message</span><span class=p>)</span>
</span><span id=__span-0-482><a id=__codelineno-0-482 name=__codelineno-0-482></a>                <span class=k>continue</span>
</span><span id=__span-0-483><a id=__codelineno-0-483 name=__codelineno-0-483></a>
</span><span id=__span-0-484><a id=__codelineno-0-484 name=__codelineno-0-484></a>        <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>global_id</span> <span class=o>==</span> <span class=n>FileCreatorMessage</span><span class=o>.</span><span class=n>ID</span><span class=p>:</span>
</span><span id=__span-0-485><a id=__codelineno-0-485 name=__codelineno-0-485></a>            <span class=c1># Skip any existing file creator message</span>
</span><span id=__span-0-486><a id=__codelineno-0-486 name=__codelineno-0-486></a>            <span class=k>continue</span>
</span><span id=__span-0-487><a id=__codelineno-0-487 name=__codelineno-0-487></a>
</span><span id=__span-0-488><a id=__codelineno-0-488 name=__codelineno-0-488></a>        <span class=c1># Change device info messages</span>
</span><span id=__span-0-489><a id=__codelineno-0-489 name=__codelineno-0-489></a>        <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>global_id</span> <span class=o>==</span> <span class=n>DeviceInfoMessage</span><span class=o>.</span><span class=n>ID</span><span class=p>:</span>
</span><span id=__span-0-490><a id=__codelineno-0-490 name=__codelineno-0-490></a>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>DeviceInfoMessage</span><span class=p>):</span>
</span><span id=__span-0-491><a id=__codelineno-0-491 name=__codelineno-0-491></a>                <span class=bp>self</span><span class=o>.</span><span class=n>print_message</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;DeviceInfoMessage Record: </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>message</span><span class=p>)</span>
</span><span id=__span-0-492><a id=__codelineno-0-492 name=__codelineno-0-492></a>                <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>device_type</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-493><a id=__codelineno-0-493 name=__codelineno-0-493></a>                    <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;    Skipping device_type 0&quot;</span><span class=p>)</span>
</span><span id=__span-0-494><a id=__codelineno-0-494 name=__codelineno-0-494></a>                    <span class=n>skipped_device_type_zero</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-495><a id=__codelineno-0-495 name=__codelineno-0-495></a>                    <span class=k>continue</span>
</span><span id=__span-0-496><a id=__codelineno-0-496 name=__codelineno-0-496></a>
</span><span id=__span-0-497><a id=__codelineno-0-497 name=__codelineno-0-497></a>                <span class=c1># Renumber device_index if we skipped device_type 0</span>
</span><span id=__span-0-498><a id=__codelineno-0-498 name=__codelineno-0-498></a>                <span class=k>if</span> <span class=n>skipped_device_type_zero</span> <span class=ow>and</span> <span class=n>message</span><span class=o>.</span><span class=n>device_index</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-499><a id=__codelineno-0-499 name=__codelineno-0-499></a>                    <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
</span><span id=__span-0-500><a id=__codelineno-0-500 name=__codelineno-0-500></a>                        <span class=sa>f</span><span class=s2>&quot;    Renumbering device_index from </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>device_index</span><span class=si>}</span><span class=s2> to </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>device_index</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-501><a id=__codelineno-0-501 name=__codelineno-0-501></a>                    <span class=p>)</span>
</span><span id=__span-0-502><a id=__codelineno-0-502 name=__codelineno-0-502></a>                    <span class=n>message</span><span class=o>.</span><span class=n>device_index</span> <span class=o>=</span> <span class=n>message</span><span class=o>.</span><span class=n>device_index</span> <span class=o>-</span> <span class=mi>1</span>
</span><span id=__span-0-503><a id=__codelineno-0-503 name=__codelineno-0-503></a>
</span><span id=__span-0-504><a id=__codelineno-0-504 name=__codelineno-0-504></a>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_should_modify_device_info</span><span class=p>(</span><span class=n>message</span><span class=o>.</span><span class=n>manufacturer</span><span class=p>):</span>
</span><span id=__span-0-505><a id=__codelineno-0-505 name=__codelineno-0-505></a>                    <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;    Modifying values&quot;</span><span class=p>)</span>
</span><span id=__span-0-506><a id=__codelineno-0-506 name=__codelineno-0-506></a>                    <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;garmin_product: </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>garmin_product</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-507><a id=__codelineno-0-507 name=__codelineno-0-507></a>                    <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;product: </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>product</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-508><a id=__codelineno-0-508 name=__codelineno-0-508></a>
</span><span id=__span-0-509><a id=__codelineno-0-509 name=__codelineno-0-509></a>                    <span class=c1># Use profile device settings if available, otherwise defaults</span>
</span><span id=__span-0-510><a id=__codelineno-0-510 name=__codelineno-0-510></a>                    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=p>:</span>
</span><span id=__span-0-511><a id=__codelineno-0-511 name=__codelineno-0-511></a>                        <span class=n>target_manufacturer</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=o>.</span><span class=n>manufacturer</span>
</span><span id=__span-0-512><a id=__codelineno-0-512 name=__codelineno-0-512></a>                        <span class=n>target_device</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=o>.</span><span class=n>device</span>
</span><span id=__span-0-513><a id=__codelineno-0-513 name=__codelineno-0-513></a>                    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-514><a id=__codelineno-0-514 name=__codelineno-0-514></a>                        <span class=n>target_manufacturer</span> <span class=o>=</span> <span class=n>Manufacturer</span><span class=o>.</span><span class=n>GARMIN</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-0-515><a id=__codelineno-0-515 name=__codelineno-0-515></a>                        <span class=n>target_device</span> <span class=o>=</span> <span class=n>GarminProduct</span><span class=o>.</span><span class=n>EDGE_830</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-0-516><a id=__codelineno-0-516 name=__codelineno-0-516></a>
</span><span id=__span-0-517><a id=__codelineno-0-517 name=__codelineno-0-517></a>                    <span class=c1># have not seen this set explicitly in testing, but probable good to set regardless</span>
</span><span id=__span-0-518><a id=__codelineno-0-518 name=__codelineno-0-518></a>                    <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>garmin_product</span><span class=p>:</span>  <span class=c1># pragma: no cover</span>
</span><span id=__span-0-519><a id=__codelineno-0-519 name=__codelineno-0-519></a>                        <span class=n>message</span><span class=o>.</span><span class=n>garmin_product</span> <span class=o>=</span> <span class=n>target_device</span>
</span><span id=__span-0-520><a id=__codelineno-0-520 name=__codelineno-0-520></a>                    <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>product</span><span class=p>:</span>
</span><span id=__span-0-521><a id=__codelineno-0-521 name=__codelineno-0-521></a>                        <span class=n>message</span><span class=o>.</span><span class=n>product</span> <span class=o>=</span> <span class=n>target_device</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-522><a id=__codelineno-0-522 name=__codelineno-0-522></a>                    <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>manufacturer</span><span class=p>:</span>
</span><span id=__span-0-523><a id=__codelineno-0-523 name=__codelineno-0-523></a>                        <span class=n>message</span><span class=o>.</span><span class=n>manufacturer</span> <span class=o>=</span> <span class=n>target_manufacturer</span>
</span><span id=__span-0-524><a id=__codelineno-0-524 name=__codelineno-0-524></a>                    <span class=n>message</span><span class=o>.</span><span class=n>product_name</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
</span><span id=__span-0-525><a id=__codelineno-0-525 name=__codelineno-0-525></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>print_message</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;    New Record: </span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>message</span><span class=p>)</span>
</span><span id=__span-0-526><a id=__codelineno-0-526 name=__codelineno-0-526></a>
</span><span id=__span-0-527><a id=__codelineno-0-527 name=__codelineno-0-527></a>        <span class=n>builder</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
</span><span id=__span-0-528><a id=__codelineno-0-528 name=__codelineno-0-528></a>
</span><span id=__span-0-529><a id=__codelineno-0-529 name=__codelineno-0-529></a>    <span class=c1># Add Activity messages at the end to ensure proper FIT file structure</span>
</span><span id=__span-0-530><a id=__codelineno-0-530 name=__codelineno-0-530></a>    <span class=k>if</span> <span class=n>activity_messages</span><span class=p>:</span>
</span><span id=__span-0-531><a id=__codelineno-0-531 name=__codelineno-0-531></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
</span><span id=__span-0-532><a id=__codelineno-0-532 name=__codelineno-0-532></a>            <span class=sa>f</span><span class=s2>&quot;Adding </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>activity_messages</span><span class=p>)</span><span class=si>}</span><span class=s2> Activity message(s) at the end&quot;</span>
</span><span id=__span-0-533><a id=__codelineno-0-533 name=__codelineno-0-533></a>        <span class=p>)</span>
</span><span id=__span-0-534><a id=__codelineno-0-534 name=__codelineno-0-534></a>        <span class=k>for</span> <span class=n>activity_msg</span> <span class=ow>in</span> <span class=n>activity_messages</span><span class=p>:</span>
</span><span id=__span-0-535><a id=__codelineno-0-535 name=__codelineno-0-535></a>            <span class=n>builder</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>activity_msg</span><span class=p>)</span>
</span><span id=__span-0-536><a id=__codelineno-0-536 name=__codelineno-0-536></a>
</span><span id=__span-0-537><a id=__codelineno-0-537 name=__codelineno-0-537></a>    <span class=n>modified_file</span> <span class=o>=</span> <span class=n>builder</span><span class=o>.</span><span class=n>build</span><span class=p>()</span>
</span><span id=__span-0-538><a id=__codelineno-0-538 name=__codelineno-0-538></a>
</span><span id=__span-0-539><a id=__codelineno-0-539 name=__codelineno-0-539></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>dryrun</span><span class=p>:</span>
</span><span id=__span-0-540><a id=__codelineno-0-540 name=__codelineno-0-540></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Saving modified data to &quot;</span><span class=si>{</span><span class=n>output</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-541><a id=__codelineno-0-541 name=__codelineno-0-541></a>        <span class=n>modified_file</span><span class=o>.</span><span class=n>to_file</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>output</span><span class=p>))</span>
</span><span id=__span-0-542><a id=__codelineno-0-542 name=__codelineno-0-542></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-543><a id=__codelineno-0-543 name=__codelineno-0-543></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-544><a id=__codelineno-0-544 name=__codelineno-0-544></a>            <span class=sa>f</span><span class=s2>&quot;Dryrun requested, so not saving data &quot;</span>
</span><span id=__span-0-545><a id=__codelineno-0-545 name=__codelineno-0-545></a>            <span class=sa>f</span><span class=s1>&#39;(would have written to &quot;</span><span class=si>{</span><span class=n>output</span><span class=si>}</span><span class=s1>&quot;)&#39;</span>
</span><span id=__span-0-546><a id=__codelineno-0-546 name=__codelineno-0-546></a>        <span class=p>)</span>
</span><span id=__span-0-547><a id=__codelineno-0-547 name=__codelineno-0-547></a>
</span><span id=__span-0-548><a id=__codelineno-0-548 name=__codelineno-0-548></a>    <span class=k>return</span> <span class=n>output</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.fit_editor.FitEditor.rewrite_file_id_message class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">rewrite_file_id_message</span> <a href=#fit_file_faker.fit_editor.FitEditor.rewrite_file_id_message class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>rewrite_file_id_message</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>m</span><span class=p>:</span> <span class=n>FileIdMessage</span><span class=p>,</span> <span class=n>message_num</span><span class=p>:</span> <span class=nb>int</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>DefinitionMessage</span><span class=p>,</span> <span class=n>FileIdMessage</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Rewrite FileIdMessage to appear as if from Garmin Edge 830.</p> <p>Creates a new FileIdMessage with Garmin Edge 830 manufacturer and product IDs while preserving the original timestamp, type, and serial number. This is the primary transformation that enables Garmin Connect to recognize and process the activity.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>m</code> </td> <td> <code><span title=fit_file_faker.vendor.fit_tool.profile.messages.file_id_message.FileIdMessage>FileIdMessage</span></code> </td> <td> <div class=doc-md-description> <p>The original FileIdMessage to rewrite.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>message_num</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>The record number for logging purposes.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=tuple>tuple</span>[<span title=fit_file_faker.vendor.fit_tool.definition_message.DefinitionMessage>DefinitionMessage</span>, <span title=fit_file_faker.vendor.fit_tool.profile.messages.file_id_message.FileIdMessage>FileIdMessage</span>]</code> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> <ul> <li><code>DefinitionMessage</code>: Auto-generated definition for the new message.</li> <li><code>FileIdMessage</code>: The rewritten message with Garmin Edge 830 metadata.</li> </ul> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>The product_name field is intentionally not copied as Garmin devices typically don't set this field. Only files from supported manufacturers (<code>DEVELOPMENT</code>, <code>ZWIFT</code>, <code>WAHOO_FITNESS</code>, <code>PEAKSWARE</code>, <code>HAMMERHEAD</code>, <code>COROS</code>, <code>MYWHOOSH</code>) are modified; others are returned unchanged.</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/fit_editor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span>
<span class=normal><a href=#__codelineno-0-231>231</a></span>
<span class=normal><a href=#__codelineno-0-232>232</a></span>
<span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span>
<span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span>
<span class=normal><a href=#__codelineno-0-247>247</a></span>
<span class=normal><a href=#__codelineno-0-248>248</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187></a><span class=k>def</span><span class=w> </span><span class=nf>rewrite_file_id_message</span><span class=p>(</span>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a>    <span class=n>m</span><span class=p>:</span> <span class=n>FileIdMessage</span><span class=p>,</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a>    <span class=n>message_num</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>DefinitionMessage</span><span class=p>,</span> <span class=n>FileIdMessage</span><span class=p>]:</span>
</span><span id=__span-0-192><a id=__codelineno-0-192 name=__codelineno-0-192></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Rewrite FileIdMessage to appear as if from Garmin Edge 830.</span>
</span><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193></a>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194></a><span class=sd>    Creates a new FileIdMessage with Garmin Edge 830 manufacturer and</span>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195></a><span class=sd>    product IDs while preserving the original timestamp, type, and serial</span>
</span><span id=__span-0-196><a id=__codelineno-0-196 name=__codelineno-0-196></a><span class=sd>    number. This is the primary transformation that enables Garmin Connect</span>
</span><span id=__span-0-197><a id=__codelineno-0-197 name=__codelineno-0-197></a><span class=sd>    to recognize and process the activity.</span>
</span><span id=__span-0-198><a id=__codelineno-0-198 name=__codelineno-0-198></a>
</span><span id=__span-0-199><a id=__codelineno-0-199 name=__codelineno-0-199></a><span class=sd>    Args:</span>
</span><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a><span class=sd>        m: The original FileIdMessage to rewrite.</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a><span class=sd>        message_num: The record number for logging purposes.</span>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a><span class=sd>    Returns:</span>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a><span class=sd>        A tuple containing:</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a><span class=sd>            - `DefinitionMessage`: Auto-generated definition for the new message.</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a><span class=sd>            - `FileIdMessage`: The rewritten message with Garmin Edge 830 metadata.</span>
</span><span id=__span-0-208><a id=__codelineno-0-208 name=__codelineno-0-208></a>
</span><span id=__span-0-209><a id=__codelineno-0-209 name=__codelineno-0-209></a><span class=sd>    Note:</span>
</span><span id=__span-0-210><a id=__codelineno-0-210 name=__codelineno-0-210></a><span class=sd>        The product_name field is intentionally not copied as Garmin devices</span>
</span><span id=__span-0-211><a id=__codelineno-0-211 name=__codelineno-0-211></a><span class=sd>        typically don&#39;t set this field. Only files from supported manufacturers</span>
</span><span id=__span-0-212><a id=__codelineno-0-212 name=__codelineno-0-212></a><span class=sd>        (`DEVELOPMENT`, `ZWIFT`, `WAHOO_FITNESS`, `PEAKSWARE`, `HAMMERHEAD`, `COROS`,</span>
</span><span id=__span-0-213><a id=__codelineno-0-213 name=__codelineno-0-213></a><span class=sd>        `MYWHOOSH`) are modified; others are returned unchanged.</span>
</span><span id=__span-0-214><a id=__codelineno-0-214 name=__codelineno-0-214></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-215><a id=__codelineno-0-215 name=__codelineno-0-215></a>    <span class=n>dt</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>fromtimestamp</span><span class=p>(</span><span class=n>m</span><span class=o>.</span><span class=n>time_created</span> <span class=o>/</span> <span class=mf>1000.0</span><span class=p>)</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Activity timestamp is &quot;</span><span class=si>{</span><span class=n>dt</span><span class=o>.</span><span class=n>isoformat</span><span class=p>()</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a>    <span class=bp>self</span><span class=o>.</span><span class=n>print_message</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;FileIdMessage Record: </span><span class=si>{</span><span class=n>message_num</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>m</span><span class=p>)</span>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218></a>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a>    <span class=n>new_m</span> <span class=o>=</span> <span class=n>FileIdMessage</span><span class=p>()</span>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220></a>    <span class=n>new_m</span><span class=o>.</span><span class=n>time_created</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a>        <span class=n>m</span><span class=o>.</span><span class=n>time_created</span> <span class=k>if</span> <span class=n>m</span><span class=o>.</span><span class=n>time_created</span> <span class=k>else</span> <span class=nb>int</span><span class=p>(</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>timestamp</span><span class=p>()</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>)</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222></a>    <span class=p>)</span>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a>    <span class=k>if</span> <span class=n>m</span><span class=o>.</span><span class=n>type</span><span class=p>:</span>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a>        <span class=n>new_m</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>m</span><span class=o>.</span><span class=n>type</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a>    <span class=c1># Use profile serial number if available, otherwise use default</span>
</span><span id=__span-0-226><a id=__codelineno-0-226 name=__codelineno-0-226></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span><span class=p>:</span>
</span><span id=__span-0-227><a id=__codelineno-0-227 name=__codelineno-0-227></a>        <span class=n>new_m</span><span class=o>.</span><span class=n>serial_number</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span>
</span><span id=__span-0-228><a id=__codelineno-0-228 name=__codelineno-0-228></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-229><a id=__codelineno-0-229 name=__codelineno-0-229></a>        <span class=c1># Fallback to default for backwards compatibility</span>
</span><span id=__span-0-230><a id=__codelineno-0-230 name=__codelineno-0-230></a>        <span class=n>new_m</span><span class=o>.</span><span class=n>serial_number</span> <span class=o>=</span> <span class=mi>1234567890</span>
</span><span id=__span-0-231><a id=__codelineno-0-231 name=__codelineno-0-231></a>
</span><span id=__span-0-232><a id=__codelineno-0-232 name=__codelineno-0-232></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Using serial number: </span><span class=si>{</span><span class=n>new_m</span><span class=o>.</span><span class=n>serial_number</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-233><a id=__codelineno-0-233 name=__codelineno-0-233></a>    <span class=k>if</span> <span class=n>m</span><span class=o>.</span><span class=n>product_name</span><span class=p>:</span>
</span><span id=__span-0-234><a id=__codelineno-0-234 name=__codelineno-0-234></a>        <span class=c1># garmin does not appear to define product_name, so don&#39;t copy it over</span>
</span><span id=__span-0-235><a id=__codelineno-0-235 name=__codelineno-0-235></a>        <span class=k>pass</span>
</span><span id=__span-0-236><a id=__codelineno-0-236 name=__codelineno-0-236></a>
</span><span id=__span-0-237><a id=__codelineno-0-237 name=__codelineno-0-237></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_should_modify_manufacturer</span><span class=p>(</span><span class=n>m</span><span class=o>.</span><span class=n>manufacturer</span><span class=p>):</span>
</span><span id=__span-0-238><a id=__codelineno-0-238 name=__codelineno-0-238></a>        <span class=c1># Use profile device settings if available, otherwise defaults</span>
</span><span id=__span-0-239><a id=__codelineno-0-239 name=__codelineno-0-239></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=p>:</span>
</span><span id=__span-0-240><a id=__codelineno-0-240 name=__codelineno-0-240></a>            <span class=n>new_m</span><span class=o>.</span><span class=n>manufacturer</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=o>.</span><span class=n>manufacturer</span>
</span><span id=__span-0-241><a id=__codelineno-0-241 name=__codelineno-0-241></a>            <span class=n>new_m</span><span class=o>.</span><span class=n>product</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>profile</span><span class=o>.</span><span class=n>device</span>
</span><span id=__span-0-242><a id=__codelineno-0-242 name=__codelineno-0-242></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-243><a id=__codelineno-0-243 name=__codelineno-0-243></a>            <span class=n>new_m</span><span class=o>.</span><span class=n>manufacturer</span> <span class=o>=</span> <span class=n>Manufacturer</span><span class=o>.</span><span class=n>GARMIN</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-0-244><a id=__codelineno-0-244 name=__codelineno-0-244></a>            <span class=n>new_m</span><span class=o>.</span><span class=n>product</span> <span class=o>=</span> <span class=n>GarminProduct</span><span class=o>.</span><span class=n>EDGE_830</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-0-245><a id=__codelineno-0-245 name=__codelineno-0-245></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;    Modifying values&quot;</span><span class=p>)</span>
</span><span id=__span-0-246><a id=__codelineno-0-246 name=__codelineno-0-246></a>        <span class=bp>self</span><span class=o>.</span><span class=n>print_message</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;    New Record: </span><span class=si>{</span><span class=n>message_num</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>new_m</span><span class=p>)</span>
</span><span id=__span-0-247><a id=__codelineno-0-247 name=__codelineno-0-247></a>
</span><span id=__span-0-248><a id=__codelineno-0-248 name=__codelineno-0-248></a>    <span class=k>return</span> <span class=p>(</span><span class=n>DefinitionMessage</span><span class=o>.</span><span class=n>from_data_message</span><span class=p>(</span><span class=n>new_m</span><span class=p>),</span> <span class=n>new_m</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.fit_editor.FitEditor.get_date_from_fit class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_date_from_fit</span> <a href=#fit_file_faker.fit_editor.FitEditor.get_date_from_fit class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_date_from_fit</span><span class=p>(</span><span class=n>fit_path</span><span class=p>:</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>datetime</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Extract the creation date from a FIT file.</p> <p>Reads the FIT file and extracts the timestamp from the <code>FileIdMessage</code>, which indicates when the activity was recorded.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>fit_path</code> </td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p><code>Path</code> to the FIT file to read.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Optional>Optional</span>[<span title=datetime.datetime>datetime</span>]</code> </td> <td> <div class=doc-md-description> <p>The activity creation datetime, or <code>None</code> if no <code>FileIdMessage</code> with</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=typing.Optional>Optional</span>[<span title=datetime.datetime>datetime</span>]</code> </td> <td> <div class=doc-md-description> <p>a valid timestamp was found.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>The timestamp in FIT files is stored in milliseconds since the FIT epoch, which is converted to a standard Python datetime object.</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/fit_editor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span>
<span class=normal><a href=#__codelineno-0-183>183</a></span>
<span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a><span class=k>def</span><span class=w> </span><span class=nf>get_date_from_fit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>fit_path</span><span class=p>:</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>datetime</span><span class=p>]:</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extract the creation date from a FIT file.</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163></a><span class=sd>    Reads the FIT file and extracts the timestamp from the `FileIdMessage`,</span>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a><span class=sd>    which indicates when the activity was recorded.</span>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a><span class=sd>    Args:</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a><span class=sd>        fit_path: `Path` to the FIT file to read.</span>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a><span class=sd>    Returns:</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a><span class=sd>        The activity creation datetime, or `None` if no `FileIdMessage` with</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a><span class=sd>        a valid timestamp was found.</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>
</span><span id=__span-0-173><a id=__codelineno-0-173 name=__codelineno-0-173></a><span class=sd>    Note:</span>
</span><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a><span class=sd>        The timestamp in FIT files is stored in milliseconds since the</span>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a><span class=sd>        FIT epoch, which is converted to a standard Python datetime object.</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a>    <span class=n>fit_file</span> <span class=o>=</span> <span class=n>FitFile</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>fit_path</span><span class=p>))</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a>    <span class=n>res</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179></a>    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>record</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>fit_file</span><span class=o>.</span><span class=n>records</span><span class=p>):</span>
</span><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a>        <span class=n>message</span> <span class=o>=</span> <span class=n>record</span><span class=o>.</span><span class=n>message</span>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181></a>        <span class=k>if</span> <span class=n>message</span><span class=o>.</span><span class=n>global_id</span> <span class=o>==</span> <span class=n>FileIdMessage</span><span class=o>.</span><span class=n>ID</span><span class=p>:</span>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182></a>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=n>FileIdMessage</span><span class=p>):</span>
</span><span id=__span-0-183><a id=__codelineno-0-183 name=__codelineno-0-183></a>                <span class=n>res</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>fromtimestamp</span><span class=p>(</span><span class=n>message</span><span class=o>.</span><span class=n>time_created</span> <span class=o>/</span> <span class=mf>1000.0</span><span class=p>)</span>  <span class=c1># type: ignore</span>
</span><span id=__span-0-184><a id=__codelineno-0-184 name=__codelineno-0-184></a>                <span class=k>break</span>
</span><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185></a>    <span class=k>return</span> <span class=n>res</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.fit_editor.FitEditor.strip_unknown_fields class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">strip_unknown_fields</span> <a href=#fit_file_faker.fit_editor.FitEditor.strip_unknown_fields class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>strip_unknown_fields</span><span class=p>(</span><span class=n>fit_file</span><span class=p>:</span> <span class=n>FitFile</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Force regeneration of definition messages for messages with unknown fields.</p> <p>This fixes a bug where <code>fit_tool</code> skips unknown fields (like Zwift's field 193) during reading but keeps them in the definition, causing a mismatch when writing. Without this fix, the file would be corrupted when written back out.</p> <p>The method sets <code>definition_message</code> to <code>None</code> for affected messages, forcing <code>FitFileBuilder</code> to regenerate clean definitions based only on fields that actually exist in the message.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>fit_file</code> </td> <td> <code><span title=fit_file_faker.vendor.fit_tool.fit_file.FitFile>FitFile</span></code> </td> <td> <div class=doc-md-description> <p>The parsed FIT file to process. Messages are modified in place.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>This is called automatically by <a class="autorefs autorefs-internal" title="            edit_fit" href=#fit_file_faker.fit_editor.FitEditor.edit_fit><code>edit_fit()</code></a> before processing any FIT file. It's essential for handling files from platforms like Zwift that use custom/unknown field IDs.</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/fit_editor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-311>311</a></span>
<span class=normal><a href=#__codelineno-0-312>312</a></span>
<span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span>
<span class=normal><a href=#__codelineno-0-315>315</a></span>
<span class=normal><a href=#__codelineno-0-316>316</a></span>
<span class=normal><a href=#__codelineno-0-317>317</a></span>
<span class=normal><a href=#__codelineno-0-318>318</a></span>
<span class=normal><a href=#__codelineno-0-319>319</a></span>
<span class=normal><a href=#__codelineno-0-320>320</a></span>
<span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span>
<span class=normal><a href=#__codelineno-0-326>326</a></span>
<span class=normal><a href=#__codelineno-0-327>327</a></span>
<span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span>
<span class=normal><a href=#__codelineno-0-332>332</a></span>
<span class=normal><a href=#__codelineno-0-333>333</a></span>
<span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span>
<span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-311><a id=__codelineno-0-311 name=__codelineno-0-311></a><span class=k>def</span><span class=w> </span><span class=nf>strip_unknown_fields</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>fit_file</span><span class=p>:</span> <span class=n>FitFile</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-312><a id=__codelineno-0-312 name=__codelineno-0-312></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Force regeneration of definition messages for messages with unknown fields.</span>
</span><span id=__span-0-313><a id=__codelineno-0-313 name=__codelineno-0-313></a>
</span><span id=__span-0-314><a id=__codelineno-0-314 name=__codelineno-0-314></a><span class=sd>    This fixes a bug where `fit_tool` skips unknown fields (like Zwift&#39;s field 193)</span>
</span><span id=__span-0-315><a id=__codelineno-0-315 name=__codelineno-0-315></a><span class=sd>    during reading but keeps them in the definition, causing a mismatch when writing.</span>
</span><span id=__span-0-316><a id=__codelineno-0-316 name=__codelineno-0-316></a><span class=sd>    Without this fix, the file would be corrupted when written back out.</span>
</span><span id=__span-0-317><a id=__codelineno-0-317 name=__codelineno-0-317></a>
</span><span id=__span-0-318><a id=__codelineno-0-318 name=__codelineno-0-318></a><span class=sd>    The method sets `definition_message` to `None` for affected messages, forcing</span>
</span><span id=__span-0-319><a id=__codelineno-0-319 name=__codelineno-0-319></a><span class=sd>    `FitFileBuilder` to regenerate clean definitions based only on fields that</span>
</span><span id=__span-0-320><a id=__codelineno-0-320 name=__codelineno-0-320></a><span class=sd>    actually exist in the message.</span>
</span><span id=__span-0-321><a id=__codelineno-0-321 name=__codelineno-0-321></a>
</span><span id=__span-0-322><a id=__codelineno-0-322 name=__codelineno-0-322></a><span class=sd>    Args:</span>
</span><span id=__span-0-323><a id=__codelineno-0-323 name=__codelineno-0-323></a><span class=sd>        fit_file: The parsed FIT file to process. Messages are modified in place.</span>
</span><span id=__span-0-324><a id=__codelineno-0-324 name=__codelineno-0-324></a>
</span><span id=__span-0-325><a id=__codelineno-0-325 name=__codelineno-0-325></a><span class=sd>    Note:</span>
</span><span id=__span-0-326><a id=__codelineno-0-326 name=__codelineno-0-326></a><span class=sd>        This is called automatically by</span>
</span><span id=__span-0-327><a id=__codelineno-0-327 name=__codelineno-0-327></a><span class=sd>        [`edit_fit()`][fit_file_faker.fit_editor.FitEditor.edit_fit] before</span>
</span><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328></a><span class=sd>        processing any FIT file. It&#39;s essential for handling files from platforms</span>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329></a><span class=sd>        like Zwift that use custom/unknown field IDs.</span>
</span><span id=__span-0-330><a id=__codelineno-0-330 name=__codelineno-0-330></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-331><a id=__codelineno-0-331 name=__codelineno-0-331></a>    <span class=k>for</span> <span class=n>record</span> <span class=ow>in</span> <span class=n>fit_file</span><span class=o>.</span><span class=n>records</span><span class=p>:</span>
</span><span id=__span-0-332><a id=__codelineno-0-332 name=__codelineno-0-332></a>        <span class=n>message</span> <span class=o>=</span> <span class=n>record</span><span class=o>.</span><span class=n>message</span>
</span><span id=__span-0-333><a id=__codelineno-0-333 name=__codelineno-0-333></a>        <span class=k>if</span> <span class=p>(</span>
</span><span id=__span-0-334><a id=__codelineno-0-334 name=__codelineno-0-334></a>            <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=s2>&quot;definition_message&quot;</span><span class=p>)</span>
</span><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335></a>            <span class=ow>or</span> <span class=n>message</span><span class=o>.</span><span class=n>definition_message</span> <span class=ow>is</span> <span class=kc>None</span>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336></a>        <span class=p>):</span>
</span><span id=__span-0-337><a id=__codelineno-0-337 name=__codelineno-0-337></a>            <span class=k>continue</span>
</span><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=s2>&quot;fields&quot;</span><span class=p>):</span>  <span class=c1># pragma: no cover</span>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a>            <span class=k>continue</span>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a>        <span class=c1># Get the set of field IDs that actually exist in the message</span>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>        <span class=n>existing_field_ids</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a>            <span class=n>field</span><span class=o>.</span><span class=n>field_id</span> <span class=k>for</span> <span class=n>field</span> <span class=ow>in</span> <span class=n>message</span><span class=o>.</span><span class=n>fields</span> <span class=k>if</span> <span class=n>field</span><span class=o>.</span><span class=n>is_valid</span><span class=p>()</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>        <span class=p>}</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>
</span><span id=__span-0-346><a id=__codelineno-0-346 name=__codelineno-0-346></a>        <span class=c1># Check if definition has fields that don&#39;t exist in the message</span>
</span><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a>        <span class=n>definition_field_ids</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a>            <span class=n>fd</span><span class=o>.</span><span class=n>field_id</span> <span class=k>for</span> <span class=n>fd</span> <span class=ow>in</span> <span class=n>message</span><span class=o>.</span><span class=n>definition_message</span><span class=o>.</span><span class=n>field_definitions</span>
</span><span id=__span-0-349><a id=__codelineno-0-349 name=__codelineno-0-349></a>        <span class=p>}</span>
</span><span id=__span-0-350><a id=__codelineno-0-350 name=__codelineno-0-350></a>
</span><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a>        <span class=n>unknown_fields</span> <span class=o>=</span> <span class=n>definition_field_ids</span> <span class=o>-</span> <span class=n>existing_field_ids</span>
</span><span id=__span-0-352><a id=__codelineno-0-352 name=__codelineno-0-352></a>        <span class=k>if</span> <span class=n>unknown_fields</span><span class=p>:</span>
</span><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a>                <span class=sa>f</span><span class=s2>&quot;Clearing definition for </span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> (global_id=</span><span class=si>{</span><span class=n>message</span><span class=o>.</span><span class=n>global_id</span><span class=si>}</span><span class=s2>) &quot;</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a>                <span class=sa>f</span><span class=s2>&quot;to force regeneration (had </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>unknown_fields</span><span class=p>)</span><span class=si>}</span><span class=s2> unknown field(s))&quot;</span>
</span><span id=__span-0-356><a id=__codelineno-0-356 name=__codelineno-0-356></a>            <span class=p>)</span>
</span><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a>            <span class=c1># Set to None to force FitFileBuilder to regenerate it</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a>            <span class=n>message</span><span class=o>.</span><span class=n>definition_message</span> <span class=o>=</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.fit_editor.FitEditor._should_modify_manufacturer class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">_should_modify_manufacturer</span> <a href=#fit_file_faker.fit_editor.FitEditor._should_modify_manufacturer class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>_should_modify_manufacturer</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>manufacturer</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Check if manufacturer should be modified to Garmin.</p> <p>Determines whether a FIT file's manufacturer should be changed to Garmin based on whether it's from a supported virtual cycling platform.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>manufacturer</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>The manufacturer code from the FIT file, or <code>None</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>True if the manufacturer is from a supported platform and should</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>be modified, False otherwise.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>Supported manufacturers include: <code>DEVELOPMENT</code> (TrainingPeaks Virtual), <code>ZWIFT</code>, <code>WAHOO_FITNESS</code>, <code>PEAKSWARE</code>, <code>HAMMERHEAD</code>, <code>COROS</code>, and <code>MYWHOOSH</code> (<code>331</code>).</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/fit_editor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-250>250</a></span>
<span class=normal><a href=#__codelineno-0-251>251</a></span>
<span class=normal><a href=#__codelineno-0-252>252</a></span>
<span class=normal><a href=#__codelineno-0-253>253</a></span>
<span class=normal><a href=#__codelineno-0-254>254</a></span>
<span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span>
<span class=normal><a href=#__codelineno-0-257>257</a></span>
<span class=normal><a href=#__codelineno-0-258>258</a></span>
<span class=normal><a href=#__codelineno-0-259>259</a></span>
<span class=normal><a href=#__codelineno-0-260>260</a></span>
<span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span>
<span class=normal><a href=#__codelineno-0-264>264</a></span>
<span class=normal><a href=#__codelineno-0-265>265</a></span>
<span class=normal><a href=#__codelineno-0-266>266</a></span>
<span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span>
<span class=normal><a href=#__codelineno-0-269>269</a></span>
<span class=normal><a href=#__codelineno-0-270>270</a></span>
<span class=normal><a href=#__codelineno-0-271>271</a></span>
<span class=normal><a href=#__codelineno-0-272>272</a></span>
<span class=normal><a href=#__codelineno-0-273>273</a></span>
<span class=normal><a href=#__codelineno-0-274>274</a></span>
<span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span>
<span class=normal><a href=#__codelineno-0-278>278</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a><span class=k>def</span><span class=w> </span><span class=nf>_should_modify_manufacturer</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>manufacturer</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if manufacturer should be modified to Garmin.</span>
</span><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252></a>
</span><span id=__span-0-253><a id=__codelineno-0-253 name=__codelineno-0-253></a><span class=sd>    Determines whether a FIT file&#39;s manufacturer should be changed to</span>
</span><span id=__span-0-254><a id=__codelineno-0-254 name=__codelineno-0-254></a><span class=sd>    Garmin based on whether it&#39;s from a supported virtual cycling platform.</span>
</span><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a><span class=sd>    Args:</span>
</span><span id=__span-0-257><a id=__codelineno-0-257 name=__codelineno-0-257></a><span class=sd>        manufacturer: The manufacturer code from the FIT file, or `None`.</span>
</span><span id=__span-0-258><a id=__codelineno-0-258 name=__codelineno-0-258></a>
</span><span id=__span-0-259><a id=__codelineno-0-259 name=__codelineno-0-259></a><span class=sd>    Returns:</span>
</span><span id=__span-0-260><a id=__codelineno-0-260 name=__codelineno-0-260></a><span class=sd>        True if the manufacturer is from a supported platform and should</span>
</span><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a><span class=sd>        be modified, False otherwise.</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a><span class=sd>    Note:</span>
</span><span id=__span-0-264><a id=__codelineno-0-264 name=__codelineno-0-264></a><span class=sd>        Supported manufacturers include: `DEVELOPMENT` (TrainingPeaks Virtual),</span>
</span><span id=__span-0-265><a id=__codelineno-0-265 name=__codelineno-0-265></a><span class=sd>        `ZWIFT`, `WAHOO_FITNESS`, `PEAKSWARE`, `HAMMERHEAD`, `COROS`, and</span>
</span><span id=__span-0-266><a id=__codelineno-0-266 name=__codelineno-0-266></a><span class=sd>        `MYWHOOSH` (`331`).</span>
</span><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a>    <span class=k>if</span> <span class=n>manufacturer</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-269><a id=__codelineno-0-269 name=__codelineno-0-269></a>        <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-0-270><a id=__codelineno-0-270 name=__codelineno-0-270></a>    <span class=k>return</span> <span class=n>manufacturer</span> <span class=ow>in</span> <span class=p>[</span>
</span><span id=__span-0-271><a id=__codelineno-0-271 name=__codelineno-0-271></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>DEVELOPMENT</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-272><a id=__codelineno-0-272 name=__codelineno-0-272></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>ZWIFT</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-273><a id=__codelineno-0-273 name=__codelineno-0-273></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>WAHOO_FITNESS</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-274><a id=__codelineno-0-274 name=__codelineno-0-274></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>PEAKSWARE</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>HAMMERHEAD</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>COROS</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a>        <span class=mi>331</span><span class=p>,</span>  <span class=c1># MYWHOOSH is unknown to fit_tools</span>
</span><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a>    <span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.fit_editor.FitEditor._should_modify_device_info class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">_should_modify_device_info</span> <a href=#fit_file_faker.fit_editor.FitEditor._should_modify_device_info class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>_should_modify_device_info</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>manufacturer</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Check if device info should be modified to Garmin Edge 830.</p> <p>Similar to _should_modify_manufacturer but also includes blank/unknown manufacturers (code 0) for <code>DeviceInfoMessage</code> records.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>manufacturer</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>The manufacturer code from the <code>DeviceInfoMessage</code>, or <code>None</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>True if the device info should be modified to Garmin Edge 830,</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>False otherwise.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>This includes all manufacturers from <a class="autorefs autorefs-internal" title="            _should_modify_manufacturer" href=#fit_file_faker.fit_editor.FitEditor._should_modify_manufacturer><code>_should_modify_manufacturer()</code></a> plus manufacturer code 0 (blank/unknown).</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/fit_editor.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span>
<span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span>
<span class=normal><a href=#__codelineno-0-292>292</a></span>
<span class=normal><a href=#__codelineno-0-293>293</a></span>
<span class=normal><a href=#__codelineno-0-294>294</a></span>
<span class=normal><a href=#__codelineno-0-295>295</a></span>
<span class=normal><a href=#__codelineno-0-296>296</a></span>
<span class=normal><a href=#__codelineno-0-297>297</a></span>
<span class=normal><a href=#__codelineno-0-298>298</a></span>
<span class=normal><a href=#__codelineno-0-299>299</a></span>
<span class=normal><a href=#__codelineno-0-300>300</a></span>
<span class=normal><a href=#__codelineno-0-301>301</a></span>
<span class=normal><a href=#__codelineno-0-302>302</a></span>
<span class=normal><a href=#__codelineno-0-303>303</a></span>
<span class=normal><a href=#__codelineno-0-304>304</a></span>
<span class=normal><a href=#__codelineno-0-305>305</a></span>
<span class=normal><a href=#__codelineno-0-306>306</a></span>
<span class=normal><a href=#__codelineno-0-307>307</a></span>
<span class=normal><a href=#__codelineno-0-308>308</a></span>
<span class=normal><a href=#__codelineno-0-309>309</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a><span class=k>def</span><span class=w> </span><span class=nf>_should_modify_device_info</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>manufacturer</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if device info should be modified to Garmin Edge 830.</span>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282></a>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283></a><span class=sd>    Similar to _should_modify_manufacturer but also includes blank/unknown</span>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284></a><span class=sd>    manufacturers (code 0) for `DeviceInfoMessage` records.</span>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285></a>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286></a><span class=sd>    Args:</span>
</span><span id=__span-0-287><a id=__codelineno-0-287 name=__codelineno-0-287></a><span class=sd>        manufacturer: The manufacturer code from the `DeviceInfoMessage`, or `None`.</span>
</span><span id=__span-0-288><a id=__codelineno-0-288 name=__codelineno-0-288></a>
</span><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289></a><span class=sd>    Returns:</span>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a><span class=sd>        True if the device info should be modified to Garmin Edge 830,</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a><span class=sd>        False otherwise.</span>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292></a>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293></a><span class=sd>    Note:</span>
</span><span id=__span-0-294><a id=__codelineno-0-294 name=__codelineno-0-294></a><span class=sd>        This includes all manufacturers from</span>
</span><span id=__span-0-295><a id=__codelineno-0-295 name=__codelineno-0-295></a><span class=sd>        [`_should_modify_manufacturer()`][fit_file_faker.fit_editor.FitEditor._should_modify_manufacturer]</span>
</span><span id=__span-0-296><a id=__codelineno-0-296 name=__codelineno-0-296></a><span class=sd>        plus manufacturer code 0 (blank/unknown).</span>
</span><span id=__span-0-297><a id=__codelineno-0-297 name=__codelineno-0-297></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-298><a id=__codelineno-0-298 name=__codelineno-0-298></a>    <span class=k>if</span> <span class=n>manufacturer</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-299><a id=__codelineno-0-299 name=__codelineno-0-299></a>        <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-0-300><a id=__codelineno-0-300 name=__codelineno-0-300></a>    <span class=k>return</span> <span class=n>manufacturer</span> <span class=ow>in</span> <span class=p>[</span>
</span><span id=__span-0-301><a id=__codelineno-0-301 name=__codelineno-0-301></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>DEVELOPMENT</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-302><a id=__codelineno-0-302 name=__codelineno-0-302></a>        <span class=mi>0</span><span class=p>,</span>  <span class=c1># Blank/unknown manufacturer</span>
</span><span id=__span-0-303><a id=__codelineno-0-303 name=__codelineno-0-303></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>WAHOO_FITNESS</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-304><a id=__codelineno-0-304 name=__codelineno-0-304></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>ZWIFT</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-305><a id=__codelineno-0-305 name=__codelineno-0-305></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>PEAKSWARE</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-306><a id=__codelineno-0-306 name=__codelineno-0-306></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>HAMMERHEAD</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-307><a id=__codelineno-0-307 name=__codelineno-0-307></a>        <span class=n>Manufacturer</span><span class=o>.</span><span class=n>COROS</span><span class=o>.</span><span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-308><a id=__codelineno-0-308 name=__codelineno-0-308></a>        <span class=mi>331</span><span class=p>,</span>  <span class=c1># MYWHOOSH is unknown to fit_tools</span>
</span><span id=__span-0-309><a id=__codelineno-0-309 name=__codelineno-0-309></a>    <span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h2 id=configuration-configpy>Configuration (<code>config.py</code>)<a class=headerlink href=#configuration-configpy title="Permanent link">&para;</a></h2> <div class="doc doc-object doc-module"> <div class="doc doc-contents first"> <p>Configuration management for Fit File Faker.</p> <p>This module handles all configuration file operations including creation, validation, loading, and saving. Configuration is stored in a platform-specific user configuration directory using platformdirs.</p> <p>The configuration includes Garmin Connect credentials and the path to the directory containing FIT files to process. Depending on the trainer app selected in the profile, the FIT files directory is auto-detected (but can be overridden).</p> <div class="admonition note"> <p class=admonition-title>Typical usage example:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.config</span><span class=w> </span><span class=kn>import</span> <span class=n>config_manager</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=c1># Check if config is valid</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=k>if</span> <span class=ow>not</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>is_valid</span><span class=p>():</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>config_manager</span><span class=o>.</span><span class=n>build_config_file</span><span class=p>()</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=c1># Access configuration values</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=n>username</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>garmin_username</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=n>fit_path</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>fitfiles_path</span>
</span></code></pre></div> </div> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h3 id=fit_file_faker.config.AppType class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">AppType</span> <a href=#fit_file_faker.config.AppType class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=enum.Enum>Enum</span></code></p> <p>Supported trainer/cycling applications.</p> <p>Each app type has associated directory detection logic and display names. Used to identify the source application for FIT files and enable platform-specific auto-detection.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.AppType.TP_VIRTUAL>TP_VIRTUAL</span></code></td> <td> </td> <td> <div class=doc-md-description> <p>TrainingPeaks Virtual (formerly indieVelo)</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.AppType.ZWIFT>ZWIFT</span></code></td> <td> </td> <td> <div class=doc-md-description> <p>Zwift virtual cycling platform</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.AppType.MYWHOOSH>MYWHOOSH</span></code></td> <td> </td> <td> <div class=doc-md-description> <p>MyWhoosh virtual cycling platform</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.AppType.CUSTOM>CUSTOM</span></code></td> <td> </td> <td> <div class=doc-md-description> <p>Custom/manual path specification</p> </div> </td> </tr> </tbody> </table> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=fit_file_faker.config.Config class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">Config</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small> </span> <a href=#fit_file_faker.config.Config class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Config</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>profiles</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Profile</span><span class=p>],</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>default_profile</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Multi-profile configuration container for Fit File Faker.</p> <p>Stores multiple profile configurations, each with independent Garmin credentials and FIT files directory. Supports backward compatibility with single-profile configs via automatic migration.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.Config.profiles>profiles</span></code></td> <td> <code><span title=list>list</span>[<a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a>]</code> </td> <td> <div class=doc-md-description> <p>List of Profile objects, each representing a complete configuration for a trainer app and Garmin account.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.Config.default_profile>default_profile</span></code></td> <td> <code><span title=str>str</span> | None</code> </td> <td> <div class=doc-md-description> <p>Name of the default profile to use when no profile is explicitly specified. If None, the first profile is used.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>config</span> <span class=o>=</span> <span class=n>Config</span><span class=p>(</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>... </span>    <span class=n>profiles</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>... </span>        <span class=n>Profile</span><span class=p>(</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>... </span>            <span class=n>name</span><span class=o>=</span><span class=s2>&quot;tpv&quot;</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>... </span>            <span class=n>app_type</span><span class=o>=</span><span class=n>AppType</span><span class=o>.</span><span class=n>TP_VIRTUAL</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>... </span>            <span class=n>garmin_username</span><span class=o>=</span><span class=s2>&quot;user@example.com&quot;</span><span class=p>,</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=gp>... </span>            <span class=n>garmin_password</span><span class=o>=</span><span class=s2>&quot;secret&quot;</span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=gp>... </span>            <span class=n>fitfiles_path</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/home/user/TPVirtual/abc123/FITFiles&quot;</span><span class=p>)</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=gp>... </span>        <span class=p>)</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=gp>... </span>    <span class=p>],</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=gp>... </span>    <span class=n>default_profile</span><span class=o>=</span><span class=s2>&quot;tpv&quot;</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=s2>&quot;tpv&quot;</span><span class=p>)</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=gp>&gt;&gt;&gt; </span><span class=n>default</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>get_default_profile</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.Config.__post_init__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__post_init__</span> <a href=#fit_file_faker.config.Config.__post_init__ class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>__post_init__</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert dict profiles to Profile objects after initialization.</p> <p>Handles deserialization from JSON where profiles may be dictionaries instead of Profile objects.</p> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-787>787</a></span>
<span class=normal><a href=#__codelineno-0-788>788</a></span>
<span class=normal><a href=#__codelineno-0-789>789</a></span>
<span class=normal><a href=#__codelineno-0-790>790</a></span>
<span class=normal><a href=#__codelineno-0-791>791</a></span>
<span class=normal><a href=#__codelineno-0-792>792</a></span>
<span class=normal><a href=#__codelineno-0-793>793</a></span>
<span class=normal><a href=#__codelineno-0-794>794</a></span>
<span class=normal><a href=#__codelineno-0-795>795</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-787><a id=__codelineno-0-787 name=__codelineno-0-787></a><span class=k>def</span><span class=w> </span><span class=nf>__post_init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-788><a id=__codelineno-0-788 name=__codelineno-0-788></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert dict profiles to Profile objects after initialization.</span>
</span><span id=__span-0-789><a id=__codelineno-0-789 name=__codelineno-0-789></a>
</span><span id=__span-0-790><a id=__codelineno-0-790 name=__codelineno-0-790></a><span class=sd>    Handles deserialization from JSON where profiles may be dictionaries</span>
</span><span id=__span-0-791><a id=__codelineno-0-791 name=__codelineno-0-791></a><span class=sd>    instead of Profile objects.</span>
</span><span id=__span-0-792><a id=__codelineno-0-792 name=__codelineno-0-792></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-793><a id=__codelineno-0-793 name=__codelineno-0-793></a>    <span class=c1># Convert dict profiles to Profile objects</span>
</span><span id=__span-0-794><a id=__codelineno-0-794 name=__codelineno-0-794></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiles</span> <span class=ow>and</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>profiles</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-795><a id=__codelineno-0-795 name=__codelineno-0-795></a>        <span class=bp>self</span><span class=o>.</span><span class=n>profiles</span> <span class=o>=</span> <span class=p>[</span><span class=n>Profile</span><span class=p>(</span><span class=o>**</span><span class=n>p</span><span class=p>)</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiles</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.Config.get_default_profile class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_default_profile</span> <a href=#fit_file_faker.config.Config.get_default_profile class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_default_profile</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Profile</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get the default profile or first profile if no default set.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a> | None</code> </td> <td> <div class=doc-md-description> <p>The default Profile object, or the first profile if no default</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a> | None</code> </td> <td> <div class=doc-md-description> <p>is set, or None if no profiles exist.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>config</span> <span class=o>=</span> <span class=n>Config</span><span class=p>(</span><span class=n>profiles</span><span class=o>=</span><span class=p>[</span><span class=o>...</span><span class=p>],</span> <span class=n>default_profile</span><span class=o>=</span><span class=s2>&quot;tpv&quot;</span><span class=p>)</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>get_default_profile</span><span class=p>()</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-812>812</a></span>
<span class=normal><a href=#__codelineno-0-813>813</a></span>
<span class=normal><a href=#__codelineno-0-814>814</a></span>
<span class=normal><a href=#__codelineno-0-815>815</a></span>
<span class=normal><a href=#__codelineno-0-816>816</a></span>
<span class=normal><a href=#__codelineno-0-817>817</a></span>
<span class=normal><a href=#__codelineno-0-818>818</a></span>
<span class=normal><a href=#__codelineno-0-819>819</a></span>
<span class=normal><a href=#__codelineno-0-820>820</a></span>
<span class=normal><a href=#__codelineno-0-821>821</a></span>
<span class=normal><a href=#__codelineno-0-822>822</a></span>
<span class=normal><a href=#__codelineno-0-823>823</a></span>
<span class=normal><a href=#__codelineno-0-824>824</a></span>
<span class=normal><a href=#__codelineno-0-825>825</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-812><a id=__codelineno-0-812 name=__codelineno-0-812></a><span class=k>def</span><span class=w> </span><span class=nf>get_default_profile</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-813><a id=__codelineno-0-813 name=__codelineno-0-813></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the default profile or first profile if no default set.</span>
</span><span id=__span-0-814><a id=__codelineno-0-814 name=__codelineno-0-814></a>
</span><span id=__span-0-815><a id=__codelineno-0-815 name=__codelineno-0-815></a><span class=sd>    Returns:</span>
</span><span id=__span-0-816><a id=__codelineno-0-816 name=__codelineno-0-816></a><span class=sd>        The default Profile object, or the first profile if no default</span>
</span><span id=__span-0-817><a id=__codelineno-0-817 name=__codelineno-0-817></a><span class=sd>        is set, or None if no profiles exist.</span>
</span><span id=__span-0-818><a id=__codelineno-0-818 name=__codelineno-0-818></a>
</span><span id=__span-0-819><a id=__codelineno-0-819 name=__codelineno-0-819></a><span class=sd>    Examples:</span>
</span><span id=__span-0-820><a id=__codelineno-0-820 name=__codelineno-0-820></a><span class=sd>        &gt;&gt;&gt; config = Config(profiles=[...], default_profile=&quot;tpv&quot;)</span>
</span><span id=__span-0-821><a id=__codelineno-0-821 name=__codelineno-0-821></a><span class=sd>        &gt;&gt;&gt; profile = config.get_default_profile()</span>
</span><span id=__span-0-822><a id=__codelineno-0-822 name=__codelineno-0-822></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-823><a id=__codelineno-0-823 name=__codelineno-0-823></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>default_profile</span><span class=p>:</span>
</span><span id=__span-0-824><a id=__codelineno-0-824 name=__codelineno-0-824></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>default_profile</span><span class=p>)</span>
</span><span id=__span-0-825><a id=__codelineno-0-825 name=__codelineno-0-825></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiles</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiles</span> <span class=k>else</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.Config.get_profile class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_profile</span> <a href=#fit_file_faker.config.Config.get_profile class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_profile</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get profile by name.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The name of the profile to retrieve.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a> | None</code> </td> <td> <div class=doc-md-description> <p>Profile object if found, None otherwise.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>config</span> <span class=o>=</span> <span class=n>Config</span><span class=p>(</span><span class=n>profiles</span><span class=o>=</span><span class=p>[</span><span class=n>Profile</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;test&quot;</span><span class=p>,</span> <span class=o>...</span><span class=p>)])</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=s2>&quot;test&quot;</span><span class=p>)</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-797>797</a></span>
<span class=normal><a href=#__codelineno-0-798>798</a></span>
<span class=normal><a href=#__codelineno-0-799>799</a></span>
<span class=normal><a href=#__codelineno-0-800>800</a></span>
<span class=normal><a href=#__codelineno-0-801>801</a></span>
<span class=normal><a href=#__codelineno-0-802>802</a></span>
<span class=normal><a href=#__codelineno-0-803>803</a></span>
<span class=normal><a href=#__codelineno-0-804>804</a></span>
<span class=normal><a href=#__codelineno-0-805>805</a></span>
<span class=normal><a href=#__codelineno-0-806>806</a></span>
<span class=normal><a href=#__codelineno-0-807>807</a></span>
<span class=normal><a href=#__codelineno-0-808>808</a></span>
<span class=normal><a href=#__codelineno-0-809>809</a></span>
<span class=normal><a href=#__codelineno-0-810>810</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-797><a id=__codelineno-0-797 name=__codelineno-0-797></a><span class=k>def</span><span class=w> </span><span class=nf>get_profile</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-798><a id=__codelineno-0-798 name=__codelineno-0-798></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get profile by name.</span>
</span><span id=__span-0-799><a id=__codelineno-0-799 name=__codelineno-0-799></a>
</span><span id=__span-0-800><a id=__codelineno-0-800 name=__codelineno-0-800></a><span class=sd>    Args:</span>
</span><span id=__span-0-801><a id=__codelineno-0-801 name=__codelineno-0-801></a><span class=sd>        name: The name of the profile to retrieve.</span>
</span><span id=__span-0-802><a id=__codelineno-0-802 name=__codelineno-0-802></a>
</span><span id=__span-0-803><a id=__codelineno-0-803 name=__codelineno-0-803></a><span class=sd>    Returns:</span>
</span><span id=__span-0-804><a id=__codelineno-0-804 name=__codelineno-0-804></a><span class=sd>        Profile object if found, None otherwise.</span>
</span><span id=__span-0-805><a id=__codelineno-0-805 name=__codelineno-0-805></a>
</span><span id=__span-0-806><a id=__codelineno-0-806 name=__codelineno-0-806></a><span class=sd>    Examples:</span>
</span><span id=__span-0-807><a id=__codelineno-0-807 name=__codelineno-0-807></a><span class=sd>        &gt;&gt;&gt; config = Config(profiles=[Profile(name=&quot;test&quot;, ...)])</span>
</span><span id=__span-0-808><a id=__codelineno-0-808 name=__codelineno-0-808></a><span class=sd>        &gt;&gt;&gt; profile = config.get_profile(&quot;test&quot;)</span>
</span><span id=__span-0-809><a id=__codelineno-0-809 name=__codelineno-0-809></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-810><a id=__codelineno-0-810 name=__codelineno-0-810></a>    <span class=k>return</span> <span class=nb>next</span><span class=p>((</span><span class=n>p</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>profiles</span> <span class=k>if</span> <span class=n>p</span><span class=o>.</span><span class=n>name</span> <span class=o>==</span> <span class=n>name</span><span class=p>),</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=fit_file_faker.config.ConfigManager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ConfigManager</span> <a href=#fit_file_faker.config.ConfigManager class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>ConfigManager</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Manages configuration file operations and validation.</p> <p>Handles loading, saving, and validating configuration stored in a platform-specific user configuration directory. Provides interactive configuration building for missing or invalid values.</p> <p>The configuration file is stored as <code>.config.json</code> in the user's config directory (location varies by platform).</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.ConfigManager.config_file>config_file</span></code></td> <td> </td> <td> <div class=doc-md-description> <p>Path to the JSON configuration file.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.ConfigManager.config_keys>config_keys</span></code></td> <td> </td> <td> <div class=doc-md-description> <p>List of required configuration keys.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.ConfigManager.config>config</span></code></td> <td> </td> <td> <div class=doc-md-description> <p>Current Config object loaded from file.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.config</span><span class=w> </span><span class=kn>import</span> <span class=n>config_manager</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Check if config is valid</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=k>if</span> <span class=ow>not</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>is_valid</span><span class=p>():</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Config file: </span><span class=si>{</span><span class=n>config_manager</span><span class=o>.</span><span class=n>get_config_file_path</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>... </span>    <span class=n>config_manager</span><span class=o>.</span><span class=n>build_config_file</span><span class=p>()</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Access config values</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=gp>&gt;&gt;&gt; </span><span class=n>username</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>garmin_username</span>
</span></code></pre></div> <p>Initialize the configuration manager.</p> <p>Creates the config file if it doesn't exist and loads existing configuration or creates a new empty Config object.</p> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-917>917</a></span>
<span class=normal><a href=#__codelineno-0-918>918</a></span>
<span class=normal><a href=#__codelineno-0-919>919</a></span>
<span class=normal><a href=#__codelineno-0-920>920</a></span>
<span class=normal><a href=#__codelineno-0-921>921</a></span>
<span class=normal><a href=#__codelineno-0-922>922</a></span>
<span class=normal><a href=#__codelineno-0-923>923</a></span>
<span class=normal><a href=#__codelineno-0-924>924</a></span>
<span class=normal><a href=#__codelineno-0-925>925</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-917><a id=__codelineno-0-917 name=__codelineno-0-917></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-918><a id=__codelineno-0-918 name=__codelineno-0-918></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize the configuration manager.</span>
</span><span id=__span-0-919><a id=__codelineno-0-919 name=__codelineno-0-919></a>
</span><span id=__span-0-920><a id=__codelineno-0-920 name=__codelineno-0-920></a><span class=sd>    Creates the config file if it doesn&#39;t exist and loads existing</span>
</span><span id=__span-0-921><a id=__codelineno-0-921 name=__codelineno-0-921></a><span class=sd>    configuration or creates a new empty Config object.</span>
</span><span id=__span-0-922><a id=__codelineno-0-922 name=__codelineno-0-922></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-923><a id=__codelineno-0-923 name=__codelineno-0-923></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_file</span> <span class=o>=</span> <span class=n>dirs</span><span class=o>.</span><span class=n>user_config_path</span> <span class=o>/</span> <span class=s2>&quot;.config.json&quot;</span>
</span><span id=__span-0-924><a id=__codelineno-0-924 name=__codelineno-0-924></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_keys</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;garmin_username&quot;</span><span class=p>,</span> <span class=s2>&quot;garmin_password&quot;</span><span class=p>,</span> <span class=s2>&quot;fitfiles_path&quot;</span><span class=p>]</span>
</span><span id=__span-0-925><a id=__codelineno-0-925 name=__codelineno-0-925></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_load_config</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ConfigManager._load_config class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">_load_config</span> <a href=#fit_file_faker.config.ConfigManager._load_config class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>_load_config</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Config</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load configuration from file or create new Config if file doesn't exist.</p> <p>Automatically migrates legacy single-profile configs (v1.2.4 and earlier) to multi-profile format. The migration is transparent and preserves all existing settings in a "default" profile. Migrated configs are automatically saved back to disk in the new format.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Config


  
      dataclass
   (fit_file_faker.config.Config)" href=#fit_file_faker.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>Loaded Config object if file exists and contains valid JSON,</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Config


  
      dataclass
   (fit_file_faker.config.Config)" href=#fit_file_faker.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>otherwise a new empty Config object with no profiles.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>Creates an empty config file if one doesn't exist.</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-927>927</a></span>
<span class=normal><a href=#__codelineno-0-928>928</a></span>
<span class=normal><a href=#__codelineno-0-929>929</a></span>
<span class=normal><a href=#__codelineno-0-930>930</a></span>
<span class=normal><a href=#__codelineno-0-931>931</a></span>
<span class=normal><a href=#__codelineno-0-932>932</a></span>
<span class=normal><a href=#__codelineno-0-933>933</a></span>
<span class=normal><a href=#__codelineno-0-934>934</a></span>
<span class=normal><a href=#__codelineno-0-935>935</a></span>
<span class=normal><a href=#__codelineno-0-936>936</a></span>
<span class=normal><a href=#__codelineno-0-937>937</a></span>
<span class=normal><a href=#__codelineno-0-938>938</a></span>
<span class=normal><a href=#__codelineno-0-939>939</a></span>
<span class=normal><a href=#__codelineno-0-940>940</a></span>
<span class=normal><a href=#__codelineno-0-941>941</a></span>
<span class=normal><a href=#__codelineno-0-942>942</a></span>
<span class=normal><a href=#__codelineno-0-943>943</a></span>
<span class=normal><a href=#__codelineno-0-944>944</a></span>
<span class=normal><a href=#__codelineno-0-945>945</a></span>
<span class=normal><a href=#__codelineno-0-946>946</a></span>
<span class=normal><a href=#__codelineno-0-947>947</a></span>
<span class=normal><a href=#__codelineno-0-948>948</a></span>
<span class=normal><a href=#__codelineno-0-949>949</a></span>
<span class=normal><a href=#__codelineno-0-950>950</a></span>
<span class=normal><a href=#__codelineno-0-951>951</a></span>
<span class=normal><a href=#__codelineno-0-952>952</a></span>
<span class=normal><a href=#__codelineno-0-953>953</a></span>
<span class=normal><a href=#__codelineno-0-954>954</a></span>
<span class=normal><a href=#__codelineno-0-955>955</a></span>
<span class=normal><a href=#__codelineno-0-956>956</a></span>
<span class=normal><a href=#__codelineno-0-957>957</a></span>
<span class=normal><a href=#__codelineno-0-958>958</a></span>
<span class=normal><a href=#__codelineno-0-959>959</a></span>
<span class=normal><a href=#__codelineno-0-960>960</a></span>
<span class=normal><a href=#__codelineno-0-961>961</a></span>
<span class=normal><a href=#__codelineno-0-962>962</a></span>
<span class=normal><a href=#__codelineno-0-963>963</a></span>
<span class=normal><a href=#__codelineno-0-964>964</a></span>
<span class=normal><a href=#__codelineno-0-965>965</a></span>
<span class=normal><a href=#__codelineno-0-966>966</a></span>
<span class=normal><a href=#__codelineno-0-967>967</a></span>
<span class=normal><a href=#__codelineno-0-968>968</a></span>
<span class=normal><a href=#__codelineno-0-969>969</a></span>
<span class=normal><a href=#__codelineno-0-970>970</a></span>
<span class=normal><a href=#__codelineno-0-971>971</a></span>
<span class=normal><a href=#__codelineno-0-972>972</a></span>
<span class=normal><a href=#__codelineno-0-973>973</a></span>
<span class=normal><a href=#__codelineno-0-974>974</a></span>
<span class=normal><a href=#__codelineno-0-975>975</a></span>
<span class=normal><a href=#__codelineno-0-976>976</a></span>
<span class=normal><a href=#__codelineno-0-977>977</a></span>
<span class=normal><a href=#__codelineno-0-978>978</a></span>
<span class=normal><a href=#__codelineno-0-979>979</a></span>
<span class=normal><a href=#__codelineno-0-980>980</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-927><a id=__codelineno-0-927 name=__codelineno-0-927></a><span class=k>def</span><span class=w> </span><span class=nf>_load_config</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Config</span><span class=p>:</span>
</span><span id=__span-0-928><a id=__codelineno-0-928 name=__codelineno-0-928></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Load configuration from file or create new Config if file doesn&#39;t exist.</span>
</span><span id=__span-0-929><a id=__codelineno-0-929 name=__codelineno-0-929></a>
</span><span id=__span-0-930><a id=__codelineno-0-930 name=__codelineno-0-930></a><span class=sd>    Automatically migrates legacy single-profile configs (v1.2.4 and earlier)</span>
</span><span id=__span-0-931><a id=__codelineno-0-931 name=__codelineno-0-931></a><span class=sd>    to multi-profile format. The migration is transparent and preserves all</span>
</span><span id=__span-0-932><a id=__codelineno-0-932 name=__codelineno-0-932></a><span class=sd>    existing settings in a &quot;default&quot; profile. Migrated configs are automatically</span>
</span><span id=__span-0-933><a id=__codelineno-0-933 name=__codelineno-0-933></a><span class=sd>    saved back to disk in the new format.</span>
</span><span id=__span-0-934><a id=__codelineno-0-934 name=__codelineno-0-934></a>
</span><span id=__span-0-935><a id=__codelineno-0-935 name=__codelineno-0-935></a><span class=sd>    Returns:</span>
</span><span id=__span-0-936><a id=__codelineno-0-936 name=__codelineno-0-936></a><span class=sd>        Loaded Config object if file exists and contains valid JSON,</span>
</span><span id=__span-0-937><a id=__codelineno-0-937 name=__codelineno-0-937></a><span class=sd>        otherwise a new empty Config object with no profiles.</span>
</span><span id=__span-0-938><a id=__codelineno-0-938 name=__codelineno-0-938></a>
</span><span id=__span-0-939><a id=__codelineno-0-939 name=__codelineno-0-939></a><span class=sd>    Note:</span>
</span><span id=__span-0-940><a id=__codelineno-0-940 name=__codelineno-0-940></a><span class=sd>        Creates an empty config file if one doesn&#39;t exist.</span>
</span><span id=__span-0-941><a id=__codelineno-0-941 name=__codelineno-0-941></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-942><a id=__codelineno-0-942 name=__codelineno-0-942></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_file</span><span class=o>.</span><span class=n>touch</span><span class=p>(</span><span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-943><a id=__codelineno-0-943 name=__codelineno-0-943></a>
</span><span id=__span-0-944><a id=__codelineno-0-944 name=__codelineno-0-944></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_file</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s2>&quot;r&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-945><a id=__codelineno-0-945 name=__codelineno-0-945></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_file</span><span class=o>.</span><span class=n>stat</span><span class=p>()</span><span class=o>.</span><span class=n>st_size</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-946><a id=__codelineno-0-946 name=__codelineno-0-946></a>            <span class=c1># Empty file - return empty config</span>
</span><span id=__span-0-947><a id=__codelineno-0-947 name=__codelineno-0-947></a>            <span class=k>return</span> <span class=n>Config</span><span class=p>(</span><span class=n>profiles</span><span class=o>=</span><span class=p>[],</span> <span class=n>default_profile</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-948><a id=__codelineno-0-948 name=__codelineno-0-948></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-949><a id=__codelineno-0-949 name=__codelineno-0-949></a>            <span class=c1># Load from JSON and migrate if necessary</span>
</span><span id=__span-0-950><a id=__codelineno-0-950 name=__codelineno-0-950></a>            <span class=n>config_dict</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span><span id=__span-0-951><a id=__codelineno-0-951 name=__codelineno-0-951></a>            <span class=n>was_legacy</span> <span class=o>=</span> <span class=s2>&quot;profiles&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>config_dict</span>
</span><span id=__span-0-952><a id=__codelineno-0-952 name=__codelineno-0-952></a>            <span class=n>config</span> <span class=o>=</span> <span class=n>migrate_legacy_config</span><span class=p>(</span><span class=n>config_dict</span><span class=p>)</span>
</span><span id=__span-0-953><a id=__codelineno-0-953 name=__codelineno-0-953></a>
</span><span id=__span-0-954><a id=__codelineno-0-954 name=__codelineno-0-954></a>            <span class=c1># Save migrated config back to file if migration occurred</span>
</span><span id=__span-0-955><a id=__codelineno-0-955 name=__codelineno-0-955></a>            <span class=k>if</span> <span class=n>was_legacy</span><span class=p>:</span>
</span><span id=__span-0-956><a id=__codelineno-0-956 name=__codelineno-0-956></a>                <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Saving migrated config to file&quot;</span><span class=p>)</span>
</span><span id=__span-0-957><a id=__codelineno-0-957 name=__codelineno-0-957></a>                <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_file</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>fw</span><span class=p>:</span>
</span><span id=__span-0-958><a id=__codelineno-0-958 name=__codelineno-0-958></a>                    <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>asdict</span><span class=p>(</span><span class=n>config</span><span class=p>),</span> <span class=n>fw</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=n>PathEncoder</span><span class=p>)</span>
</span><span id=__span-0-959><a id=__codelineno-0-959 name=__codelineno-0-959></a>
</span><span id=__span-0-960><a id=__codelineno-0-960 name=__codelineno-0-960></a>            <span class=c1># Migrate profiles without serial numbers</span>
</span><span id=__span-0-961><a id=__codelineno-0-961 name=__codelineno-0-961></a>            <span class=n>migrated</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-962><a id=__codelineno-0-962 name=__codelineno-0-962></a>            <span class=k>for</span> <span class=n>profile</span> <span class=ow>in</span> <span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=p>:</span>
</span><span id=__span-0-963><a id=__codelineno-0-963 name=__codelineno-0-963></a>                <span class=k>if</span> <span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-964><a id=__codelineno-0-964 name=__codelineno-0-964></a>                    <span class=kn>import</span><span class=w> </span><span class=nn>random</span>
</span><span id=__span-0-965><a id=__codelineno-0-965 name=__codelineno-0-965></a>
</span><span id=__span-0-966><a id=__codelineno-0-966 name=__codelineno-0-966></a>                    <span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span>
</span><span id=__span-0-967><a id=__codelineno-0-967 name=__codelineno-0-967></a>                        <span class=mi>1_000_000_000</span><span class=p>,</span> <span class=mi>4_294_967_295</span>
</span><span id=__span-0-968><a id=__codelineno-0-968 name=__codelineno-0-968></a>                    <span class=p>)</span>
</span><span id=__span-0-969><a id=__codelineno-0-969 name=__codelineno-0-969></a>                    <span class=n>migrated</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-970><a id=__codelineno-0-970 name=__codelineno-0-970></a>                    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-971><a id=__codelineno-0-971 name=__codelineno-0-971></a>                        <span class=sa>f</span><span class=s1>&#39;Generated serial number for profile &quot;</span><span class=si>{</span><span class=n>profile</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot;: </span><span class=si>{</span><span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span><span class=si>}</span><span class=s1>&#39;</span>
</span><span id=__span-0-972><a id=__codelineno-0-972 name=__codelineno-0-972></a>                    <span class=p>)</span>
</span><span id=__span-0-973><a id=__codelineno-0-973 name=__codelineno-0-973></a>
</span><span id=__span-0-974><a id=__codelineno-0-974 name=__codelineno-0-974></a>            <span class=c1># Save migrated config if serial numbers were added</span>
</span><span id=__span-0-975><a id=__codelineno-0-975 name=__codelineno-0-975></a>            <span class=k>if</span> <span class=n>migrated</span><span class=p>:</span>
</span><span id=__span-0-976><a id=__codelineno-0-976 name=__codelineno-0-976></a>                <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Saving config with new serial numbers to file&quot;</span><span class=p>)</span>
</span><span id=__span-0-977><a id=__codelineno-0-977 name=__codelineno-0-977></a>                <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_file</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>fw</span><span class=p>:</span>
</span><span id=__span-0-978><a id=__codelineno-0-978 name=__codelineno-0-978></a>                    <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>asdict</span><span class=p>(</span><span class=n>config</span><span class=p>),</span> <span class=n>fw</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=n>PathEncoder</span><span class=p>)</span>
</span><span id=__span-0-979><a id=__codelineno-0-979 name=__codelineno-0-979></a>
</span><span id=__span-0-980><a id=__codelineno-0-980 name=__codelineno-0-980></a>            <span class=k>return</span> <span class=n>config</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ConfigManager.build_config_file class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">build_config_file</span> <a href=#fit_file_faker.config.ConfigManager.build_config_file class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>build_config_file</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>overwrite_existing_vals</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>rewrite_config</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>excluded_keys</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Interactively build configuration file.</p> <p>Prompts the user for missing or invalid configuration values using questionary for an interactive CLI experience. Passwords are masked during input, and the FIT files path is auto-detected for TrainingPeaks Virtual users when possible.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>overwrite_existing_vals</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If <code>True</code>, prompts for all values even if they already exist. If <code>False</code>, only prompts for missing values. Defaults to <code>False</code>.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>rewrite_config</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If <code>True</code>, saves the configuration to disk after building. If <code>False</code>, only updates the in-memory config object. Defaults to <code>True</code>.</p> </div> </td> <td> <code>True</code> </td> </tr> <tr class=doc-section-item> <td> <code>excluded_keys</code> </td> <td> <code><span title=list>list</span>[<span title=str>str</span>] | None</code> </td> <td> <div class=doc-md-description> <p>Optional list of keys to skip during interactive building. Useful for partial configuration.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=SystemExit>SystemExit</span></code> </td> <td> <div class=doc-md-description> <p>If user presses Ctrl-C to cancel configuration.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Interactive setup for missing values only</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>config_manager</span><span class=o>.</span><span class=n>build_config_file</span><span class=p>()</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Rebuild entire configuration</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>config_manager</span><span class=o>.</span><span class=n>build_config_file</span><span class=p>(</span><span class=n>overwrite_existing_vals</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Update only credentials (skip fitfiles_path)</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>config_manager</span><span class=o>.</span><span class=n>build_config_file</span><span class=p>(</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=gp>... </span>    <span class=n>excluded_keys</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;fitfiles_path&quot;</span><span class=p>]</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>Passwords are masked in both user input and log output for security. The final configuration is logged with passwords hidden.</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1036>1036</a></span>
<span class=normal><a href=#__codelineno-0-1037>1037</a></span>
<span class=normal><a href=#__codelineno-0-1038>1038</a></span>
<span class=normal><a href=#__codelineno-0-1039>1039</a></span>
<span class=normal><a href=#__codelineno-0-1040>1040</a></span>
<span class=normal><a href=#__codelineno-0-1041>1041</a></span>
<span class=normal><a href=#__codelineno-0-1042>1042</a></span>
<span class=normal><a href=#__codelineno-0-1043>1043</a></span>
<span class=normal><a href=#__codelineno-0-1044>1044</a></span>
<span class=normal><a href=#__codelineno-0-1045>1045</a></span>
<span class=normal><a href=#__codelineno-0-1046>1046</a></span>
<span class=normal><a href=#__codelineno-0-1047>1047</a></span>
<span class=normal><a href=#__codelineno-0-1048>1048</a></span>
<span class=normal><a href=#__codelineno-0-1049>1049</a></span>
<span class=normal><a href=#__codelineno-0-1050>1050</a></span>
<span class=normal><a href=#__codelineno-0-1051>1051</a></span>
<span class=normal><a href=#__codelineno-0-1052>1052</a></span>
<span class=normal><a href=#__codelineno-0-1053>1053</a></span>
<span class=normal><a href=#__codelineno-0-1054>1054</a></span>
<span class=normal><a href=#__codelineno-0-1055>1055</a></span>
<span class=normal><a href=#__codelineno-0-1056>1056</a></span>
<span class=normal><a href=#__codelineno-0-1057>1057</a></span>
<span class=normal><a href=#__codelineno-0-1058>1058</a></span>
<span class=normal><a href=#__codelineno-0-1059>1059</a></span>
<span class=normal><a href=#__codelineno-0-1060>1060</a></span>
<span class=normal><a href=#__codelineno-0-1061>1061</a></span>
<span class=normal><a href=#__codelineno-0-1062>1062</a></span>
<span class=normal><a href=#__codelineno-0-1063>1063</a></span>
<span class=normal><a href=#__codelineno-0-1064>1064</a></span>
<span class=normal><a href=#__codelineno-0-1065>1065</a></span>
<span class=normal><a href=#__codelineno-0-1066>1066</a></span>
<span class=normal><a href=#__codelineno-0-1067>1067</a></span>
<span class=normal><a href=#__codelineno-0-1068>1068</a></span>
<span class=normal><a href=#__codelineno-0-1069>1069</a></span>
<span class=normal><a href=#__codelineno-0-1070>1070</a></span>
<span class=normal><a href=#__codelineno-0-1071>1071</a></span>
<span class=normal><a href=#__codelineno-0-1072>1072</a></span>
<span class=normal><a href=#__codelineno-0-1073>1073</a></span>
<span class=normal><a href=#__codelineno-0-1074>1074</a></span>
<span class=normal><a href=#__codelineno-0-1075>1075</a></span>
<span class=normal><a href=#__codelineno-0-1076>1076</a></span>
<span class=normal><a href=#__codelineno-0-1077>1077</a></span>
<span class=normal><a href=#__codelineno-0-1078>1078</a></span>
<span class=normal><a href=#__codelineno-0-1079>1079</a></span>
<span class=normal><a href=#__codelineno-0-1080>1080</a></span>
<span class=normal><a href=#__codelineno-0-1081>1081</a></span>
<span class=normal><a href=#__codelineno-0-1082>1082</a></span>
<span class=normal><a href=#__codelineno-0-1083>1083</a></span>
<span class=normal><a href=#__codelineno-0-1084>1084</a></span>
<span class=normal><a href=#__codelineno-0-1085>1085</a></span>
<span class=normal><a href=#__codelineno-0-1086>1086</a></span>
<span class=normal><a href=#__codelineno-0-1087>1087</a></span>
<span class=normal><a href=#__codelineno-0-1088>1088</a></span>
<span class=normal><a href=#__codelineno-0-1089>1089</a></span>
<span class=normal><a href=#__codelineno-0-1090>1090</a></span>
<span class=normal><a href=#__codelineno-0-1091>1091</a></span>
<span class=normal><a href=#__codelineno-0-1092>1092</a></span>
<span class=normal><a href=#__codelineno-0-1093>1093</a></span>
<span class=normal><a href=#__codelineno-0-1094>1094</a></span>
<span class=normal><a href=#__codelineno-0-1095>1095</a></span>
<span class=normal><a href=#__codelineno-0-1096>1096</a></span>
<span class=normal><a href=#__codelineno-0-1097>1097</a></span>
<span class=normal><a href=#__codelineno-0-1098>1098</a></span>
<span class=normal><a href=#__codelineno-0-1099>1099</a></span>
<span class=normal><a href=#__codelineno-0-1100>1100</a></span>
<span class=normal><a href=#__codelineno-0-1101>1101</a></span>
<span class=normal><a href=#__codelineno-0-1102>1102</a></span>
<span class=normal><a href=#__codelineno-0-1103>1103</a></span>
<span class=normal><a href=#__codelineno-0-1104>1104</a></span>
<span class=normal><a href=#__codelineno-0-1105>1105</a></span>
<span class=normal><a href=#__codelineno-0-1106>1106</a></span>
<span class=normal><a href=#__codelineno-0-1107>1107</a></span>
<span class=normal><a href=#__codelineno-0-1108>1108</a></span>
<span class=normal><a href=#__codelineno-0-1109>1109</a></span>
<span class=normal><a href=#__codelineno-0-1110>1110</a></span>
<span class=normal><a href=#__codelineno-0-1111>1111</a></span>
<span class=normal><a href=#__codelineno-0-1112>1112</a></span>
<span class=normal><a href=#__codelineno-0-1113>1113</a></span>
<span class=normal><a href=#__codelineno-0-1114>1114</a></span>
<span class=normal><a href=#__codelineno-0-1115>1115</a></span>
<span class=normal><a href=#__codelineno-0-1116>1116</a></span>
<span class=normal><a href=#__codelineno-0-1117>1117</a></span>
<span class=normal><a href=#__codelineno-0-1118>1118</a></span>
<span class=normal><a href=#__codelineno-0-1119>1119</a></span>
<span class=normal><a href=#__codelineno-0-1120>1120</a></span>
<span class=normal><a href=#__codelineno-0-1121>1121</a></span>
<span class=normal><a href=#__codelineno-0-1122>1122</a></span>
<span class=normal><a href=#__codelineno-0-1123>1123</a></span>
<span class=normal><a href=#__codelineno-0-1124>1124</a></span>
<span class=normal><a href=#__codelineno-0-1125>1125</a></span>
<span class=normal><a href=#__codelineno-0-1126>1126</a></span>
<span class=normal><a href=#__codelineno-0-1127>1127</a></span>
<span class=normal><a href=#__codelineno-0-1128>1128</a></span>
<span class=normal><a href=#__codelineno-0-1129>1129</a></span>
<span class=normal><a href=#__codelineno-0-1130>1130</a></span>
<span class=normal><a href=#__codelineno-0-1131>1131</a></span>
<span class=normal><a href=#__codelineno-0-1132>1132</a></span>
<span class=normal><a href=#__codelineno-0-1133>1133</a></span>
<span class=normal><a href=#__codelineno-0-1134>1134</a></span>
<span class=normal><a href=#__codelineno-0-1135>1135</a></span>
<span class=normal><a href=#__codelineno-0-1136>1136</a></span>
<span class=normal><a href=#__codelineno-0-1137>1137</a></span>
<span class=normal><a href=#__codelineno-0-1138>1138</a></span>
<span class=normal><a href=#__codelineno-0-1139>1139</a></span>
<span class=normal><a href=#__codelineno-0-1140>1140</a></span>
<span class=normal><a href=#__codelineno-0-1141>1141</a></span>
<span class=normal><a href=#__codelineno-0-1142>1142</a></span>
<span class=normal><a href=#__codelineno-0-1143>1143</a></span>
<span class=normal><a href=#__codelineno-0-1144>1144</a></span>
<span class=normal><a href=#__codelineno-0-1145>1145</a></span>
<span class=normal><a href=#__codelineno-0-1146>1146</a></span>
<span class=normal><a href=#__codelineno-0-1147>1147</a></span>
<span class=normal><a href=#__codelineno-0-1148>1148</a></span>
<span class=normal><a href=#__codelineno-0-1149>1149</a></span>
<span class=normal><a href=#__codelineno-0-1150>1150</a></span>
<span class=normal><a href=#__codelineno-0-1151>1151</a></span>
<span class=normal><a href=#__codelineno-0-1152>1152</a></span>
<span class=normal><a href=#__codelineno-0-1153>1153</a></span>
<span class=normal><a href=#__codelineno-0-1154>1154</a></span>
<span class=normal><a href=#__codelineno-0-1155>1155</a></span>
<span class=normal><a href=#__codelineno-0-1156>1156</a></span>
<span class=normal><a href=#__codelineno-0-1157>1157</a></span>
<span class=normal><a href=#__codelineno-0-1158>1158</a></span>
<span class=normal><a href=#__codelineno-0-1159>1159</a></span>
<span class=normal><a href=#__codelineno-0-1160>1160</a></span>
<span class=normal><a href=#__codelineno-0-1161>1161</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1036><a id=__codelineno-0-1036 name=__codelineno-0-1036></a><span class=k>def</span><span class=w> </span><span class=nf>build_config_file</span><span class=p>(</span>
</span><span id=__span-0-1037><a id=__codelineno-0-1037 name=__codelineno-0-1037></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-1038><a id=__codelineno-0-1038 name=__codelineno-0-1038></a>    <span class=n>overwrite_existing_vals</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-1039><a id=__codelineno-0-1039 name=__codelineno-0-1039></a>    <span class=n>rewrite_config</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-0-1040><a id=__codelineno-0-1040 name=__codelineno-0-1040></a>    <span class=n>excluded_keys</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1041><a id=__codelineno-0-1041 name=__codelineno-0-1041></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1042><a id=__codelineno-0-1042 name=__codelineno-0-1042></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Interactively build configuration file.</span>
</span><span id=__span-0-1043><a id=__codelineno-0-1043 name=__codelineno-0-1043></a>
</span><span id=__span-0-1044><a id=__codelineno-0-1044 name=__codelineno-0-1044></a><span class=sd>    Prompts the user for missing or invalid configuration values using</span>
</span><span id=__span-0-1045><a id=__codelineno-0-1045 name=__codelineno-0-1045></a><span class=sd>    questionary for an interactive CLI experience. Passwords are masked</span>
</span><span id=__span-0-1046><a id=__codelineno-0-1046 name=__codelineno-0-1046></a><span class=sd>    during input, and the FIT files path is auto-detected for TrainingPeaks</span>
</span><span id=__span-0-1047><a id=__codelineno-0-1047 name=__codelineno-0-1047></a><span class=sd>    Virtual users when possible.</span>
</span><span id=__span-0-1048><a id=__codelineno-0-1048 name=__codelineno-0-1048></a>
</span><span id=__span-0-1049><a id=__codelineno-0-1049 name=__codelineno-0-1049></a><span class=sd>    Args:</span>
</span><span id=__span-0-1050><a id=__codelineno-0-1050 name=__codelineno-0-1050></a><span class=sd>        overwrite_existing_vals: If `True`, prompts for all values even if</span>
</span><span id=__span-0-1051><a id=__codelineno-0-1051 name=__codelineno-0-1051></a><span class=sd>            they already exist. If `False`, only prompts for missing values.</span>
</span><span id=__span-0-1052><a id=__codelineno-0-1052 name=__codelineno-0-1052></a><span class=sd>            Defaults to `False`.</span>
</span><span id=__span-0-1053><a id=__codelineno-0-1053 name=__codelineno-0-1053></a><span class=sd>        rewrite_config: If `True`, saves the configuration to disk after</span>
</span><span id=__span-0-1054><a id=__codelineno-0-1054 name=__codelineno-0-1054></a><span class=sd>            building. If `False`, only updates the in-memory config object.</span>
</span><span id=__span-0-1055><a id=__codelineno-0-1055 name=__codelineno-0-1055></a><span class=sd>            Defaults to `True`.</span>
</span><span id=__span-0-1056><a id=__codelineno-0-1056 name=__codelineno-0-1056></a><span class=sd>        excluded_keys: Optional list of keys to skip during interactive</span>
</span><span id=__span-0-1057><a id=__codelineno-0-1057 name=__codelineno-0-1057></a><span class=sd>            building. Useful for partial configuration.</span>
</span><span id=__span-0-1058><a id=__codelineno-0-1058 name=__codelineno-0-1058></a>
</span><span id=__span-0-1059><a id=__codelineno-0-1059 name=__codelineno-0-1059></a><span class=sd>    Raises:</span>
</span><span id=__span-0-1060><a id=__codelineno-0-1060 name=__codelineno-0-1060></a><span class=sd>        SystemExit: If user presses Ctrl-C to cancel configuration.</span>
</span><span id=__span-0-1061><a id=__codelineno-0-1061 name=__codelineno-0-1061></a>
</span><span id=__span-0-1062><a id=__codelineno-0-1062 name=__codelineno-0-1062></a><span class=sd>    Examples:</span>
</span><span id=__span-0-1063><a id=__codelineno-0-1063 name=__codelineno-0-1063></a><span class=sd>        &gt;&gt;&gt; # Interactive setup for missing values only</span>
</span><span id=__span-0-1064><a id=__codelineno-0-1064 name=__codelineno-0-1064></a><span class=sd>        &gt;&gt;&gt; config_manager.build_config_file()</span>
</span><span id=__span-0-1065><a id=__codelineno-0-1065 name=__codelineno-0-1065></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-1066><a id=__codelineno-0-1066 name=__codelineno-0-1066></a><span class=sd>        &gt;&gt;&gt; # Rebuild entire configuration</span>
</span><span id=__span-0-1067><a id=__codelineno-0-1067 name=__codelineno-0-1067></a><span class=sd>        &gt;&gt;&gt; config_manager.build_config_file(overwrite_existing_vals=True)</span>
</span><span id=__span-0-1068><a id=__codelineno-0-1068 name=__codelineno-0-1068></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-1069><a id=__codelineno-0-1069 name=__codelineno-0-1069></a><span class=sd>        &gt;&gt;&gt; # Update only credentials (skip fitfiles_path)</span>
</span><span id=__span-0-1070><a id=__codelineno-0-1070 name=__codelineno-0-1070></a><span class=sd>        &gt;&gt;&gt; config_manager.build_config_file(</span>
</span><span id=__span-0-1071><a id=__codelineno-0-1071 name=__codelineno-0-1071></a><span class=sd>        ...     excluded_keys=[&quot;fitfiles_path&quot;]</span>
</span><span id=__span-0-1072><a id=__codelineno-0-1072 name=__codelineno-0-1072></a><span class=sd>        ... )</span>
</span><span id=__span-0-1073><a id=__codelineno-0-1073 name=__codelineno-0-1073></a>
</span><span id=__span-0-1074><a id=__codelineno-0-1074 name=__codelineno-0-1074></a><span class=sd>    Note:</span>
</span><span id=__span-0-1075><a id=__codelineno-0-1075 name=__codelineno-0-1075></a><span class=sd>        Passwords are masked in both user input and log output for security.</span>
</span><span id=__span-0-1076><a id=__codelineno-0-1076 name=__codelineno-0-1076></a><span class=sd>        The final configuration is logged with passwords hidden.</span>
</span><span id=__span-0-1077><a id=__codelineno-0-1077 name=__codelineno-0-1077></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1078><a id=__codelineno-0-1078 name=__codelineno-0-1078></a>    <span class=k>if</span> <span class=n>excluded_keys</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1079><a id=__codelineno-0-1079 name=__codelineno-0-1079></a>        <span class=n>excluded_keys</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-1080><a id=__codelineno-0-1080 name=__codelineno-0-1080></a>
</span><span id=__span-0-1081><a id=__codelineno-0-1081 name=__codelineno-0-1081></a>    <span class=c1># Get or create default profile</span>
</span><span id=__span-0-1082><a id=__codelineno-0-1082 name=__codelineno-0-1082></a>    <span class=n>default_profile</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_default_profile</span><span class=p>()</span>
</span><span id=__span-0-1083><a id=__codelineno-0-1083 name=__codelineno-0-1083></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>default_profile</span><span class=p>:</span>
</span><span id=__span-0-1084><a id=__codelineno-0-1084 name=__codelineno-0-1084></a>        <span class=c1># Create a default profile if none exists</span>
</span><span id=__span-0-1085><a id=__codelineno-0-1085 name=__codelineno-0-1085></a>        <span class=n>default_profile</span> <span class=o>=</span> <span class=n>Profile</span><span class=p>(</span>
</span><span id=__span-0-1086><a id=__codelineno-0-1086 name=__codelineno-0-1086></a>            <span class=n>name</span><span class=o>=</span><span class=s2>&quot;default&quot;</span><span class=p>,</span>
</span><span id=__span-0-1087><a id=__codelineno-0-1087 name=__codelineno-0-1087></a>            <span class=n>app_type</span><span class=o>=</span><span class=n>AppType</span><span class=o>.</span><span class=n>TP_VIRTUAL</span><span class=p>,</span>
</span><span id=__span-0-1088><a id=__codelineno-0-1088 name=__codelineno-0-1088></a>            <span class=n>garmin_username</span><span class=o>=</span><span class=s2>&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-0-1089><a id=__codelineno-0-1089 name=__codelineno-0-1089></a>            <span class=n>garmin_password</span><span class=o>=</span><span class=s2>&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-0-1090><a id=__codelineno-0-1090 name=__codelineno-0-1090></a>            <span class=n>fitfiles_path</span><span class=o>=</span><span class=n>Path</span><span class=o>.</span><span class=n>home</span><span class=p>(),</span>
</span><span id=__span-0-1091><a id=__codelineno-0-1091 name=__codelineno-0-1091></a>        <span class=p>)</span>
</span><span id=__span-0-1092><a id=__codelineno-0-1092 name=__codelineno-0-1092></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>default_profile</span><span class=p>)</span>
</span><span id=__span-0-1093><a id=__codelineno-0-1093 name=__codelineno-0-1093></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>default_profile</span> <span class=o>=</span> <span class=s2>&quot;default&quot;</span>
</span><span id=__span-0-1094><a id=__codelineno-0-1094 name=__codelineno-0-1094></a>
</span><span id=__span-0-1095><a id=__codelineno-0-1095 name=__codelineno-0-1095></a>    <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_keys</span><span class=p>:</span>
</span><span id=__span-0-1096><a id=__codelineno-0-1096 name=__codelineno-0-1096></a>        <span class=k>if</span> <span class=p>(</span>
</span><span id=__span-0-1097><a id=__codelineno-0-1097 name=__codelineno-0-1097></a>            <span class=nb>getattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>None</span>
</span><span id=__span-0-1098><a id=__codelineno-0-1098 name=__codelineno-0-1098></a>            <span class=ow>or</span> <span class=ow>not</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span>
</span><span id=__span-0-1099><a id=__codelineno-0-1099 name=__codelineno-0-1099></a>            <span class=ow>or</span> <span class=n>overwrite_existing_vals</span>
</span><span id=__span-0-1100><a id=__codelineno-0-1100 name=__codelineno-0-1100></a>        <span class=p>)</span> <span class=ow>and</span> <span class=n>k</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>excluded_keys</span><span class=p>:</span>
</span><span id=__span-0-1101><a id=__codelineno-0-1101 name=__codelineno-0-1101></a>            <span class=n>valid_input</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-1102><a id=__codelineno-0-1102 name=__codelineno-0-1102></a>            <span class=k>while</span> <span class=ow>not</span> <span class=n>valid_input</span><span class=p>:</span>
</span><span id=__span-0-1103><a id=__codelineno-0-1103 name=__codelineno-0-1103></a>                <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1104><a id=__codelineno-0-1104 name=__codelineno-0-1104></a>                    <span class=k>if</span> <span class=p>(</span>
</span><span id=__span-0-1105><a id=__codelineno-0-1105 name=__codelineno-0-1105></a>                        <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span>
</span><span id=__span-0-1106><a id=__codelineno-0-1106 name=__codelineno-0-1106></a>                        <span class=ow>or</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>None</span>
</span><span id=__span-0-1107><a id=__codelineno-0-1107 name=__codelineno-0-1107></a>                    <span class=p>):</span>
</span><span id=__span-0-1108><a id=__codelineno-0-1108 name=__codelineno-0-1108></a>                        <span class=n>_logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Required value &quot;</span><span class=si>{</span><span class=n>k</span><span class=si>}</span><span class=s1>&quot; not found in config&#39;</span><span class=p>)</span>
</span><span id=__span-0-1109><a id=__codelineno-0-1109 name=__codelineno-0-1109></a>                    <span class=n>msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;Enter value to use for &quot;</span><span class=si>{</span><span class=n>k</span><span class=si>}</span><span class=s1>&quot;&#39;</span>
</span><span id=__span-0-1110><a id=__codelineno-0-1110 name=__codelineno-0-1110></a>
</span><span id=__span-0-1111><a id=__codelineno-0-1111 name=__codelineno-0-1111></a>                    <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span> <span class=ow>and</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>):</span>
</span><span id=__span-0-1112><a id=__codelineno-0-1112 name=__codelineno-0-1112></a>                        <span class=n>msg</span> <span class=o>+=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>or press enter to use existing value of &quot;</span><span class=si>{</span><span class=nb>getattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span><span class=w> </span><span class=n>k</span><span class=p>)</span><span class=si>}</span><span class=s1>&quot;&#39;</span>
</span><span id=__span-0-1113><a id=__codelineno-0-1113 name=__codelineno-0-1113></a>                        <span class=k>if</span> <span class=n>k</span> <span class=o>==</span> <span class=s2>&quot;garmin_password&quot;</span><span class=p>:</span>
</span><span id=__span-0-1114><a id=__codelineno-0-1114 name=__codelineno-0-1114></a>                            <span class=n>msg</span> <span class=o>=</span> <span class=n>msg</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span>
</span><span id=__span-0-1115><a id=__codelineno-0-1115 name=__codelineno-0-1115></a>                                <span class=nb>getattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>),</span> <span class=s2>&quot;&lt;**hidden**&gt;&quot;</span>
</span><span id=__span-0-1116><a id=__codelineno-0-1116 name=__codelineno-0-1116></a>                            <span class=p>)</span>
</span><span id=__span-0-1117><a id=__codelineno-0-1117 name=__codelineno-0-1117></a>
</span><span id=__span-0-1118><a id=__codelineno-0-1118 name=__codelineno-0-1118></a>                    <span class=k>if</span> <span class=n>k</span> <span class=o>!=</span> <span class=s2>&quot;fitfiles_path&quot;</span><span class=p>:</span>
</span><span id=__span-0-1119><a id=__codelineno-0-1119 name=__codelineno-0-1119></a>                        <span class=k>if</span> <span class=s2>&quot;password&quot;</span> <span class=ow>in</span> <span class=n>k</span><span class=p>:</span>
</span><span id=__span-0-1120><a id=__codelineno-0-1120 name=__codelineno-0-1120></a>                            <span class=n>val</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>password</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span><span class=o>.</span><span class=n>unsafe_ask</span><span class=p>()</span>
</span><span id=__span-0-1121><a id=__codelineno-0-1121 name=__codelineno-0-1121></a>                        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1122><a id=__codelineno-0-1122 name=__codelineno-0-1122></a>                            <span class=n>val</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>text</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span><span class=o>.</span><span class=n>unsafe_ask</span><span class=p>()</span>
</span><span id=__span-0-1123><a id=__codelineno-0-1123 name=__codelineno-0-1123></a>                    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1124><a id=__codelineno-0-1124 name=__codelineno-0-1124></a>                        <span class=n>val</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span>
</span><span id=__span-0-1125><a id=__codelineno-0-1125 name=__codelineno-0-1125></a>                            <span class=n>get_fitfiles_path</span><span class=p>(</span>
</span><span id=__span-0-1126><a id=__codelineno-0-1126 name=__codelineno-0-1126></a>                                <span class=n>Path</span><span class=p>(</span>
</span><span id=__span-0-1127><a id=__codelineno-0-1127 name=__codelineno-0-1127></a>                                    <span class=nb>getattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=s2>&quot;fitfiles_path&quot;</span><span class=p>)</span>
</span><span id=__span-0-1128><a id=__codelineno-0-1128 name=__codelineno-0-1128></a>                                <span class=p>)</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>parent</span>
</span><span id=__span-0-1129><a id=__codelineno-0-1129 name=__codelineno-0-1129></a>                                <span class=k>if</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=s2>&quot;fitfiles_path&quot;</span><span class=p>)</span>
</span><span id=__span-0-1130><a id=__codelineno-0-1130 name=__codelineno-0-1130></a>                                <span class=k>else</span> <span class=kc>None</span>
</span><span id=__span-0-1131><a id=__codelineno-0-1131 name=__codelineno-0-1131></a>                            <span class=p>)</span>
</span><span id=__span-0-1132><a id=__codelineno-0-1132 name=__codelineno-0-1132></a>                        <span class=p>)</span>
</span><span id=__span-0-1133><a id=__codelineno-0-1133 name=__codelineno-0-1133></a>
</span><span id=__span-0-1134><a id=__codelineno-0-1134 name=__codelineno-0-1134></a>                    <span class=k>if</span> <span class=n>val</span><span class=p>:</span>
</span><span id=__span-0-1135><a id=__codelineno-0-1135 name=__codelineno-0-1135></a>                        <span class=n>valid_input</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-1136><a id=__codelineno-0-1136 name=__codelineno-0-1136></a>                        <span class=nb>setattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> <span class=n>val</span><span class=p>)</span>
</span><span id=__span-0-1137><a id=__codelineno-0-1137 name=__codelineno-0-1137></a>                    <span class=k>elif</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span> <span class=ow>and</span> <span class=nb>getattr</span><span class=p>(</span>
</span><span id=__span-0-1138><a id=__codelineno-0-1138 name=__codelineno-0-1138></a>                        <span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span>
</span><span id=__span-0-1139><a id=__codelineno-0-1139 name=__codelineno-0-1139></a>                    <span class=p>):</span>
</span><span id=__span-0-1140><a id=__codelineno-0-1140 name=__codelineno-0-1140></a>                        <span class=n>valid_input</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-1141><a id=__codelineno-0-1141 name=__codelineno-0-1141></a>                        <span class=n>val</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span>
</span><span id=__span-0-1142><a id=__codelineno-0-1142 name=__codelineno-0-1142></a>                    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1143><a id=__codelineno-0-1143 name=__codelineno-0-1143></a>                        <span class=n>_logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
</span><span id=__span-0-1144><a id=__codelineno-0-1144 name=__codelineno-0-1144></a>                            <span class=s2>&quot;Entered input was not valid, please try again (or press Ctrl-C to cancel)&quot;</span>
</span><span id=__span-0-1145><a id=__codelineno-0-1145 name=__codelineno-0-1145></a>                        <span class=p>)</span>
</span><span id=__span-0-1146><a id=__codelineno-0-1146 name=__codelineno-0-1146></a>                <span class=k>except</span> <span class=ne>KeyboardInterrupt</span><span class=p>:</span>
</span><span id=__span-0-1147><a id=__codelineno-0-1147 name=__codelineno-0-1147></a>                    <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;User canceled input; exiting!&quot;</span><span class=p>)</span>
</span><span id=__span-0-1148><a id=__codelineno-0-1148 name=__codelineno-0-1148></a>                    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-1149><a id=__codelineno-0-1149 name=__codelineno-0-1149></a>
</span><span id=__span-0-1150><a id=__codelineno-0-1150 name=__codelineno-0-1150></a>    <span class=k>if</span> <span class=n>rewrite_config</span><span class=p>:</span>
</span><span id=__span-0-1151><a id=__codelineno-0-1151 name=__codelineno-0-1151></a>        <span class=bp>self</span><span class=o>.</span><span class=n>save_config</span><span class=p>()</span>
</span><span id=__span-0-1152><a id=__codelineno-0-1152 name=__codelineno-0-1152></a>
</span><span id=__span-0-1153><a id=__codelineno-0-1153 name=__codelineno-0-1153></a>    <span class=n>config_content</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>asdict</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>),</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=n>PathEncoder</span><span class=p>)</span>
</span><span id=__span-0-1154><a id=__codelineno-0-1154 name=__codelineno-0-1154></a>    <span class=k>if</span> <span class=p>(</span>
</span><span id=__span-0-1155><a id=__codelineno-0-1155 name=__codelineno-0-1155></a>        <span class=nb>hasattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=s2>&quot;garmin_password&quot;</span><span class=p>)</span>
</span><span id=__span-0-1156><a id=__codelineno-0-1156 name=__codelineno-0-1156></a>        <span class=ow>and</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=s2>&quot;garmin_password&quot;</span><span class=p>)</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
</span><span id=__span-0-1157><a id=__codelineno-0-1157 name=__codelineno-0-1157></a>    <span class=p>):</span>
</span><span id=__span-0-1158><a id=__codelineno-0-1158 name=__codelineno-0-1158></a>        <span class=n>config_content</span> <span class=o>=</span> <span class=n>config_content</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span>
</span><span id=__span-0-1159><a id=__codelineno-0-1159 name=__codelineno-0-1159></a>            <span class=n>cast</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>default_profile</span><span class=o>.</span><span class=n>garmin_password</span><span class=p>),</span> <span class=s2>&quot;&lt;**hidden**&gt;&quot;</span>
</span><span id=__span-0-1160><a id=__codelineno-0-1160 name=__codelineno-0-1160></a>        <span class=p>)</span>
</span><span id=__span-0-1161><a id=__codelineno-0-1161 name=__codelineno-0-1161></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Config file is now:</span><span class=se>\n</span><span class=si>{</span><span class=n>config_content</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ConfigManager.get_config_file_path class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_config_file_path</span> <a href=#fit_file_faker.config.ConfigManager.get_config_file_path class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_config_file_path</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Path</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get the path to the configuration file.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Path to the .config.json file in the platform-specific user</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>configuration directory.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>path</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>get_config_file_path</span><span class=p>()</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Config file: </span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=go>Config file: /home/user/.config/FitFileFaker/.config.json</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1163>1163</a></span>
<span class=normal><a href=#__codelineno-0-1164>1164</a></span>
<span class=normal><a href=#__codelineno-0-1165>1165</a></span>
<span class=normal><a href=#__codelineno-0-1166>1166</a></span>
<span class=normal><a href=#__codelineno-0-1167>1167</a></span>
<span class=normal><a href=#__codelineno-0-1168>1168</a></span>
<span class=normal><a href=#__codelineno-0-1169>1169</a></span>
<span class=normal><a href=#__codelineno-0-1170>1170</a></span>
<span class=normal><a href=#__codelineno-0-1171>1171</a></span>
<span class=normal><a href=#__codelineno-0-1172>1172</a></span>
<span class=normal><a href=#__codelineno-0-1173>1173</a></span>
<span class=normal><a href=#__codelineno-0-1174>1174</a></span>
<span class=normal><a href=#__codelineno-0-1175>1175</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1163><a id=__codelineno-0-1163 name=__codelineno-0-1163></a><span class=k>def</span><span class=w> </span><span class=nf>get_config_file_path</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Path</span><span class=p>:</span>
</span><span id=__span-0-1164><a id=__codelineno-0-1164 name=__codelineno-0-1164></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the path to the configuration file.</span>
</span><span id=__span-0-1165><a id=__codelineno-0-1165 name=__codelineno-0-1165></a>
</span><span id=__span-0-1166><a id=__codelineno-0-1166 name=__codelineno-0-1166></a><span class=sd>    Returns:</span>
</span><span id=__span-0-1167><a id=__codelineno-0-1167 name=__codelineno-0-1167></a><span class=sd>        Path to the .config.json file in the platform-specific user</span>
</span><span id=__span-0-1168><a id=__codelineno-0-1168 name=__codelineno-0-1168></a><span class=sd>        configuration directory.</span>
</span><span id=__span-0-1169><a id=__codelineno-0-1169 name=__codelineno-0-1169></a>
</span><span id=__span-0-1170><a id=__codelineno-0-1170 name=__codelineno-0-1170></a><span class=sd>    Examples:</span>
</span><span id=__span-0-1171><a id=__codelineno-0-1171 name=__codelineno-0-1171></a><span class=sd>        &gt;&gt;&gt; path = config_manager.get_config_file_path()</span>
</span><span id=__span-0-1172><a id=__codelineno-0-1172 name=__codelineno-0-1172></a><span class=sd>        &gt;&gt;&gt; print(f&quot;Config file: {path}&quot;)</span>
</span><span id=__span-0-1173><a id=__codelineno-0-1173 name=__codelineno-0-1173></a><span class=sd>        Config file: /home/user/.config/FitFileFaker/.config.json</span>
</span><span id=__span-0-1174><a id=__codelineno-0-1174 name=__codelineno-0-1174></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1175><a id=__codelineno-0-1175 name=__codelineno-0-1175></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_file</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ConfigManager.is_valid class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">is_valid</span> <a href=#fit_file_faker.config.ConfigManager.is_valid class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>is_valid</span><span class=p>(</span><span class=n>excluded_keys</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Check if configuration is valid (all required keys have values).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>excluded_keys</code> </td> <td> <code><span title=list>list</span>[<span title=str>str</span>] | None</code> </td> <td> <div class=doc-md-description> <p>Optional list of keys to exclude from validation. Useful when certain config values aren't needed for specific operations (e.g., fitfiles_path when path is provided via CLI).</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>True if all required (non-excluded) keys have non-None values,</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>False otherwise. Logs missing keys as errors.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Check all keys</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=k>if</span> <span class=ow>not</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>is_valid</span><span class=p>():</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Configuration incomplete&quot;</span><span class=p>)</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Exclude fitfiles_path from validation</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=k>if</span> <span class=ow>not</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>is_valid</span><span class=p>(</span><span class=n>excluded_keys</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;fitfiles_path&quot;</span><span class=p>]):</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Missing Garmin credentials&quot;</span><span class=p>)</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-992> 992</a></span>
<span class=normal><a href=#__codelineno-0-993> 993</a></span>
<span class=normal><a href=#__codelineno-0-994> 994</a></span>
<span class=normal><a href=#__codelineno-0-995> 995</a></span>
<span class=normal><a href=#__codelineno-0-996> 996</a></span>
<span class=normal><a href=#__codelineno-0-997> 997</a></span>
<span class=normal><a href=#__codelineno-0-998> 998</a></span>
<span class=normal><a href=#__codelineno-0-999> 999</a></span>
<span class=normal><a href=#__codelineno-0-1000>1000</a></span>
<span class=normal><a href=#__codelineno-0-1001>1001</a></span>
<span class=normal><a href=#__codelineno-0-1002>1002</a></span>
<span class=normal><a href=#__codelineno-0-1003>1003</a></span>
<span class=normal><a href=#__codelineno-0-1004>1004</a></span>
<span class=normal><a href=#__codelineno-0-1005>1005</a></span>
<span class=normal><a href=#__codelineno-0-1006>1006</a></span>
<span class=normal><a href=#__codelineno-0-1007>1007</a></span>
<span class=normal><a href=#__codelineno-0-1008>1008</a></span>
<span class=normal><a href=#__codelineno-0-1009>1009</a></span>
<span class=normal><a href=#__codelineno-0-1010>1010</a></span>
<span class=normal><a href=#__codelineno-0-1011>1011</a></span>
<span class=normal><a href=#__codelineno-0-1012>1012</a></span>
<span class=normal><a href=#__codelineno-0-1013>1013</a></span>
<span class=normal><a href=#__codelineno-0-1014>1014</a></span>
<span class=normal><a href=#__codelineno-0-1015>1015</a></span>
<span class=normal><a href=#__codelineno-0-1016>1016</a></span>
<span class=normal><a href=#__codelineno-0-1017>1017</a></span>
<span class=normal><a href=#__codelineno-0-1018>1018</a></span>
<span class=normal><a href=#__codelineno-0-1019>1019</a></span>
<span class=normal><a href=#__codelineno-0-1020>1020</a></span>
<span class=normal><a href=#__codelineno-0-1021>1021</a></span>
<span class=normal><a href=#__codelineno-0-1022>1022</a></span>
<span class=normal><a href=#__codelineno-0-1023>1023</a></span>
<span class=normal><a href=#__codelineno-0-1024>1024</a></span>
<span class=normal><a href=#__codelineno-0-1025>1025</a></span>
<span class=normal><a href=#__codelineno-0-1026>1026</a></span>
<span class=normal><a href=#__codelineno-0-1027>1027</a></span>
<span class=normal><a href=#__codelineno-0-1028>1028</a></span>
<span class=normal><a href=#__codelineno-0-1029>1029</a></span>
<span class=normal><a href=#__codelineno-0-1030>1030</a></span>
<span class=normal><a href=#__codelineno-0-1031>1031</a></span>
<span class=normal><a href=#__codelineno-0-1032>1032</a></span>
<span class=normal><a href=#__codelineno-0-1033>1033</a></span>
<span class=normal><a href=#__codelineno-0-1034>1034</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-992><a id=__codelineno-0-992 name=__codelineno-0-992></a><span class=k>def</span><span class=w> </span><span class=nf>is_valid</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>excluded_keys</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-0-993><a id=__codelineno-0-993 name=__codelineno-0-993></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if configuration is valid (all required keys have values).</span>
</span><span id=__span-0-994><a id=__codelineno-0-994 name=__codelineno-0-994></a>
</span><span id=__span-0-995><a id=__codelineno-0-995 name=__codelineno-0-995></a><span class=sd>    Args:</span>
</span><span id=__span-0-996><a id=__codelineno-0-996 name=__codelineno-0-996></a><span class=sd>        excluded_keys: Optional list of keys to exclude from validation.</span>
</span><span id=__span-0-997><a id=__codelineno-0-997 name=__codelineno-0-997></a><span class=sd>            Useful when certain config values aren&#39;t needed for specific</span>
</span><span id=__span-0-998><a id=__codelineno-0-998 name=__codelineno-0-998></a><span class=sd>            operations (e.g., fitfiles_path when path is provided via CLI).</span>
</span><span id=__span-0-999><a id=__codelineno-0-999 name=__codelineno-0-999></a>
</span><span id=__span-0-1000><a id=__codelineno-0-1000 name=__codelineno-0-1000></a><span class=sd>    Returns:</span>
</span><span id=__span-0-1001><a id=__codelineno-0-1001 name=__codelineno-0-1001></a><span class=sd>        True if all required (non-excluded) keys have non-None values,</span>
</span><span id=__span-0-1002><a id=__codelineno-0-1002 name=__codelineno-0-1002></a><span class=sd>        False otherwise. Logs missing keys as errors.</span>
</span><span id=__span-0-1003><a id=__codelineno-0-1003 name=__codelineno-0-1003></a>
</span><span id=__span-0-1004><a id=__codelineno-0-1004 name=__codelineno-0-1004></a><span class=sd>    Examples:</span>
</span><span id=__span-0-1005><a id=__codelineno-0-1005 name=__codelineno-0-1005></a><span class=sd>        &gt;&gt;&gt; # Check all keys</span>
</span><span id=__span-0-1006><a id=__codelineno-0-1006 name=__codelineno-0-1006></a><span class=sd>        &gt;&gt;&gt; if not config_manager.is_valid():</span>
</span><span id=__span-0-1007><a id=__codelineno-0-1007 name=__codelineno-0-1007></a><span class=sd>        ...     print(&quot;Configuration incomplete&quot;)</span>
</span><span id=__span-0-1008><a id=__codelineno-0-1008 name=__codelineno-0-1008></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-1009><a id=__codelineno-0-1009 name=__codelineno-0-1009></a><span class=sd>        &gt;&gt;&gt; # Exclude fitfiles_path from validation</span>
</span><span id=__span-0-1010><a id=__codelineno-0-1010 name=__codelineno-0-1010></a><span class=sd>        &gt;&gt;&gt; if not config_manager.is_valid(excluded_keys=[&quot;fitfiles_path&quot;]):</span>
</span><span id=__span-0-1011><a id=__codelineno-0-1011 name=__codelineno-0-1011></a><span class=sd>        ...     print(&quot;Missing Garmin credentials&quot;)</span>
</span><span id=__span-0-1012><a id=__codelineno-0-1012 name=__codelineno-0-1012></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1013><a id=__codelineno-0-1013 name=__codelineno-0-1013></a>    <span class=k>if</span> <span class=n>excluded_keys</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1014><a id=__codelineno-0-1014 name=__codelineno-0-1014></a>        <span class=n>excluded_keys</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-1015><a id=__codelineno-0-1015 name=__codelineno-0-1015></a>
</span><span id=__span-0-1016><a id=__codelineno-0-1016 name=__codelineno-0-1016></a>    <span class=c1># Get default profile for validation</span>
</span><span id=__span-0-1017><a id=__codelineno-0-1017 name=__codelineno-0-1017></a>    <span class=n>default_profile</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_default_profile</span><span class=p>()</span>
</span><span id=__span-0-1018><a id=__codelineno-0-1018 name=__codelineno-0-1018></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>default_profile</span><span class=p>:</span>
</span><span id=__span-0-1019><a id=__codelineno-0-1019 name=__codelineno-0-1019></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;No default profile configured&quot;</span><span class=p>)</span>
</span><span id=__span-0-1020><a id=__codelineno-0-1020 name=__codelineno-0-1020></a>        <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-0-1021><a id=__codelineno-0-1021 name=__codelineno-0-1021></a>
</span><span id=__span-0-1022><a id=__codelineno-0-1022 name=__codelineno-0-1022></a>    <span class=n>missing_vals</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-1023><a id=__codelineno-0-1023 name=__codelineno-0-1023></a>    <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_keys</span><span class=p>:</span>
</span><span id=__span-0-1024><a id=__codelineno-0-1024 name=__codelineno-0-1024></a>        <span class=k>if</span> <span class=p>(</span>
</span><span id=__span-0-1025><a id=__codelineno-0-1025 name=__codelineno-0-1025></a>            <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>default_profile</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>None</span>
</span><span id=__span-0-1026><a id=__codelineno-0-1026 name=__codelineno-0-1026></a>        <span class=p>)</span> <span class=ow>and</span> <span class=n>k</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>excluded_keys</span><span class=p>:</span>
</span><span id=__span-0-1027><a id=__codelineno-0-1027 name=__codelineno-0-1027></a>            <span class=n>missing_vals</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
</span><span id=__span-0-1028><a id=__codelineno-0-1028 name=__codelineno-0-1028></a>
</span><span id=__span-0-1029><a id=__codelineno-0-1029 name=__codelineno-0-1029></a>    <span class=k>if</span> <span class=n>missing_vals</span><span class=p>:</span>
</span><span id=__span-0-1030><a id=__codelineno-0-1030 name=__codelineno-0-1030></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span>
</span><span id=__span-0-1031><a id=__codelineno-0-1031 name=__codelineno-0-1031></a>            <span class=sa>f</span><span class=s2>&quot;The following configuration values are missing: </span><span class=si>{</span><span class=n>missing_vals</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-1032><a id=__codelineno-0-1032 name=__codelineno-0-1032></a>        <span class=p>)</span>
</span><span id=__span-0-1033><a id=__codelineno-0-1033 name=__codelineno-0-1033></a>        <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-0-1034><a id=__codelineno-0-1034 name=__codelineno-0-1034></a>    <span class=k>return</span> <span class=kc>True</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ConfigManager.save_config class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">save_config</span> <a href=#fit_file_faker.config.ConfigManager.save_config class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>save_config</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save current configuration to file.</p> <p>Serializes the current Config object to JSON and writes it to the config file with 2-space indentation. Path objects are automatically converted to strings via PathEncoder.</p> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-982>982</a></span>
<span class=normal><a href=#__codelineno-0-983>983</a></span>
<span class=normal><a href=#__codelineno-0-984>984</a></span>
<span class=normal><a href=#__codelineno-0-985>985</a></span>
<span class=normal><a href=#__codelineno-0-986>986</a></span>
<span class=normal><a href=#__codelineno-0-987>987</a></span>
<span class=normal><a href=#__codelineno-0-988>988</a></span>
<span class=normal><a href=#__codelineno-0-989>989</a></span>
<span class=normal><a href=#__codelineno-0-990>990</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-982><a id=__codelineno-0-982 name=__codelineno-0-982></a><span class=k>def</span><span class=w> </span><span class=nf>save_config</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-983><a id=__codelineno-0-983 name=__codelineno-0-983></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Save current configuration to file.</span>
</span><span id=__span-0-984><a id=__codelineno-0-984 name=__codelineno-0-984></a>
</span><span id=__span-0-985><a id=__codelineno-0-985 name=__codelineno-0-985></a><span class=sd>    Serializes the current Config object to JSON and writes it to the</span>
</span><span id=__span-0-986><a id=__codelineno-0-986 name=__codelineno-0-986></a><span class=sd>    config file with 2-space indentation. Path objects are automatically</span>
</span><span id=__span-0-987><a id=__codelineno-0-987 name=__codelineno-0-987></a><span class=sd>    converted to strings via PathEncoder.</span>
</span><span id=__span-0-988><a id=__codelineno-0-988 name=__codelineno-0-988></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-989><a id=__codelineno-0-989 name=__codelineno-0-989></a>    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_file</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s2>&quot;w&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span><span id=__span-0-990><a id=__codelineno-0-990 name=__codelineno-0-990></a>        <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>asdict</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config</span><span class=p>),</span> <span class=n>f</span><span class=p>,</span> <span class=n>indent</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=n>PathEncoder</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=fit_file_faker.config.GarminDeviceInfo class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">GarminDeviceInfo</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small> </span> <a href=#fit_file_faker.config.GarminDeviceInfo class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>GarminDeviceInfo</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>product_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>category</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>year_released</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>is_common</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=n>description</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>software_version</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>    <span class=n>software_date</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Metadata for a Garmin device (supplemental to fit_tool's enum).</p> <p>Provides enhanced device information for modern Garmin devices not fully represented in fit_tool's GarminProduct enum, or to add curation metadata for devices that already exist.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.GarminDeviceInfo.name>name</span></code></td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Human-readable device name (e.g., "Edge 1050")</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.GarminDeviceInfo.product_id>product_id</span></code></td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>FIT file product ID (integer)</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.GarminDeviceInfo.category>category</span></code></td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Device category ("bike_computer", "multisport_watch", "trainer")</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.GarminDeviceInfo.year_released>year_released</span></code></td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Release year for sorting (integer)</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.GarminDeviceInfo.is_common>is_common</span></code></td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Show in first-level menu (boolean)</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.GarminDeviceInfo.description>description</span></code></td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Brief description for UI display</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.GarminDeviceInfo.software_version>software_version</span></code></td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Latest stable firmware version in FIT format (int, e.g., 2922 = v29.22)</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.GarminDeviceInfo.software_date>software_date</span></code></td> <td> <code><span title=str>str</span> | None</code> </td> <td> <div class=doc-md-description> <p>Latest firmware release date (YYYY-MM-DD format)</p> </div> </td> </tr> </tbody> </table> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=fit_file_faker.config.PathEncoder class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">PathEncoder</span> <a href=#fit_file_faker.config.PathEncoder class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=json.JSONEncoder>JSONEncoder</span></code></p> <p>JSON encoder that handles <code>pathlib.Path</code> and <code>Enum</code> objects.</p> <p>Extends <code>json.JSONEncoder</code> to automatically convert Path and Enum objects to strings when serializing configuration to JSON format.</p> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>json</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>data</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/home/user&quot;</span><span class=p>),</span> <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=n>AppType</span><span class=o>.</span><span class=n>ZWIFT</span><span class=p>}</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=bp>cls</span><span class=o>=</span><span class=n>PathEncoder</span><span class=p>)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=go>&#39;{&quot;path&quot;: &quot;/home/user&quot;, &quot;type&quot;: &quot;zwift&quot;}&#39;</span>
</span></code></pre></div> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=fit_file_faker.config.Profile class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">Profile</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small> </span> <a href=#fit_file_faker.config.Profile class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Profile</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>app_type</span><span class=p>:</span> <span class=n>AppType</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>garmin_username</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>garmin_password</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>fitfiles_path</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=n>manufacturer</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>device</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>    <span class=n>serial_number</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>    <span class=n>software_version</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Single profile configuration.</p> <p>Represents a complete configuration profile with app type, credentials, and FIT files directory. Each profile is independent with isolated Garmin Connect credentials.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.Profile.name>name</span></code></td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Unique profile identifier (used for display and garth dir naming)</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.Profile.app_type>app_type</span></code></td> <td> <code><a class="autorefs autorefs-internal" title="            AppType (fit_file_faker.config.AppType)" href=#fit_file_faker.config.AppType>AppType</a></code> </td> <td> <div class=doc-md-description> <p>Type of trainer app (for auto-detection and validation)</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.Profile.garmin_username>garmin_username</span></code></td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Garmin Connect account email address</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.Profile.garmin_password>garmin_password</span></code></td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Garmin Connect account password</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.Profile.fitfiles_path>fitfiles_path</span></code></td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Path to directory containing FIT files to process</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.Profile.manufacturer>manufacturer</span></code></td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Manufacturer ID to use for device simulation (defaults to Garmin)</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.Profile.device>device</span></code></td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Device/product ID to use for device simulation (defaults to Edge 830)</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.Profile.serial_number>serial_number</span></code></td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Device serial number (auto-generated if not specified)</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.Profile.software_version>software_version</span></code></td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Firmware version in FIT format (e.g., 2922 = v29.22). If None, no FileCreatorMessage will be added to FIT files.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>pathlib</span><span class=w> </span><span class=kn>import</span> <span class=n>Path</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span> <span class=o>=</span> <span class=n>Profile</span><span class=p>(</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>... </span>    <span class=n>name</span><span class=o>=</span><span class=s2>&quot;zwift&quot;</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>... </span>    <span class=n>app_type</span><span class=o>=</span><span class=n>AppType</span><span class=o>.</span><span class=n>ZWIFT</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>... </span>    <span class=n>garmin_username</span><span class=o>=</span><span class=s2>&quot;user@example.com&quot;</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>... </span>    <span class=n>garmin_password</span><span class=o>=</span><span class=s2>&quot;secret&quot;</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>... </span>    <span class=n>fitfiles_path</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/Users/user/Documents/Zwift/Activities&quot;</span><span class=p>)</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.Profile.__post_init__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__post_init__</span> <a href=#fit_file_faker.config.Profile.__post_init__ class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>__post_init__</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert string types to proper objects after initialization.</p> <p>Handles deserialization from JSON where app_type may be a string and fitfiles_path may be a string path. Also sets default values for manufacturer and device if not specified.</p> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-660>660</a></span>
<span class=normal><a href=#__codelineno-0-661>661</a></span>
<span class=normal><a href=#__codelineno-0-662>662</a></span>
<span class=normal><a href=#__codelineno-0-663>663</a></span>
<span class=normal><a href=#__codelineno-0-664>664</a></span>
<span class=normal><a href=#__codelineno-0-665>665</a></span>
<span class=normal><a href=#__codelineno-0-666>666</a></span>
<span class=normal><a href=#__codelineno-0-667>667</a></span>
<span class=normal><a href=#__codelineno-0-668>668</a></span>
<span class=normal><a href=#__codelineno-0-669>669</a></span>
<span class=normal><a href=#__codelineno-0-670>670</a></span>
<span class=normal><a href=#__codelineno-0-671>671</a></span>
<span class=normal><a href=#__codelineno-0-672>672</a></span>
<span class=normal><a href=#__codelineno-0-673>673</a></span>
<span class=normal><a href=#__codelineno-0-674>674</a></span>
<span class=normal><a href=#__codelineno-0-675>675</a></span>
<span class=normal><a href=#__codelineno-0-676>676</a></span>
<span class=normal><a href=#__codelineno-0-677>677</a></span>
<span class=normal><a href=#__codelineno-0-678>678</a></span>
<span class=normal><a href=#__codelineno-0-679>679</a></span>
<span class=normal><a href=#__codelineno-0-680>680</a></span>
<span class=normal><a href=#__codelineno-0-681>681</a></span>
<span class=normal><a href=#__codelineno-0-682>682</a></span>
<span class=normal><a href=#__codelineno-0-683>683</a></span>
<span class=normal><a href=#__codelineno-0-684>684</a></span>
<span class=normal><a href=#__codelineno-0-685>685</a></span>
<span class=normal><a href=#__codelineno-0-686>686</a></span>
<span class=normal><a href=#__codelineno-0-687>687</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-660><a id=__codelineno-0-660 name=__codelineno-0-660></a><span class=k>def</span><span class=w> </span><span class=nf>__post_init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-661><a id=__codelineno-0-661 name=__codelineno-0-661></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert string types to proper objects after initialization.</span>
</span><span id=__span-0-662><a id=__codelineno-0-662 name=__codelineno-0-662></a>
</span><span id=__span-0-663><a id=__codelineno-0-663 name=__codelineno-0-663></a><span class=sd>    Handles deserialization from JSON where app_type may be a string</span>
</span><span id=__span-0-664><a id=__codelineno-0-664 name=__codelineno-0-664></a><span class=sd>    and fitfiles_path may be a string path. Also sets default values</span>
</span><span id=__span-0-665><a id=__codelineno-0-665 name=__codelineno-0-665></a><span class=sd>    for manufacturer and device if not specified.</span>
</span><span id=__span-0-666><a id=__codelineno-0-666 name=__codelineno-0-666></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-667><a id=__codelineno-0-667 name=__codelineno-0-667></a>    <span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.vendor.fit_tool.profile.profile_type</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
</span><span id=__span-0-668><a id=__codelineno-0-668 name=__codelineno-0-668></a>        <span class=n>GarminProduct</span><span class=p>,</span>
</span><span id=__span-0-669><a id=__codelineno-0-669 name=__codelineno-0-669></a>        <span class=n>Manufacturer</span><span class=p>,</span>
</span><span id=__span-0-670><a id=__codelineno-0-670 name=__codelineno-0-670></a>    <span class=p>)</span>
</span><span id=__span-0-671><a id=__codelineno-0-671 name=__codelineno-0-671></a>
</span><span id=__span-0-672><a id=__codelineno-0-672 name=__codelineno-0-672></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>app_type</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-673><a id=__codelineno-0-673 name=__codelineno-0-673></a>        <span class=bp>self</span><span class=o>.</span><span class=n>app_type</span> <span class=o>=</span> <span class=n>AppType</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>app_type</span><span class=p>)</span>
</span><span id=__span-0-674><a id=__codelineno-0-674 name=__codelineno-0-674></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fitfiles_path</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-675><a id=__codelineno-0-675 name=__codelineno-0-675></a>        <span class=bp>self</span><span class=o>.</span><span class=n>fitfiles_path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>fitfiles_path</span><span class=p>)</span>
</span><span id=__span-0-676><a id=__codelineno-0-676 name=__codelineno-0-676></a>
</span><span id=__span-0-677><a id=__codelineno-0-677 name=__codelineno-0-677></a>    <span class=c1># Set defaults for manufacturer and device if not specified</span>
</span><span id=__span-0-678><a id=__codelineno-0-678 name=__codelineno-0-678></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>manufacturer</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-679><a id=__codelineno-0-679 name=__codelineno-0-679></a>        <span class=bp>self</span><span class=o>.</span><span class=n>manufacturer</span> <span class=o>=</span> <span class=n>Manufacturer</span><span class=o>.</span><span class=n>GARMIN</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-0-680><a id=__codelineno-0-680 name=__codelineno-0-680></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>device</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-681><a id=__codelineno-0-681 name=__codelineno-0-681></a>        <span class=bp>self</span><span class=o>.</span><span class=n>device</span> <span class=o>=</span> <span class=n>GarminProduct</span><span class=o>.</span><span class=n>EDGE_830</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-0-682><a id=__codelineno-0-682 name=__codelineno-0-682></a>
</span><span id=__span-0-683><a id=__codelineno-0-683 name=__codelineno-0-683></a>    <span class=c1># Generate serial number if not specified</span>
</span><span id=__span-0-684><a id=__codelineno-0-684 name=__codelineno-0-684></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>serial_number</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-685><a id=__codelineno-0-685 name=__codelineno-0-685></a>        <span class=kn>import</span><span class=w> </span><span class=nn>random</span>
</span><span id=__span-0-686><a id=__codelineno-0-686 name=__codelineno-0-686></a>
</span><span id=__span-0-687><a id=__codelineno-0-687 name=__codelineno-0-687></a>        <span class=bp>self</span><span class=o>.</span><span class=n>serial_number</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1_000_000_000</span><span class=p>,</span> <span class=mi>4_294_967_295</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.Profile.get_device_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_device_name</span> <a href=#fit_file_faker.config.Profile.get_device_name class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_device_name</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get human-readable device name.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Device name if found in GarminProduct enum or supplemental registry,</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>otherwise "UNKNOWN (id)".</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span><span class=o>.</span><span class=n>get_device_name</span><span class=p>()</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=go>&#39;EDGE_830&#39;</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># For supplemental device</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span><span class=o>.</span><span class=n>device</span> <span class=o>=</span> <span class=mi>4440</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span><span class=o>.</span><span class=n>get_device_name</span><span class=p>()</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=go>&#39;Edge 1050&#39;</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-706>706</a></span>
<span class=normal><a href=#__codelineno-0-707>707</a></span>
<span class=normal><a href=#__codelineno-0-708>708</a></span>
<span class=normal><a href=#__codelineno-0-709>709</a></span>
<span class=normal><a href=#__codelineno-0-710>710</a></span>
<span class=normal><a href=#__codelineno-0-711>711</a></span>
<span class=normal><a href=#__codelineno-0-712>712</a></span>
<span class=normal><a href=#__codelineno-0-713>713</a></span>
<span class=normal><a href=#__codelineno-0-714>714</a></span>
<span class=normal><a href=#__codelineno-0-715>715</a></span>
<span class=normal><a href=#__codelineno-0-716>716</a></span>
<span class=normal><a href=#__codelineno-0-717>717</a></span>
<span class=normal><a href=#__codelineno-0-718>718</a></span>
<span class=normal><a href=#__codelineno-0-719>719</a></span>
<span class=normal><a href=#__codelineno-0-720>720</a></span>
<span class=normal><a href=#__codelineno-0-721>721</a></span>
<span class=normal><a href=#__codelineno-0-722>722</a></span>
<span class=normal><a href=#__codelineno-0-723>723</a></span>
<span class=normal><a href=#__codelineno-0-724>724</a></span>
<span class=normal><a href=#__codelineno-0-725>725</a></span>
<span class=normal><a href=#__codelineno-0-726>726</a></span>
<span class=normal><a href=#__codelineno-0-727>727</a></span>
<span class=normal><a href=#__codelineno-0-728>728</a></span>
<span class=normal><a href=#__codelineno-0-729>729</a></span>
<span class=normal><a href=#__codelineno-0-730>730</a></span>
<span class=normal><a href=#__codelineno-0-731>731</a></span>
<span class=normal><a href=#__codelineno-0-732>732</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-706><a id=__codelineno-0-706 name=__codelineno-0-706></a><span class=k>def</span><span class=w> </span><span class=nf>get_device_name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-707><a id=__codelineno-0-707 name=__codelineno-0-707></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get human-readable device name.</span>
</span><span id=__span-0-708><a id=__codelineno-0-708 name=__codelineno-0-708></a>
</span><span id=__span-0-709><a id=__codelineno-0-709 name=__codelineno-0-709></a><span class=sd>    Returns:</span>
</span><span id=__span-0-710><a id=__codelineno-0-710 name=__codelineno-0-710></a><span class=sd>        Device name if found in GarminProduct enum or supplemental registry,</span>
</span><span id=__span-0-711><a id=__codelineno-0-711 name=__codelineno-0-711></a><span class=sd>        otherwise &quot;UNKNOWN (id)&quot;.</span>
</span><span id=__span-0-712><a id=__codelineno-0-712 name=__codelineno-0-712></a>
</span><span id=__span-0-713><a id=__codelineno-0-713 name=__codelineno-0-713></a><span class=sd>    Examples:</span>
</span><span id=__span-0-714><a id=__codelineno-0-714 name=__codelineno-0-714></a><span class=sd>        &gt;&gt;&gt; profile.get_device_name()</span>
</span><span id=__span-0-715><a id=__codelineno-0-715 name=__codelineno-0-715></a><span class=sd>        &#39;EDGE_830&#39;</span>
</span><span id=__span-0-716><a id=__codelineno-0-716 name=__codelineno-0-716></a><span class=sd>        &gt;&gt;&gt; # For supplemental device</span>
</span><span id=__span-0-717><a id=__codelineno-0-717 name=__codelineno-0-717></a><span class=sd>        &gt;&gt;&gt; profile.device = 4440</span>
</span><span id=__span-0-718><a id=__codelineno-0-718 name=__codelineno-0-718></a><span class=sd>        &gt;&gt;&gt; profile.get_device_name()</span>
</span><span id=__span-0-719><a id=__codelineno-0-719 name=__codelineno-0-719></a><span class=sd>        &#39;Edge 1050&#39;</span>
</span><span id=__span-0-720><a id=__codelineno-0-720 name=__codelineno-0-720></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-721><a id=__codelineno-0-721 name=__codelineno-0-721></a>    <span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.vendor.fit_tool.profile.profile_type</span><span class=w> </span><span class=kn>import</span> <span class=n>GarminProduct</span>
</span><span id=__span-0-722><a id=__codelineno-0-722 name=__codelineno-0-722></a>
</span><span id=__span-0-723><a id=__codelineno-0-723 name=__codelineno-0-723></a>    <span class=c1># Try fit_tool enum first</span>
</span><span id=__span-0-724><a id=__codelineno-0-724 name=__codelineno-0-724></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-725><a id=__codelineno-0-725 name=__codelineno-0-725></a>        <span class=k>return</span> <span class=n>GarminProduct</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>device</span><span class=p>)</span><span class=o>.</span><span class=n>name</span>
</span><span id=__span-0-726><a id=__codelineno-0-726 name=__codelineno-0-726></a>    <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span><span id=__span-0-727><a id=__codelineno-0-727 name=__codelineno-0-727></a>        <span class=c1># Fallback to supplemental registry</span>
</span><span id=__span-0-728><a id=__codelineno-0-728 name=__codelineno-0-728></a>        <span class=k>for</span> <span class=n>device_info</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span><span class=p>:</span>
</span><span id=__span-0-729><a id=__codelineno-0-729 name=__codelineno-0-729></a>            <span class=k>if</span> <span class=n>device_info</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>device</span><span class=p>:</span>
</span><span id=__span-0-730><a id=__codelineno-0-730 name=__codelineno-0-730></a>                <span class=k>return</span> <span class=n>device_info</span><span class=o>.</span><span class=n>name</span>
</span><span id=__span-0-731><a id=__codelineno-0-731 name=__codelineno-0-731></a>        <span class=c1># Unknown device</span>
</span><span id=__span-0-732><a id=__codelineno-0-732 name=__codelineno-0-732></a>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;UNKNOWN (</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>device</span><span class=si>}</span><span class=s2>)&quot;</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.Profile.get_manufacturer_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_manufacturer_name</span> <a href=#fit_file_faker.config.Profile.get_manufacturer_name class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_manufacturer_name</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get human-readable manufacturer name.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Manufacturer name if found in enum, otherwise "UNKNOWN (id)".</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span><span class=o>.</span><span class=n>get_manufacturer_name</span><span class=p>()</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=go>&#39;GARMIN&#39;</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-689>689</a></span>
<span class=normal><a href=#__codelineno-0-690>690</a></span>
<span class=normal><a href=#__codelineno-0-691>691</a></span>
<span class=normal><a href=#__codelineno-0-692>692</a></span>
<span class=normal><a href=#__codelineno-0-693>693</a></span>
<span class=normal><a href=#__codelineno-0-694>694</a></span>
<span class=normal><a href=#__codelineno-0-695>695</a></span>
<span class=normal><a href=#__codelineno-0-696>696</a></span>
<span class=normal><a href=#__codelineno-0-697>697</a></span>
<span class=normal><a href=#__codelineno-0-698>698</a></span>
<span class=normal><a href=#__codelineno-0-699>699</a></span>
<span class=normal><a href=#__codelineno-0-700>700</a></span>
<span class=normal><a href=#__codelineno-0-701>701</a></span>
<span class=normal><a href=#__codelineno-0-702>702</a></span>
<span class=normal><a href=#__codelineno-0-703>703</a></span>
<span class=normal><a href=#__codelineno-0-704>704</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-689><a id=__codelineno-0-689 name=__codelineno-0-689></a><span class=k>def</span><span class=w> </span><span class=nf>get_manufacturer_name</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span><span id=__span-0-690><a id=__codelineno-0-690 name=__codelineno-0-690></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get human-readable manufacturer name.</span>
</span><span id=__span-0-691><a id=__codelineno-0-691 name=__codelineno-0-691></a>
</span><span id=__span-0-692><a id=__codelineno-0-692 name=__codelineno-0-692></a><span class=sd>    Returns:</span>
</span><span id=__span-0-693><a id=__codelineno-0-693 name=__codelineno-0-693></a><span class=sd>        Manufacturer name if found in enum, otherwise &quot;UNKNOWN (id)&quot;.</span>
</span><span id=__span-0-694><a id=__codelineno-0-694 name=__codelineno-0-694></a>
</span><span id=__span-0-695><a id=__codelineno-0-695 name=__codelineno-0-695></a><span class=sd>    Examples:</span>
</span><span id=__span-0-696><a id=__codelineno-0-696 name=__codelineno-0-696></a><span class=sd>        &gt;&gt;&gt; profile.get_manufacturer_name()</span>
</span><span id=__span-0-697><a id=__codelineno-0-697 name=__codelineno-0-697></a><span class=sd>        &#39;GARMIN&#39;</span>
</span><span id=__span-0-698><a id=__codelineno-0-698 name=__codelineno-0-698></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-699><a id=__codelineno-0-699 name=__codelineno-0-699></a>    <span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.vendor.fit_tool.profile.profile_type</span><span class=w> </span><span class=kn>import</span> <span class=n>Manufacturer</span>
</span><span id=__span-0-700><a id=__codelineno-0-700 name=__codelineno-0-700></a>
</span><span id=__span-0-701><a id=__codelineno-0-701 name=__codelineno-0-701></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-702><a id=__codelineno-0-702 name=__codelineno-0-702></a>        <span class=k>return</span> <span class=n>Manufacturer</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>manufacturer</span><span class=p>)</span><span class=o>.</span><span class=n>name</span>
</span><span id=__span-0-703><a id=__codelineno-0-703 name=__codelineno-0-703></a>    <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span><span id=__span-0-704><a id=__codelineno-0-704 name=__codelineno-0-704></a>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;UNKNOWN (</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>manufacturer</span><span class=si>}</span><span class=s2>)&quot;</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.Profile.validate_serial_number class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">validate_serial_number</span> <a href=#fit_file_faker.config.Profile.validate_serial_number class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>validate_serial_number</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Validate that serial_number is valid for FIT spec (uint32z).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>True if serial_number is valid (1,000,000,000 to 4,294,967,295), False otherwise.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span> <span class=o>=</span> <span class=mi>1234567890</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span><span class=o>.</span><span class=n>validate_serial_number</span><span class=p>()</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=go>True</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-734>734</a></span>
<span class=normal><a href=#__codelineno-0-735>735</a></span>
<span class=normal><a href=#__codelineno-0-736>736</a></span>
<span class=normal><a href=#__codelineno-0-737>737</a></span>
<span class=normal><a href=#__codelineno-0-738>738</a></span>
<span class=normal><a href=#__codelineno-0-739>739</a></span>
<span class=normal><a href=#__codelineno-0-740>740</a></span>
<span class=normal><a href=#__codelineno-0-741>741</a></span>
<span class=normal><a href=#__codelineno-0-742>742</a></span>
<span class=normal><a href=#__codelineno-0-743>743</a></span>
<span class=normal><a href=#__codelineno-0-744>744</a></span>
<span class=normal><a href=#__codelineno-0-745>745</a></span>
<span class=normal><a href=#__codelineno-0-746>746</a></span>
<span class=normal><a href=#__codelineno-0-747>747</a></span>
<span class=normal><a href=#__codelineno-0-748>748</a></span>
<span class=normal><a href=#__codelineno-0-749>749</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-734><a id=__codelineno-0-734 name=__codelineno-0-734></a><span class=k>def</span><span class=w> </span><span class=nf>validate_serial_number</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-0-735><a id=__codelineno-0-735 name=__codelineno-0-735></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that serial_number is valid for FIT spec (uint32z).</span>
</span><span id=__span-0-736><a id=__codelineno-0-736 name=__codelineno-0-736></a>
</span><span id=__span-0-737><a id=__codelineno-0-737 name=__codelineno-0-737></a><span class=sd>    Returns:</span>
</span><span id=__span-0-738><a id=__codelineno-0-738 name=__codelineno-0-738></a><span class=sd>        True if serial_number is valid (1,000,000,000 to 4,294,967,295), False otherwise.</span>
</span><span id=__span-0-739><a id=__codelineno-0-739 name=__codelineno-0-739></a>
</span><span id=__span-0-740><a id=__codelineno-0-740 name=__codelineno-0-740></a><span class=sd>    Examples:</span>
</span><span id=__span-0-741><a id=__codelineno-0-741 name=__codelineno-0-741></a><span class=sd>        &gt;&gt;&gt; profile.serial_number = 1234567890</span>
</span><span id=__span-0-742><a id=__codelineno-0-742 name=__codelineno-0-742></a><span class=sd>        &gt;&gt;&gt; profile.validate_serial_number()</span>
</span><span id=__span-0-743><a id=__codelineno-0-743 name=__codelineno-0-743></a><span class=sd>        True</span>
</span><span id=__span-0-744><a id=__codelineno-0-744 name=__codelineno-0-744></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-745><a id=__codelineno-0-745 name=__codelineno-0-745></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>serial_number</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-746><a id=__codelineno-0-746 name=__codelineno-0-746></a>        <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-0-747><a id=__codelineno-0-747 name=__codelineno-0-747></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>serial_number</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-748><a id=__codelineno-0-748 name=__codelineno-0-748></a>        <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-0-749><a id=__codelineno-0-749 name=__codelineno-0-749></a>    <span class=k>return</span> <span class=mi>1_000_000_000</span> <span class=o>&lt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>serial_number</span> <span class=o>&lt;=</span> <span class=mi>4_294_967_295</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=fit_file_faker.config.ProfileManager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ProfileManager</span> <a href=#fit_file_faker.config.ProfileManager class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>ProfileManager</span><span class=p>(</span><span class=n>config_manager</span><span class=p>:</span> <span class=n>ConfigManager</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Manages profile CRUD operations and TUI interactions.</p> <p>Provides methods for creating, reading, updating, and deleting profiles, as well as interactive TUI wizards for profile management.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=fit_file_faker.config.ProfileManager.config_manager>config_manager</span></code></td> <td> </td> <td> <div class=doc-md-description> <p>Reference to the global ConfigManager instance.</p> </div> </td> </tr> </tbody> </table> <p>Initialize ProfileManager with config manager reference.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_manager</code> </td> <td> <code><a class="autorefs autorefs-internal" title="            ConfigManager (fit_file_faker.config.ConfigManager)" href=#fit_file_faker.config.ConfigManager>ConfigManager</a></code> </td> <td> <div class=doc-md-description> <p>The ConfigManager instance to use for persistence.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1304>1304</a></span>
<span class=normal><a href=#__codelineno-0-1305>1305</a></span>
<span class=normal><a href=#__codelineno-0-1306>1306</a></span>
<span class=normal><a href=#__codelineno-0-1307>1307</a></span>
<span class=normal><a href=#__codelineno-0-1308>1308</a></span>
<span class=normal><a href=#__codelineno-0-1309>1309</a></span>
<span class=normal><a href=#__codelineno-0-1310>1310</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1304><a id=__codelineno-0-1304 name=__codelineno-0-1304></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config_manager</span><span class=p>:</span> <span class=n>ConfigManager</span><span class=p>):</span>
</span><span id=__span-0-1305><a id=__codelineno-0-1305 name=__codelineno-0-1305></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize ProfileManager with config manager reference.</span>
</span><span id=__span-0-1306><a id=__codelineno-0-1306 name=__codelineno-0-1306></a>
</span><span id=__span-0-1307><a id=__codelineno-0-1307 name=__codelineno-0-1307></a><span class=sd>    Args:</span>
</span><span id=__span-0-1308><a id=__codelineno-0-1308 name=__codelineno-0-1308></a><span class=sd>        config_manager: The ConfigManager instance to use for persistence.</span>
</span><span id=__span-0-1309><a id=__codelineno-0-1309 name=__codelineno-0-1309></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1310><a id=__codelineno-0-1310 name=__codelineno-0-1310></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span> <span class=o>=</span> <span class=n>config_manager</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.create_profile class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">create_profile</span> <a href=#fit_file_faker.config.ProfileManager.create_profile class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>create_profile</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>app_type</span><span class=p>:</span> <span class=n>AppType</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>garmin_username</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>garmin_password</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>fitfiles_path</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=n>manufacturer</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>device</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>    <span class=n>serial_number</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>    <span class=n>software_version</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a new profile and add it to config.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Unique profile name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>app_type</code> </td> <td> <code><a class="autorefs autorefs-internal" title="            AppType (fit_file_faker.config.AppType)" href=#fit_file_faker.config.AppType>AppType</a></code> </td> <td> <div class=doc-md-description> <p>Type of trainer application.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>garmin_username</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Garmin Connect email.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>garmin_password</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Garmin Connect password.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>fitfiles_path</code> </td> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Path to FIT files directory.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>manufacturer</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Manufacturer ID for device simulation (defaults to Garmin).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>device</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Device/product ID for device simulation (defaults to Edge 830).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>serial_number</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Device serial number (defaults to auto-generated 10-digit number).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>software_version</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Firmware version in FIT format (e.g., 2922 = v29.22). If None, no FileCreatorMessage will be added to FIT files.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a></code> </td> <td> <div class=doc-md-description> <p>The newly created Profile object.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=ValueError>ValueError</span></code> </td> <td> <div class=doc-md-description> <p>If profile name already exists.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>manager</span> <span class=o>=</span> <span class=n>ProfileManager</span><span class=p>(</span><span class=n>config_manager</span><span class=p>)</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>profile</span> <span class=o>=</span> <span class=n>manager</span><span class=o>.</span><span class=n>create_profile</span><span class=p>(</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>... </span>    <span class=s2>&quot;zwift&quot;</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>... </span>    <span class=n>AppType</span><span class=o>.</span><span class=n>ZWIFT</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>... </span>    <span class=s2>&quot;user@example.com&quot;</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>... </span>    <span class=s2>&quot;secret&quot;</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/path/to/fitfiles&quot;</span><span class=p>)</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1312>1312</a></span>
<span class=normal><a href=#__codelineno-0-1313>1313</a></span>
<span class=normal><a href=#__codelineno-0-1314>1314</a></span>
<span class=normal><a href=#__codelineno-0-1315>1315</a></span>
<span class=normal><a href=#__codelineno-0-1316>1316</a></span>
<span class=normal><a href=#__codelineno-0-1317>1317</a></span>
<span class=normal><a href=#__codelineno-0-1318>1318</a></span>
<span class=normal><a href=#__codelineno-0-1319>1319</a></span>
<span class=normal><a href=#__codelineno-0-1320>1320</a></span>
<span class=normal><a href=#__codelineno-0-1321>1321</a></span>
<span class=normal><a href=#__codelineno-0-1322>1322</a></span>
<span class=normal><a href=#__codelineno-0-1323>1323</a></span>
<span class=normal><a href=#__codelineno-0-1324>1324</a></span>
<span class=normal><a href=#__codelineno-0-1325>1325</a></span>
<span class=normal><a href=#__codelineno-0-1326>1326</a></span>
<span class=normal><a href=#__codelineno-0-1327>1327</a></span>
<span class=normal><a href=#__codelineno-0-1328>1328</a></span>
<span class=normal><a href=#__codelineno-0-1329>1329</a></span>
<span class=normal><a href=#__codelineno-0-1330>1330</a></span>
<span class=normal><a href=#__codelineno-0-1331>1331</a></span>
<span class=normal><a href=#__codelineno-0-1332>1332</a></span>
<span class=normal><a href=#__codelineno-0-1333>1333</a></span>
<span class=normal><a href=#__codelineno-0-1334>1334</a></span>
<span class=normal><a href=#__codelineno-0-1335>1335</a></span>
<span class=normal><a href=#__codelineno-0-1336>1336</a></span>
<span class=normal><a href=#__codelineno-0-1337>1337</a></span>
<span class=normal><a href=#__codelineno-0-1338>1338</a></span>
<span class=normal><a href=#__codelineno-0-1339>1339</a></span>
<span class=normal><a href=#__codelineno-0-1340>1340</a></span>
<span class=normal><a href=#__codelineno-0-1341>1341</a></span>
<span class=normal><a href=#__codelineno-0-1342>1342</a></span>
<span class=normal><a href=#__codelineno-0-1343>1343</a></span>
<span class=normal><a href=#__codelineno-0-1344>1344</a></span>
<span class=normal><a href=#__codelineno-0-1345>1345</a></span>
<span class=normal><a href=#__codelineno-0-1346>1346</a></span>
<span class=normal><a href=#__codelineno-0-1347>1347</a></span>
<span class=normal><a href=#__codelineno-0-1348>1348</a></span>
<span class=normal><a href=#__codelineno-0-1349>1349</a></span>
<span class=normal><a href=#__codelineno-0-1350>1350</a></span>
<span class=normal><a href=#__codelineno-0-1351>1351</a></span>
<span class=normal><a href=#__codelineno-0-1352>1352</a></span>
<span class=normal><a href=#__codelineno-0-1353>1353</a></span>
<span class=normal><a href=#__codelineno-0-1354>1354</a></span>
<span class=normal><a href=#__codelineno-0-1355>1355</a></span>
<span class=normal><a href=#__codelineno-0-1356>1356</a></span>
<span class=normal><a href=#__codelineno-0-1357>1357</a></span>
<span class=normal><a href=#__codelineno-0-1358>1358</a></span>
<span class=normal><a href=#__codelineno-0-1359>1359</a></span>
<span class=normal><a href=#__codelineno-0-1360>1360</a></span>
<span class=normal><a href=#__codelineno-0-1361>1361</a></span>
<span class=normal><a href=#__codelineno-0-1362>1362</a></span>
<span class=normal><a href=#__codelineno-0-1363>1363</a></span>
<span class=normal><a href=#__codelineno-0-1364>1364</a></span>
<span class=normal><a href=#__codelineno-0-1365>1365</a></span>
<span class=normal><a href=#__codelineno-0-1366>1366</a></span>
<span class=normal><a href=#__codelineno-0-1367>1367</a></span>
<span class=normal><a href=#__codelineno-0-1368>1368</a></span>
<span class=normal><a href=#__codelineno-0-1369>1369</a></span>
<span class=normal><a href=#__codelineno-0-1370>1370</a></span>
<span class=normal><a href=#__codelineno-0-1371>1371</a></span>
<span class=normal><a href=#__codelineno-0-1372>1372</a></span>
<span class=normal><a href=#__codelineno-0-1373>1373</a></span>
<span class=normal><a href=#__codelineno-0-1374>1374</a></span>
<span class=normal><a href=#__codelineno-0-1375>1375</a></span>
<span class=normal><a href=#__codelineno-0-1376>1376</a></span>
<span class=normal><a href=#__codelineno-0-1377>1377</a></span>
<span class=normal><a href=#__codelineno-0-1378>1378</a></span>
<span class=normal><a href=#__codelineno-0-1379>1379</a></span>
<span class=normal><a href=#__codelineno-0-1380>1380</a></span>
<span class=normal><a href=#__codelineno-0-1381>1381</a></span>
<span class=normal><a href=#__codelineno-0-1382>1382</a></span>
<span class=normal><a href=#__codelineno-0-1383>1383</a></span>
<span class=normal><a href=#__codelineno-0-1384>1384</a></span>
<span class=normal><a href=#__codelineno-0-1385>1385</a></span>
<span class=normal><a href=#__codelineno-0-1386>1386</a></span>
<span class=normal><a href=#__codelineno-0-1387>1387</a></span>
<span class=normal><a href=#__codelineno-0-1388>1388</a></span>
<span class=normal><a href=#__codelineno-0-1389>1389</a></span>
<span class=normal><a href=#__codelineno-0-1390>1390</a></span>
<span class=normal><a href=#__codelineno-0-1391>1391</a></span>
<span class=normal><a href=#__codelineno-0-1392>1392</a></span>
<span class=normal><a href=#__codelineno-0-1393>1393</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1312><a id=__codelineno-0-1312 name=__codelineno-0-1312></a><span class=k>def</span><span class=w> </span><span class=nf>create_profile</span><span class=p>(</span>
</span><span id=__span-0-1313><a id=__codelineno-0-1313 name=__codelineno-0-1313></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-1314><a id=__codelineno-0-1314 name=__codelineno-0-1314></a>    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-1315><a id=__codelineno-0-1315 name=__codelineno-0-1315></a>    <span class=n>app_type</span><span class=p>:</span> <span class=n>AppType</span><span class=p>,</span>
</span><span id=__span-0-1316><a id=__codelineno-0-1316 name=__codelineno-0-1316></a>    <span class=n>garmin_username</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-1317><a id=__codelineno-0-1317 name=__codelineno-0-1317></a>    <span class=n>garmin_password</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-1318><a id=__codelineno-0-1318 name=__codelineno-0-1318></a>    <span class=n>fitfiles_path</span><span class=p>:</span> <span class=n>Path</span><span class=p>,</span>
</span><span id=__span-0-1319><a id=__codelineno-0-1319 name=__codelineno-0-1319></a>    <span class=n>manufacturer</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1320><a id=__codelineno-0-1320 name=__codelineno-0-1320></a>    <span class=n>device</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1321><a id=__codelineno-0-1321 name=__codelineno-0-1321></a>    <span class=n>serial_number</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1322><a id=__codelineno-0-1322 name=__codelineno-0-1322></a>    <span class=n>software_version</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1323><a id=__codelineno-0-1323 name=__codelineno-0-1323></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span><span class=p>:</span>
</span><span id=__span-0-1324><a id=__codelineno-0-1324 name=__codelineno-0-1324></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a new profile and add it to config.</span>
</span><span id=__span-0-1325><a id=__codelineno-0-1325 name=__codelineno-0-1325></a>
</span><span id=__span-0-1326><a id=__codelineno-0-1326 name=__codelineno-0-1326></a><span class=sd>    Args:</span>
</span><span id=__span-0-1327><a id=__codelineno-0-1327 name=__codelineno-0-1327></a><span class=sd>        name: Unique profile name.</span>
</span><span id=__span-0-1328><a id=__codelineno-0-1328 name=__codelineno-0-1328></a><span class=sd>        app_type: Type of trainer application.</span>
</span><span id=__span-0-1329><a id=__codelineno-0-1329 name=__codelineno-0-1329></a><span class=sd>        garmin_username: Garmin Connect email.</span>
</span><span id=__span-0-1330><a id=__codelineno-0-1330 name=__codelineno-0-1330></a><span class=sd>        garmin_password: Garmin Connect password.</span>
</span><span id=__span-0-1331><a id=__codelineno-0-1331 name=__codelineno-0-1331></a><span class=sd>        fitfiles_path: Path to FIT files directory.</span>
</span><span id=__span-0-1332><a id=__codelineno-0-1332 name=__codelineno-0-1332></a><span class=sd>        manufacturer: Manufacturer ID for device simulation (defaults to Garmin).</span>
</span><span id=__span-0-1333><a id=__codelineno-0-1333 name=__codelineno-0-1333></a><span class=sd>        device: Device/product ID for device simulation (defaults to Edge 830).</span>
</span><span id=__span-0-1334><a id=__codelineno-0-1334 name=__codelineno-0-1334></a><span class=sd>        serial_number: Device serial number (defaults to auto-generated 10-digit number).</span>
</span><span id=__span-0-1335><a id=__codelineno-0-1335 name=__codelineno-0-1335></a><span class=sd>        software_version: Firmware version in FIT format (e.g., 2922 = v29.22). If None,</span>
</span><span id=__span-0-1336><a id=__codelineno-0-1336 name=__codelineno-0-1336></a><span class=sd>            no FileCreatorMessage will be added to FIT files.</span>
</span><span id=__span-0-1337><a id=__codelineno-0-1337 name=__codelineno-0-1337></a>
</span><span id=__span-0-1338><a id=__codelineno-0-1338 name=__codelineno-0-1338></a><span class=sd>    Returns:</span>
</span><span id=__span-0-1339><a id=__codelineno-0-1339 name=__codelineno-0-1339></a><span class=sd>        The newly created Profile object.</span>
</span><span id=__span-0-1340><a id=__codelineno-0-1340 name=__codelineno-0-1340></a>
</span><span id=__span-0-1341><a id=__codelineno-0-1341 name=__codelineno-0-1341></a><span class=sd>    Raises:</span>
</span><span id=__span-0-1342><a id=__codelineno-0-1342 name=__codelineno-0-1342></a><span class=sd>        ValueError: If profile name already exists.</span>
</span><span id=__span-0-1343><a id=__codelineno-0-1343 name=__codelineno-0-1343></a>
</span><span id=__span-0-1344><a id=__codelineno-0-1344 name=__codelineno-0-1344></a><span class=sd>    Examples:</span>
</span><span id=__span-0-1345><a id=__codelineno-0-1345 name=__codelineno-0-1345></a><span class=sd>        &gt;&gt;&gt; manager = ProfileManager(config_manager)</span>
</span><span id=__span-0-1346><a id=__codelineno-0-1346 name=__codelineno-0-1346></a><span class=sd>        &gt;&gt;&gt; profile = manager.create_profile(</span>
</span><span id=__span-0-1347><a id=__codelineno-0-1347 name=__codelineno-0-1347></a><span class=sd>        ...     &quot;zwift&quot;,</span>
</span><span id=__span-0-1348><a id=__codelineno-0-1348 name=__codelineno-0-1348></a><span class=sd>        ...     AppType.ZWIFT,</span>
</span><span id=__span-0-1349><a id=__codelineno-0-1349 name=__codelineno-0-1349></a><span class=sd>        ...     &quot;user@example.com&quot;,</span>
</span><span id=__span-0-1350><a id=__codelineno-0-1350 name=__codelineno-0-1350></a><span class=sd>        ...     &quot;secret&quot;,</span>
</span><span id=__span-0-1351><a id=__codelineno-0-1351 name=__codelineno-0-1351></a><span class=sd>        ...     Path(&quot;/path/to/fitfiles&quot;)</span>
</span><span id=__span-0-1352><a id=__codelineno-0-1352 name=__codelineno-0-1352></a><span class=sd>        ... )</span>
</span><span id=__span-0-1353><a id=__codelineno-0-1353 name=__codelineno-0-1353></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1354><a id=__codelineno-0-1354 name=__codelineno-0-1354></a>    <span class=c1># Check if profile name already exists</span>
</span><span id=__span-0-1355><a id=__codelineno-0-1355 name=__codelineno-0-1355></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=n>name</span><span class=p>):</span>
</span><span id=__span-0-1356><a id=__codelineno-0-1356 name=__codelineno-0-1356></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Profile &quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot; already exists&#39;</span><span class=p>)</span>
</span><span id=__span-0-1357><a id=__codelineno-0-1357 name=__codelineno-0-1357></a>
</span><span id=__span-0-1358><a id=__codelineno-0-1358 name=__codelineno-0-1358></a>    <span class=c1># Auto-lookup software_version from device if not provided</span>
</span><span id=__span-0-1359><a id=__codelineno-0-1359 name=__codelineno-0-1359></a>    <span class=k>if</span> <span class=n>software_version</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>device</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1360><a id=__codelineno-0-1360 name=__codelineno-0-1360></a>        <span class=n>device_info</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span>
</span><span id=__span-0-1361><a id=__codelineno-0-1361 name=__codelineno-0-1361></a>            <span class=p>(</span><span class=n>d</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span> <span class=k>if</span> <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>device</span><span class=p>),</span> <span class=kc>None</span>
</span><span id=__span-0-1362><a id=__codelineno-0-1362 name=__codelineno-0-1362></a>        <span class=p>)</span>
</span><span id=__span-0-1363><a id=__codelineno-0-1363 name=__codelineno-0-1363></a>        <span class=k>if</span> <span class=n>device_info</span> <span class=ow>and</span> <span class=n>device_info</span><span class=o>.</span><span class=n>software_version</span><span class=p>:</span>
</span><span id=__span-0-1364><a id=__codelineno-0-1364 name=__codelineno-0-1364></a>            <span class=n>software_version</span> <span class=o>=</span> <span class=n>device_info</span><span class=o>.</span><span class=n>software_version</span>
</span><span id=__span-0-1365><a id=__codelineno-0-1365 name=__codelineno-0-1365></a>
</span><span id=__span-0-1366><a id=__codelineno-0-1366 name=__codelineno-0-1366></a>    <span class=c1># Create new profile</span>
</span><span id=__span-0-1367><a id=__codelineno-0-1367 name=__codelineno-0-1367></a>    <span class=n>profile</span> <span class=o>=</span> <span class=n>Profile</span><span class=p>(</span>
</span><span id=__span-0-1368><a id=__codelineno-0-1368 name=__codelineno-0-1368></a>        <span class=n>name</span><span class=o>=</span><span class=n>name</span><span class=p>,</span>
</span><span id=__span-0-1369><a id=__codelineno-0-1369 name=__codelineno-0-1369></a>        <span class=n>app_type</span><span class=o>=</span><span class=n>app_type</span><span class=p>,</span>
</span><span id=__span-0-1370><a id=__codelineno-0-1370 name=__codelineno-0-1370></a>        <span class=n>garmin_username</span><span class=o>=</span><span class=n>garmin_username</span><span class=p>,</span>
</span><span id=__span-0-1371><a id=__codelineno-0-1371 name=__codelineno-0-1371></a>        <span class=n>garmin_password</span><span class=o>=</span><span class=n>garmin_password</span><span class=p>,</span>
</span><span id=__span-0-1372><a id=__codelineno-0-1372 name=__codelineno-0-1372></a>        <span class=n>fitfiles_path</span><span class=o>=</span><span class=n>fitfiles_path</span><span class=p>,</span>
</span><span id=__span-0-1373><a id=__codelineno-0-1373 name=__codelineno-0-1373></a>        <span class=n>manufacturer</span><span class=o>=</span><span class=n>manufacturer</span><span class=p>,</span>
</span><span id=__span-0-1374><a id=__codelineno-0-1374 name=__codelineno-0-1374></a>        <span class=n>device</span><span class=o>=</span><span class=n>device</span><span class=p>,</span>
</span><span id=__span-0-1375><a id=__codelineno-0-1375 name=__codelineno-0-1375></a>        <span class=n>serial_number</span><span class=o>=</span><span class=n>serial_number</span><span class=p>,</span>
</span><span id=__span-0-1376><a id=__codelineno-0-1376 name=__codelineno-0-1376></a>        <span class=n>software_version</span><span class=o>=</span><span class=n>software_version</span><span class=p>,</span>
</span><span id=__span-0-1377><a id=__codelineno-0-1377 name=__codelineno-0-1377></a>    <span class=p>)</span>
</span><span id=__span-0-1378><a id=__codelineno-0-1378 name=__codelineno-0-1378></a>
</span><span id=__span-0-1379><a id=__codelineno-0-1379 name=__codelineno-0-1379></a>    <span class=c1># Validate serial number if provided</span>
</span><span id=__span-0-1380><a id=__codelineno-0-1380 name=__codelineno-0-1380></a>    <span class=k>if</span> <span class=n>serial_number</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>profile</span><span class=o>.</span><span class=n>validate_serial_number</span><span class=p>():</span>
</span><span id=__span-0-1381><a id=__codelineno-0-1381 name=__codelineno-0-1381></a>        <span class=kn>import</span><span class=w> </span><span class=nn>random</span>
</span><span id=__span-0-1382><a id=__codelineno-0-1382 name=__codelineno-0-1382></a>
</span><span id=__span-0-1383><a id=__codelineno-0-1383 name=__codelineno-0-1383></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
</span><span id=__span-0-1384><a id=__codelineno-0-1384 name=__codelineno-0-1384></a>            <span class=sa>f</span><span class=s2>&quot;Invalid serial number </span><span class=si>{</span><span class=n>serial_number</span><span class=si>}</span><span class=s2>, generating a new one&quot;</span>
</span><span id=__span-0-1385><a id=__codelineno-0-1385 name=__codelineno-0-1385></a>        <span class=p>)</span>
</span><span id=__span-0-1386><a id=__codelineno-0-1386 name=__codelineno-0-1386></a>        <span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1_000_000_000</span><span class=p>,</span> <span class=mi>4_294_967_295</span><span class=p>)</span>
</span><span id=__span-0-1387><a id=__codelineno-0-1387 name=__codelineno-0-1387></a>
</span><span id=__span-0-1388><a id=__codelineno-0-1388 name=__codelineno-0-1388></a>    <span class=c1># Add to config and save</span>
</span><span id=__span-0-1389><a id=__codelineno-0-1389 name=__codelineno-0-1389></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>profile</span><span class=p>)</span>
</span><span id=__span-0-1390><a id=__codelineno-0-1390 name=__codelineno-0-1390></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>save_config</span><span class=p>()</span>
</span><span id=__span-0-1391><a id=__codelineno-0-1391 name=__codelineno-0-1391></a>
</span><span id=__span-0-1392><a id=__codelineno-0-1392 name=__codelineno-0-1392></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Created profile &quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-1393><a id=__codelineno-0-1393 name=__codelineno-0-1393></a>    <span class=k>return</span> <span class=n>profile</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.create_profile_wizard class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">create_profile_wizard</span> <a href=#fit_file_faker.config.ProfileManager.create_profile_wizard class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>create_profile_wizard</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Profile</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Interactive wizard for creating a new profile.</p> <p>Follows app-first flow: 1. Select app type 2. Auto-detect directory (with confirm/override) 3. Enter Garmin credentials 4. Enter profile name</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a> | None</code> </td> <td> <div class=doc-md-description> <p>The newly created Profile, or None if cancelled.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1654>1654</a></span>
<span class=normal><a href=#__codelineno-0-1655>1655</a></span>
<span class=normal><a href=#__codelineno-0-1656>1656</a></span>
<span class=normal><a href=#__codelineno-0-1657>1657</a></span>
<span class=normal><a href=#__codelineno-0-1658>1658</a></span>
<span class=normal><a href=#__codelineno-0-1659>1659</a></span>
<span class=normal><a href=#__codelineno-0-1660>1660</a></span>
<span class=normal><a href=#__codelineno-0-1661>1661</a></span>
<span class=normal><a href=#__codelineno-0-1662>1662</a></span>
<span class=normal><a href=#__codelineno-0-1663>1663</a></span>
<span class=normal><a href=#__codelineno-0-1664>1664</a></span>
<span class=normal><a href=#__codelineno-0-1665>1665</a></span>
<span class=normal><a href=#__codelineno-0-1666>1666</a></span>
<span class=normal><a href=#__codelineno-0-1667>1667</a></span>
<span class=normal><a href=#__codelineno-0-1668>1668</a></span>
<span class=normal><a href=#__codelineno-0-1669>1669</a></span>
<span class=normal><a href=#__codelineno-0-1670>1670</a></span>
<span class=normal><a href=#__codelineno-0-1671>1671</a></span>
<span class=normal><a href=#__codelineno-0-1672>1672</a></span>
<span class=normal><a href=#__codelineno-0-1673>1673</a></span>
<span class=normal><a href=#__codelineno-0-1674>1674</a></span>
<span class=normal><a href=#__codelineno-0-1675>1675</a></span>
<span class=normal><a href=#__codelineno-0-1676>1676</a></span>
<span class=normal><a href=#__codelineno-0-1677>1677</a></span>
<span class=normal><a href=#__codelineno-0-1678>1678</a></span>
<span class=normal><a href=#__codelineno-0-1679>1679</a></span>
<span class=normal><a href=#__codelineno-0-1680>1680</a></span>
<span class=normal><a href=#__codelineno-0-1681>1681</a></span>
<span class=normal><a href=#__codelineno-0-1682>1682</a></span>
<span class=normal><a href=#__codelineno-0-1683>1683</a></span>
<span class=normal><a href=#__codelineno-0-1684>1684</a></span>
<span class=normal><a href=#__codelineno-0-1685>1685</a></span>
<span class=normal><a href=#__codelineno-0-1686>1686</a></span>
<span class=normal><a href=#__codelineno-0-1687>1687</a></span>
<span class=normal><a href=#__codelineno-0-1688>1688</a></span>
<span class=normal><a href=#__codelineno-0-1689>1689</a></span>
<span class=normal><a href=#__codelineno-0-1690>1690</a></span>
<span class=normal><a href=#__codelineno-0-1691>1691</a></span>
<span class=normal><a href=#__codelineno-0-1692>1692</a></span>
<span class=normal><a href=#__codelineno-0-1693>1693</a></span>
<span class=normal><a href=#__codelineno-0-1694>1694</a></span>
<span class=normal><a href=#__codelineno-0-1695>1695</a></span>
<span class=normal><a href=#__codelineno-0-1696>1696</a></span>
<span class=normal><a href=#__codelineno-0-1697>1697</a></span>
<span class=normal><a href=#__codelineno-0-1698>1698</a></span>
<span class=normal><a href=#__codelineno-0-1699>1699</a></span>
<span class=normal><a href=#__codelineno-0-1700>1700</a></span>
<span class=normal><a href=#__codelineno-0-1701>1701</a></span>
<span class=normal><a href=#__codelineno-0-1702>1702</a></span>
<span class=normal><a href=#__codelineno-0-1703>1703</a></span>
<span class=normal><a href=#__codelineno-0-1704>1704</a></span>
<span class=normal><a href=#__codelineno-0-1705>1705</a></span>
<span class=normal><a href=#__codelineno-0-1706>1706</a></span>
<span class=normal><a href=#__codelineno-0-1707>1707</a></span>
<span class=normal><a href=#__codelineno-0-1708>1708</a></span>
<span class=normal><a href=#__codelineno-0-1709>1709</a></span>
<span class=normal><a href=#__codelineno-0-1710>1710</a></span>
<span class=normal><a href=#__codelineno-0-1711>1711</a></span>
<span class=normal><a href=#__codelineno-0-1712>1712</a></span>
<span class=normal><a href=#__codelineno-0-1713>1713</a></span>
<span class=normal><a href=#__codelineno-0-1714>1714</a></span>
<span class=normal><a href=#__codelineno-0-1715>1715</a></span>
<span class=normal><a href=#__codelineno-0-1716>1716</a></span>
<span class=normal><a href=#__codelineno-0-1717>1717</a></span>
<span class=normal><a href=#__codelineno-0-1718>1718</a></span>
<span class=normal><a href=#__codelineno-0-1719>1719</a></span>
<span class=normal><a href=#__codelineno-0-1720>1720</a></span>
<span class=normal><a href=#__codelineno-0-1721>1721</a></span>
<span class=normal><a href=#__codelineno-0-1722>1722</a></span>
<span class=normal><a href=#__codelineno-0-1723>1723</a></span>
<span class=normal><a href=#__codelineno-0-1724>1724</a></span>
<span class=normal><a href=#__codelineno-0-1725>1725</a></span>
<span class=normal><a href=#__codelineno-0-1726>1726</a></span>
<span class=normal><a href=#__codelineno-0-1727>1727</a></span>
<span class=normal><a href=#__codelineno-0-1728>1728</a></span>
<span class=normal><a href=#__codelineno-0-1729>1729</a></span>
<span class=normal><a href=#__codelineno-0-1730>1730</a></span>
<span class=normal><a href=#__codelineno-0-1731>1731</a></span>
<span class=normal><a href=#__codelineno-0-1732>1732</a></span>
<span class=normal><a href=#__codelineno-0-1733>1733</a></span>
<span class=normal><a href=#__codelineno-0-1734>1734</a></span>
<span class=normal><a href=#__codelineno-0-1735>1735</a></span>
<span class=normal><a href=#__codelineno-0-1736>1736</a></span>
<span class=normal><a href=#__codelineno-0-1737>1737</a></span>
<span class=normal><a href=#__codelineno-0-1738>1738</a></span>
<span class=normal><a href=#__codelineno-0-1739>1739</a></span>
<span class=normal><a href=#__codelineno-0-1740>1740</a></span>
<span class=normal><a href=#__codelineno-0-1741>1741</a></span>
<span class=normal><a href=#__codelineno-0-1742>1742</a></span>
<span class=normal><a href=#__codelineno-0-1743>1743</a></span>
<span class=normal><a href=#__codelineno-0-1744>1744</a></span>
<span class=normal><a href=#__codelineno-0-1745>1745</a></span>
<span class=normal><a href=#__codelineno-0-1746>1746</a></span>
<span class=normal><a href=#__codelineno-0-1747>1747</a></span>
<span class=normal><a href=#__codelineno-0-1748>1748</a></span>
<span class=normal><a href=#__codelineno-0-1749>1749</a></span>
<span class=normal><a href=#__codelineno-0-1750>1750</a></span>
<span class=normal><a href=#__codelineno-0-1751>1751</a></span>
<span class=normal><a href=#__codelineno-0-1752>1752</a></span>
<span class=normal><a href=#__codelineno-0-1753>1753</a></span>
<span class=normal><a href=#__codelineno-0-1754>1754</a></span>
<span class=normal><a href=#__codelineno-0-1755>1755</a></span>
<span class=normal><a href=#__codelineno-0-1756>1756</a></span>
<span class=normal><a href=#__codelineno-0-1757>1757</a></span>
<span class=normal><a href=#__codelineno-0-1758>1758</a></span>
<span class=normal><a href=#__codelineno-0-1759>1759</a></span>
<span class=normal><a href=#__codelineno-0-1760>1760</a></span>
<span class=normal><a href=#__codelineno-0-1761>1761</a></span>
<span class=normal><a href=#__codelineno-0-1762>1762</a></span>
<span class=normal><a href=#__codelineno-0-1763>1763</a></span>
<span class=normal><a href=#__codelineno-0-1764>1764</a></span>
<span class=normal><a href=#__codelineno-0-1765>1765</a></span>
<span class=normal><a href=#__codelineno-0-1766>1766</a></span>
<span class=normal><a href=#__codelineno-0-1767>1767</a></span>
<span class=normal><a href=#__codelineno-0-1768>1768</a></span>
<span class=normal><a href=#__codelineno-0-1769>1769</a></span>
<span class=normal><a href=#__codelineno-0-1770>1770</a></span>
<span class=normal><a href=#__codelineno-0-1771>1771</a></span>
<span class=normal><a href=#__codelineno-0-1772>1772</a></span>
<span class=normal><a href=#__codelineno-0-1773>1773</a></span>
<span class=normal><a href=#__codelineno-0-1774>1774</a></span>
<span class=normal><a href=#__codelineno-0-1775>1775</a></span>
<span class=normal><a href=#__codelineno-0-1776>1776</a></span>
<span class=normal><a href=#__codelineno-0-1777>1777</a></span>
<span class=normal><a href=#__codelineno-0-1778>1778</a></span>
<span class=normal><a href=#__codelineno-0-1779>1779</a></span>
<span class=normal><a href=#__codelineno-0-1780>1780</a></span>
<span class=normal><a href=#__codelineno-0-1781>1781</a></span>
<span class=normal><a href=#__codelineno-0-1782>1782</a></span>
<span class=normal><a href=#__codelineno-0-1783>1783</a></span>
<span class=normal><a href=#__codelineno-0-1784>1784</a></span>
<span class=normal><a href=#__codelineno-0-1785>1785</a></span>
<span class=normal><a href=#__codelineno-0-1786>1786</a></span>
<span class=normal><a href=#__codelineno-0-1787>1787</a></span>
<span class=normal><a href=#__codelineno-0-1788>1788</a></span>
<span class=normal><a href=#__codelineno-0-1789>1789</a></span>
<span class=normal><a href=#__codelineno-0-1790>1790</a></span>
<span class=normal><a href=#__codelineno-0-1791>1791</a></span>
<span class=normal><a href=#__codelineno-0-1792>1792</a></span>
<span class=normal><a href=#__codelineno-0-1793>1793</a></span>
<span class=normal><a href=#__codelineno-0-1794>1794</a></span>
<span class=normal><a href=#__codelineno-0-1795>1795</a></span>
<span class=normal><a href=#__codelineno-0-1796>1796</a></span>
<span class=normal><a href=#__codelineno-0-1797>1797</a></span>
<span class=normal><a href=#__codelineno-0-1798>1798</a></span>
<span class=normal><a href=#__codelineno-0-1799>1799</a></span>
<span class=normal><a href=#__codelineno-0-1800>1800</a></span>
<span class=normal><a href=#__codelineno-0-1801>1801</a></span>
<span class=normal><a href=#__codelineno-0-1802>1802</a></span>
<span class=normal><a href=#__codelineno-0-1803>1803</a></span>
<span class=normal><a href=#__codelineno-0-1804>1804</a></span>
<span class=normal><a href=#__codelineno-0-1805>1805</a></span>
<span class=normal><a href=#__codelineno-0-1806>1806</a></span>
<span class=normal><a href=#__codelineno-0-1807>1807</a></span>
<span class=normal><a href=#__codelineno-0-1808>1808</a></span>
<span class=normal><a href=#__codelineno-0-1809>1809</a></span>
<span class=normal><a href=#__codelineno-0-1810>1810</a></span>
<span class=normal><a href=#__codelineno-0-1811>1811</a></span>
<span class=normal><a href=#__codelineno-0-1812>1812</a></span>
<span class=normal><a href=#__codelineno-0-1813>1813</a></span>
<span class=normal><a href=#__codelineno-0-1814>1814</a></span>
<span class=normal><a href=#__codelineno-0-1815>1815</a></span>
<span class=normal><a href=#__codelineno-0-1816>1816</a></span>
<span class=normal><a href=#__codelineno-0-1817>1817</a></span>
<span class=normal><a href=#__codelineno-0-1818>1818</a></span>
<span class=normal><a href=#__codelineno-0-1819>1819</a></span>
<span class=normal><a href=#__codelineno-0-1820>1820</a></span>
<span class=normal><a href=#__codelineno-0-1821>1821</a></span>
<span class=normal><a href=#__codelineno-0-1822>1822</a></span>
<span class=normal><a href=#__codelineno-0-1823>1823</a></span>
<span class=normal><a href=#__codelineno-0-1824>1824</a></span>
<span class=normal><a href=#__codelineno-0-1825>1825</a></span>
<span class=normal><a href=#__codelineno-0-1826>1826</a></span>
<span class=normal><a href=#__codelineno-0-1827>1827</a></span>
<span class=normal><a href=#__codelineno-0-1828>1828</a></span>
<span class=normal><a href=#__codelineno-0-1829>1829</a></span>
<span class=normal><a href=#__codelineno-0-1830>1830</a></span>
<span class=normal><a href=#__codelineno-0-1831>1831</a></span>
<span class=normal><a href=#__codelineno-0-1832>1832</a></span>
<span class=normal><a href=#__codelineno-0-1833>1833</a></span>
<span class=normal><a href=#__codelineno-0-1834>1834</a></span>
<span class=normal><a href=#__codelineno-0-1835>1835</a></span>
<span class=normal><a href=#__codelineno-0-1836>1836</a></span>
<span class=normal><a href=#__codelineno-0-1837>1837</a></span>
<span class=normal><a href=#__codelineno-0-1838>1838</a></span>
<span class=normal><a href=#__codelineno-0-1839>1839</a></span>
<span class=normal><a href=#__codelineno-0-1840>1840</a></span>
<span class=normal><a href=#__codelineno-0-1841>1841</a></span>
<span class=normal><a href=#__codelineno-0-1842>1842</a></span>
<span class=normal><a href=#__codelineno-0-1843>1843</a></span>
<span class=normal><a href=#__codelineno-0-1844>1844</a></span>
<span class=normal><a href=#__codelineno-0-1845>1845</a></span>
<span class=normal><a href=#__codelineno-0-1846>1846</a></span>
<span class=normal><a href=#__codelineno-0-1847>1847</a></span>
<span class=normal><a href=#__codelineno-0-1848>1848</a></span>
<span class=normal><a href=#__codelineno-0-1849>1849</a></span>
<span class=normal><a href=#__codelineno-0-1850>1850</a></span>
<span class=normal><a href=#__codelineno-0-1851>1851</a></span>
<span class=normal><a href=#__codelineno-0-1852>1852</a></span>
<span class=normal><a href=#__codelineno-0-1853>1853</a></span>
<span class=normal><a href=#__codelineno-0-1854>1854</a></span>
<span class=normal><a href=#__codelineno-0-1855>1855</a></span>
<span class=normal><a href=#__codelineno-0-1856>1856</a></span>
<span class=normal><a href=#__codelineno-0-1857>1857</a></span>
<span class=normal><a href=#__codelineno-0-1858>1858</a></span>
<span class=normal><a href=#__codelineno-0-1859>1859</a></span>
<span class=normal><a href=#__codelineno-0-1860>1860</a></span>
<span class=normal><a href=#__codelineno-0-1861>1861</a></span>
<span class=normal><a href=#__codelineno-0-1862>1862</a></span>
<span class=normal><a href=#__codelineno-0-1863>1863</a></span>
<span class=normal><a href=#__codelineno-0-1864>1864</a></span>
<span class=normal><a href=#__codelineno-0-1865>1865</a></span>
<span class=normal><a href=#__codelineno-0-1866>1866</a></span>
<span class=normal><a href=#__codelineno-0-1867>1867</a></span>
<span class=normal><a href=#__codelineno-0-1868>1868</a></span>
<span class=normal><a href=#__codelineno-0-1869>1869</a></span>
<span class=normal><a href=#__codelineno-0-1870>1870</a></span>
<span class=normal><a href=#__codelineno-0-1871>1871</a></span>
<span class=normal><a href=#__codelineno-0-1872>1872</a></span>
<span class=normal><a href=#__codelineno-0-1873>1873</a></span>
<span class=normal><a href=#__codelineno-0-1874>1874</a></span>
<span class=normal><a href=#__codelineno-0-1875>1875</a></span>
<span class=normal><a href=#__codelineno-0-1876>1876</a></span>
<span class=normal><a href=#__codelineno-0-1877>1877</a></span>
<span class=normal><a href=#__codelineno-0-1878>1878</a></span>
<span class=normal><a href=#__codelineno-0-1879>1879</a></span>
<span class=normal><a href=#__codelineno-0-1880>1880</a></span>
<span class=normal><a href=#__codelineno-0-1881>1881</a></span>
<span class=normal><a href=#__codelineno-0-1882>1882</a></span>
<span class=normal><a href=#__codelineno-0-1883>1883</a></span>
<span class=normal><a href=#__codelineno-0-1884>1884</a></span>
<span class=normal><a href=#__codelineno-0-1885>1885</a></span>
<span class=normal><a href=#__codelineno-0-1886>1886</a></span>
<span class=normal><a href=#__codelineno-0-1887>1887</a></span>
<span class=normal><a href=#__codelineno-0-1888>1888</a></span>
<span class=normal><a href=#__codelineno-0-1889>1889</a></span>
<span class=normal><a href=#__codelineno-0-1890>1890</a></span>
<span class=normal><a href=#__codelineno-0-1891>1891</a></span>
<span class=normal><a href=#__codelineno-0-1892>1892</a></span>
<span class=normal><a href=#__codelineno-0-1893>1893</a></span>
<span class=normal><a href=#__codelineno-0-1894>1894</a></span>
<span class=normal><a href=#__codelineno-0-1895>1895</a></span>
<span class=normal><a href=#__codelineno-0-1896>1896</a></span>
<span class=normal><a href=#__codelineno-0-1897>1897</a></span>
<span class=normal><a href=#__codelineno-0-1898>1898</a></span>
<span class=normal><a href=#__codelineno-0-1899>1899</a></span>
<span class=normal><a href=#__codelineno-0-1900>1900</a></span>
<span class=normal><a href=#__codelineno-0-1901>1901</a></span>
<span class=normal><a href=#__codelineno-0-1902>1902</a></span>
<span class=normal><a href=#__codelineno-0-1903>1903</a></span>
<span class=normal><a href=#__codelineno-0-1904>1904</a></span>
<span class=normal><a href=#__codelineno-0-1905>1905</a></span>
<span class=normal><a href=#__codelineno-0-1906>1906</a></span>
<span class=normal><a href=#__codelineno-0-1907>1907</a></span>
<span class=normal><a href=#__codelineno-0-1908>1908</a></span>
<span class=normal><a href=#__codelineno-0-1909>1909</a></span>
<span class=normal><a href=#__codelineno-0-1910>1910</a></span>
<span class=normal><a href=#__codelineno-0-1911>1911</a></span>
<span class=normal><a href=#__codelineno-0-1912>1912</a></span>
<span class=normal><a href=#__codelineno-0-1913>1913</a></span>
<span class=normal><a href=#__codelineno-0-1914>1914</a></span>
<span class=normal><a href=#__codelineno-0-1915>1915</a></span>
<span class=normal><a href=#__codelineno-0-1916>1916</a></span>
<span class=normal><a href=#__codelineno-0-1917>1917</a></span>
<span class=normal><a href=#__codelineno-0-1918>1918</a></span>
<span class=normal><a href=#__codelineno-0-1919>1919</a></span>
<span class=normal><a href=#__codelineno-0-1920>1920</a></span>
<span class=normal><a href=#__codelineno-0-1921>1921</a></span>
<span class=normal><a href=#__codelineno-0-1922>1922</a></span>
<span class=normal><a href=#__codelineno-0-1923>1923</a></span>
<span class=normal><a href=#__codelineno-0-1924>1924</a></span>
<span class=normal><a href=#__codelineno-0-1925>1925</a></span>
<span class=normal><a href=#__codelineno-0-1926>1926</a></span>
<span class=normal><a href=#__codelineno-0-1927>1927</a></span>
<span class=normal><a href=#__codelineno-0-1928>1928</a></span>
<span class=normal><a href=#__codelineno-0-1929>1929</a></span>
<span class=normal><a href=#__codelineno-0-1930>1930</a></span>
<span class=normal><a href=#__codelineno-0-1931>1931</a></span>
<span class=normal><a href=#__codelineno-0-1932>1932</a></span>
<span class=normal><a href=#__codelineno-0-1933>1933</a></span>
<span class=normal><a href=#__codelineno-0-1934>1934</a></span>
<span class=normal><a href=#__codelineno-0-1935>1935</a></span>
<span class=normal><a href=#__codelineno-0-1936>1936</a></span>
<span class=normal><a href=#__codelineno-0-1937>1937</a></span>
<span class=normal><a href=#__codelineno-0-1938>1938</a></span>
<span class=normal><a href=#__codelineno-0-1939>1939</a></span>
<span class=normal><a href=#__codelineno-0-1940>1940</a></span>
<span class=normal><a href=#__codelineno-0-1941>1941</a></span>
<span class=normal><a href=#__codelineno-0-1942>1942</a></span>
<span class=normal><a href=#__codelineno-0-1943>1943</a></span>
<span class=normal><a href=#__codelineno-0-1944>1944</a></span>
<span class=normal><a href=#__codelineno-0-1945>1945</a></span>
<span class=normal><a href=#__codelineno-0-1946>1946</a></span>
<span class=normal><a href=#__codelineno-0-1947>1947</a></span>
<span class=normal><a href=#__codelineno-0-1948>1948</a></span>
<span class=normal><a href=#__codelineno-0-1949>1949</a></span>
<span class=normal><a href=#__codelineno-0-1950>1950</a></span>
<span class=normal><a href=#__codelineno-0-1951>1951</a></span>
<span class=normal><a href=#__codelineno-0-1952>1952</a></span>
<span class=normal><a href=#__codelineno-0-1953>1953</a></span>
<span class=normal><a href=#__codelineno-0-1954>1954</a></span>
<span class=normal><a href=#__codelineno-0-1955>1955</a></span>
<span class=normal><a href=#__codelineno-0-1956>1956</a></span>
<span class=normal><a href=#__codelineno-0-1957>1957</a></span>
<span class=normal><a href=#__codelineno-0-1958>1958</a></span>
<span class=normal><a href=#__codelineno-0-1959>1959</a></span>
<span class=normal><a href=#__codelineno-0-1960>1960</a></span>
<span class=normal><a href=#__codelineno-0-1961>1961</a></span>
<span class=normal><a href=#__codelineno-0-1962>1962</a></span>
<span class=normal><a href=#__codelineno-0-1963>1963</a></span>
<span class=normal><a href=#__codelineno-0-1964>1964</a></span>
<span class=normal><a href=#__codelineno-0-1965>1965</a></span>
<span class=normal><a href=#__codelineno-0-1966>1966</a></span>
<span class=normal><a href=#__codelineno-0-1967>1967</a></span>
<span class=normal><a href=#__codelineno-0-1968>1968</a></span>
<span class=normal><a href=#__codelineno-0-1969>1969</a></span>
<span class=normal><a href=#__codelineno-0-1970>1970</a></span>
<span class=normal><a href=#__codelineno-0-1971>1971</a></span>
<span class=normal><a href=#__codelineno-0-1972>1972</a></span>
<span class=normal><a href=#__codelineno-0-1973>1973</a></span>
<span class=normal><a href=#__codelineno-0-1974>1974</a></span>
<span class=normal><a href=#__codelineno-0-1975>1975</a></span>
<span class=normal><a href=#__codelineno-0-1976>1976</a></span>
<span class=normal><a href=#__codelineno-0-1977>1977</a></span>
<span class=normal><a href=#__codelineno-0-1978>1978</a></span>
<span class=normal><a href=#__codelineno-0-1979>1979</a></span>
<span class=normal><a href=#__codelineno-0-1980>1980</a></span>
<span class=normal><a href=#__codelineno-0-1981>1981</a></span>
<span class=normal><a href=#__codelineno-0-1982>1982</a></span>
<span class=normal><a href=#__codelineno-0-1983>1983</a></span>
<span class=normal><a href=#__codelineno-0-1984>1984</a></span>
<span class=normal><a href=#__codelineno-0-1985>1985</a></span>
<span class=normal><a href=#__codelineno-0-1986>1986</a></span>
<span class=normal><a href=#__codelineno-0-1987>1987</a></span>
<span class=normal><a href=#__codelineno-0-1988>1988</a></span>
<span class=normal><a href=#__codelineno-0-1989>1989</a></span>
<span class=normal><a href=#__codelineno-0-1990>1990</a></span>
<span class=normal><a href=#__codelineno-0-1991>1991</a></span>
<span class=normal><a href=#__codelineno-0-1992>1992</a></span>
<span class=normal><a href=#__codelineno-0-1993>1993</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1654><a id=__codelineno-0-1654 name=__codelineno-0-1654></a><span class=k>def</span><span class=w> </span><span class=nf>create_profile_wizard</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1655><a id=__codelineno-0-1655 name=__codelineno-0-1655></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Interactive wizard for creating a new profile.</span>
</span><span id=__span-0-1656><a id=__codelineno-0-1656 name=__codelineno-0-1656></a>
</span><span id=__span-0-1657><a id=__codelineno-0-1657 name=__codelineno-0-1657></a><span class=sd>    Follows app-first flow:</span>
</span><span id=__span-0-1658><a id=__codelineno-0-1658 name=__codelineno-0-1658></a><span class=sd>    1. Select app type</span>
</span><span id=__span-0-1659><a id=__codelineno-0-1659 name=__codelineno-0-1659></a><span class=sd>    2. Auto-detect directory (with confirm/override)</span>
</span><span id=__span-0-1660><a id=__codelineno-0-1660 name=__codelineno-0-1660></a><span class=sd>    3. Enter Garmin credentials</span>
</span><span id=__span-0-1661><a id=__codelineno-0-1661 name=__codelineno-0-1661></a><span class=sd>    4. Enter profile name</span>
</span><span id=__span-0-1662><a id=__codelineno-0-1662 name=__codelineno-0-1662></a>
</span><span id=__span-0-1663><a id=__codelineno-0-1663 name=__codelineno-0-1663></a><span class=sd>    Returns:</span>
</span><span id=__span-0-1664><a id=__codelineno-0-1664 name=__codelineno-0-1664></a><span class=sd>        The newly created Profile, or None if cancelled.</span>
</span><span id=__span-0-1665><a id=__codelineno-0-1665 name=__codelineno-0-1665></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1666><a id=__codelineno-0-1666 name=__codelineno-0-1666></a>    <span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.app_registry</span><span class=w> </span><span class=kn>import</span> <span class=n>get_detector</span>
</span><span id=__span-0-1667><a id=__codelineno-0-1667 name=__codelineno-0-1667></a>
</span><span id=__span-0-1668><a id=__codelineno-0-1668 name=__codelineno-0-1668></a>    <span class=n>console</span> <span class=o>=</span> <span class=n>Console</span><span class=p>()</span>
</span><span id=__span-0-1669><a id=__codelineno-0-1669 name=__codelineno-0-1669></a>    <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[bold cyan]Create New Profile[/bold cyan]&quot;</span><span class=p>)</span>
</span><span id=__span-0-1670><a id=__codelineno-0-1670 name=__codelineno-0-1670></a>
</span><span id=__span-0-1671><a id=__codelineno-0-1671 name=__codelineno-0-1671></a>    <span class=c1># Step 1: Select app type</span>
</span><span id=__span-0-1672><a id=__codelineno-0-1672 name=__codelineno-0-1672></a>    <span class=n>app_choices</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-1673><a id=__codelineno-0-1673 name=__codelineno-0-1673></a>        <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span><span class=s2>&quot;TrainingPeaks Virtual&quot;</span><span class=p>,</span> <span class=n>AppType</span><span class=o>.</span><span class=n>TP_VIRTUAL</span><span class=p>),</span>
</span><span id=__span-0-1674><a id=__codelineno-0-1674 name=__codelineno-0-1674></a>        <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span><span class=s2>&quot;Zwift&quot;</span><span class=p>,</span> <span class=n>AppType</span><span class=o>.</span><span class=n>ZWIFT</span><span class=p>),</span>
</span><span id=__span-0-1675><a id=__codelineno-0-1675 name=__codelineno-0-1675></a>        <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span><span class=s2>&quot;MyWhoosh&quot;</span><span class=p>,</span> <span class=n>AppType</span><span class=o>.</span><span class=n>MYWHOOSH</span><span class=p>),</span>
</span><span id=__span-0-1676><a id=__codelineno-0-1676 name=__codelineno-0-1676></a>        <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span><span class=s2>&quot;Custom (manual path)&quot;</span><span class=p>,</span> <span class=n>AppType</span><span class=o>.</span><span class=n>CUSTOM</span><span class=p>),</span>
</span><span id=__span-0-1677><a id=__codelineno-0-1677 name=__codelineno-0-1677></a>    <span class=p>]</span>
</span><span id=__span-0-1678><a id=__codelineno-0-1678 name=__codelineno-0-1678></a>
</span><span id=__span-0-1679><a id=__codelineno-0-1679 name=__codelineno-0-1679></a>    <span class=n>app_type</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>select</span><span class=p>(</span>
</span><span id=__span-0-1680><a id=__codelineno-0-1680 name=__codelineno-0-1680></a>        <span class=s2>&quot;Which trainer app will this profile use?&quot;</span><span class=p>,</span> <span class=n>choices</span><span class=o>=</span><span class=n>app_choices</span>
</span><span id=__span-0-1681><a id=__codelineno-0-1681 name=__codelineno-0-1681></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1682><a id=__codelineno-0-1682 name=__codelineno-0-1682></a>
</span><span id=__span-0-1683><a id=__codelineno-0-1683 name=__codelineno-0-1683></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>app_type</span><span class=p>:</span>
</span><span id=__span-0-1684><a id=__codelineno-0-1684 name=__codelineno-0-1684></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-1685><a id=__codelineno-0-1685 name=__codelineno-0-1685></a>
</span><span id=__span-0-1686><a id=__codelineno-0-1686 name=__codelineno-0-1686></a>    <span class=c1># Step 2: Directory detection</span>
</span><span id=__span-0-1687><a id=__codelineno-0-1687 name=__codelineno-0-1687></a>    <span class=n>detector</span> <span class=o>=</span> <span class=n>get_detector</span><span class=p>(</span><span class=n>app_type</span><span class=p>)</span>
</span><span id=__span-0-1688><a id=__codelineno-0-1688 name=__codelineno-0-1688></a>    <span class=n>suggested_path</span> <span class=o>=</span> <span class=n>detector</span><span class=o>.</span><span class=n>get_default_path</span><span class=p>()</span>
</span><span id=__span-0-1689><a id=__codelineno-0-1689 name=__codelineno-0-1689></a>
</span><span id=__span-0-1690><a id=__codelineno-0-1690 name=__codelineno-0-1690></a>    <span class=k>if</span> <span class=n>suggested_path</span><span class=p>:</span>
</span><span id=__span-0-1691><a id=__codelineno-0-1691 name=__codelineno-0-1691></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-1692><a id=__codelineno-0-1692 name=__codelineno-0-1692></a>            <span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[green]✓ Found </span><span class=si>{</span><span class=n>detector</span><span class=o>.</span><span class=n>get_display_name</span><span class=p>()</span><span class=si>}</span><span class=s2> directory:[/green]&quot;</span>
</span><span id=__span-0-1693><a id=__codelineno-0-1693 name=__codelineno-0-1693></a>        <span class=p>)</span>
</span><span id=__span-0-1694><a id=__codelineno-0-1694 name=__codelineno-0-1694></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;  </span><span class=si>{</span><span class=n>suggested_path</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-1695><a id=__codelineno-0-1695 name=__codelineno-0-1695></a>        <span class=n>use_detected</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>confirm</span><span class=p>(</span>
</span><span id=__span-0-1696><a id=__codelineno-0-1696 name=__codelineno-0-1696></a>            <span class=s2>&quot;Use this directory?&quot;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>True</span>
</span><span id=__span-0-1697><a id=__codelineno-0-1697 name=__codelineno-0-1697></a>        <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1698><a id=__codelineno-0-1698 name=__codelineno-0-1698></a>
</span><span id=__span-0-1699><a id=__codelineno-0-1699 name=__codelineno-0-1699></a>        <span class=k>if</span> <span class=n>use_detected</span><span class=p>:</span>
</span><span id=__span-0-1700><a id=__codelineno-0-1700 name=__codelineno-0-1700></a>            <span class=n>fitfiles_path</span> <span class=o>=</span> <span class=n>suggested_path</span>
</span><span id=__span-0-1701><a id=__codelineno-0-1701 name=__codelineno-0-1701></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1702><a id=__codelineno-0-1702 name=__codelineno-0-1702></a>            <span class=n>path_input</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>path</span><span class=p>(</span><span class=s2>&quot;Enter FIT files directory path:&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1703><a id=__codelineno-0-1703 name=__codelineno-0-1703></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>path_input</span><span class=p>:</span>
</span><span id=__span-0-1704><a id=__codelineno-0-1704 name=__codelineno-0-1704></a>                <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-1705><a id=__codelineno-0-1705 name=__codelineno-0-1705></a>            <span class=n>fitfiles_path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>path_input</span><span class=p>)</span>
</span><span id=__span-0-1706><a id=__codelineno-0-1706 name=__codelineno-0-1706></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1707><a id=__codelineno-0-1707 name=__codelineno-0-1707></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-1708><a id=__codelineno-0-1708 name=__codelineno-0-1708></a>            <span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[yellow]Could not auto-detect </span><span class=si>{</span><span class=n>detector</span><span class=o>.</span><span class=n>get_display_name</span><span class=p>()</span><span class=si>}</span><span class=s2> directory[/yellow]&quot;</span>
</span><span id=__span-0-1709><a id=__codelineno-0-1709 name=__codelineno-0-1709></a>        <span class=p>)</span>
</span><span id=__span-0-1710><a id=__codelineno-0-1710 name=__codelineno-0-1710></a>        <span class=n>path_input</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>path</span><span class=p>(</span><span class=s2>&quot;Enter FIT files directory path:&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1711><a id=__codelineno-0-1711 name=__codelineno-0-1711></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>path_input</span><span class=p>:</span>
</span><span id=__span-0-1712><a id=__codelineno-0-1712 name=__codelineno-0-1712></a>            <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-1713><a id=__codelineno-0-1713 name=__codelineno-0-1713></a>        <span class=n>fitfiles_path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>path_input</span><span class=p>)</span>
</span><span id=__span-0-1714><a id=__codelineno-0-1714 name=__codelineno-0-1714></a>
</span><span id=__span-0-1715><a id=__codelineno-0-1715 name=__codelineno-0-1715></a>    <span class=c1># Step 3: Garmin credentials</span>
</span><span id=__span-0-1716><a id=__codelineno-0-1716 name=__codelineno-0-1716></a>    <span class=n>garmin_username</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>text</span><span class=p>(</span>
</span><span id=__span-0-1717><a id=__codelineno-0-1717 name=__codelineno-0-1717></a>        <span class=s2>&quot;Enter Garmin Connect email:&quot;</span><span class=p>,</span> <span class=n>validate</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span><span id=__span-0-1718><a id=__codelineno-0-1718 name=__codelineno-0-1718></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1719><a id=__codelineno-0-1719 name=__codelineno-0-1719></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>garmin_username</span><span class=p>:</span>
</span><span id=__span-0-1720><a id=__codelineno-0-1720 name=__codelineno-0-1720></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-1721><a id=__codelineno-0-1721 name=__codelineno-0-1721></a>
</span><span id=__span-0-1722><a id=__codelineno-0-1722 name=__codelineno-0-1722></a>    <span class=n>garmin_password</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>password</span><span class=p>(</span>
</span><span id=__span-0-1723><a id=__codelineno-0-1723 name=__codelineno-0-1723></a>        <span class=s2>&quot;Enter Garmin Connect password:&quot;</span><span class=p>,</span> <span class=n>validate</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span><span id=__span-0-1724><a id=__codelineno-0-1724 name=__codelineno-0-1724></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1725><a id=__codelineno-0-1725 name=__codelineno-0-1725></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>garmin_password</span><span class=p>:</span>
</span><span id=__span-0-1726><a id=__codelineno-0-1726 name=__codelineno-0-1726></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-1727><a id=__codelineno-0-1727 name=__codelineno-0-1727></a>
</span><span id=__span-0-1728><a id=__codelineno-0-1728 name=__codelineno-0-1728></a>    <span class=c1># Step 4: Device customization (optional)</span>
</span><span id=__span-0-1729><a id=__codelineno-0-1729 name=__codelineno-0-1729></a>    <span class=n>manufacturer</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-1730><a id=__codelineno-0-1730 name=__codelineno-0-1730></a>    <span class=n>device</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-1731><a id=__codelineno-0-1731 name=__codelineno-0-1731></a>    <span class=n>serial_number</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-1732><a id=__codelineno-0-1732 name=__codelineno-0-1732></a>    <span class=n>software_version</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-1733><a id=__codelineno-0-1733 name=__codelineno-0-1733></a>    <span class=n>customize_device</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>confirm</span><span class=p>(</span>
</span><span id=__span-0-1734><a id=__codelineno-0-1734 name=__codelineno-0-1734></a>        <span class=s2>&quot;Customize device simulation? (default: Garmin Edge 830)&quot;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-0-1735><a id=__codelineno-0-1735 name=__codelineno-0-1735></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1736><a id=__codelineno-0-1736 name=__codelineno-0-1736></a>
</span><span id=__span-0-1737><a id=__codelineno-0-1737 name=__codelineno-0-1737></a>    <span class=k>if</span> <span class=n>customize_device</span><span class=p>:</span>
</span><span id=__span-0-1738><a id=__codelineno-0-1738 name=__codelineno-0-1738></a>        <span class=c1># Two-level menu: common devices first, then &quot;View all devices&quot; option</span>
</span><span id=__span-0-1739><a id=__codelineno-0-1739 name=__codelineno-0-1739></a>        <span class=n>show_all</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-1740><a id=__codelineno-0-1740 name=__codelineno-0-1740></a>        <span class=n>device_selected</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-1741><a id=__codelineno-0-1741 name=__codelineno-0-1741></a>        <span class=n>selected_device_name</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-1742><a id=__codelineno-0-1742 name=__codelineno-0-1742></a>
</span><span id=__span-0-1743><a id=__codelineno-0-1743 name=__codelineno-0-1743></a>        <span class=k>while</span> <span class=ow>not</span> <span class=n>device_selected</span><span class=p>:</span>
</span><span id=__span-0-1744><a id=__codelineno-0-1744 name=__codelineno-0-1744></a>            <span class=c1># Get list of supported devices (common or all based on show_all flag)</span>
</span><span id=__span-0-1745><a id=__codelineno-0-1745 name=__codelineno-0-1745></a>            <span class=n>supported_devices</span> <span class=o>=</span> <span class=n>get_supported_garmin_devices</span><span class=p>(</span><span class=n>show_all</span><span class=o>=</span><span class=n>show_all</span><span class=p>)</span>
</span><span id=__span-0-1746><a id=__codelineno-0-1746 name=__codelineno-0-1746></a>
</span><span id=__span-0-1747><a id=__codelineno-0-1747 name=__codelineno-0-1747></a>            <span class=c1># Build device choices for the menu</span>
</span><span id=__span-0-1748><a id=__codelineno-0-1748 name=__codelineno-0-1748></a>            <span class=n>device_choices</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-1749><a id=__codelineno-0-1749 name=__codelineno-0-1749></a>
</span><span id=__span-0-1750><a id=__codelineno-0-1750 name=__codelineno-0-1750></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>show_all</span><span class=p>:</span>
</span><span id=__span-0-1751><a id=__codelineno-0-1751 name=__codelineno-0-1751></a>                <span class=c1># Level 1: Common devices grouped by category</span>
</span><span id=__span-0-1752><a id=__codelineno-0-1752 name=__codelineno-0-1752></a>                <span class=c1># Bike computers</span>
</span><span id=__span-0-1753><a id=__codelineno-0-1753 name=__codelineno-0-1753></a>                <span class=n>bike_computers</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-1754><a id=__codelineno-0-1754 name=__codelineno-0-1754></a>                    <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span><span class=p>)</span>
</span><span id=__span-0-1755><a id=__codelineno-0-1755 name=__codelineno-0-1755></a>                    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span> <span class=ow>in</span> <span class=n>supported_devices</span>
</span><span id=__span-0-1756><a id=__codelineno-0-1756 name=__codelineno-0-1756></a>                    <span class=k>if</span> <span class=nb>any</span><span class=p>(</span>
</span><span id=__span-0-1757><a id=__codelineno-0-1757 name=__codelineno-0-1757></a>                        <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>device_id</span> <span class=ow>and</span> <span class=n>d</span><span class=o>.</span><span class=n>category</span> <span class=o>==</span> <span class=s2>&quot;bike_computer&quot;</span>
</span><span id=__span-0-1758><a id=__codelineno-0-1758 name=__codelineno-0-1758></a>                        <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span>
</span><span id=__span-0-1759><a id=__codelineno-0-1759 name=__codelineno-0-1759></a>                    <span class=p>)</span>
</span><span id=__span-0-1760><a id=__codelineno-0-1760 name=__codelineno-0-1760></a>                <span class=p>]</span>
</span><span id=__span-0-1761><a id=__codelineno-0-1761 name=__codelineno-0-1761></a>                <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span> <span class=ow>in</span> <span class=n>bike_computers</span><span class=p>:</span>
</span><span id=__span-0-1762><a id=__codelineno-0-1762 name=__codelineno-0-1762></a>                    <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-1763><a id=__codelineno-0-1763 name=__codelineno-0-1763></a>                        <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
</span><span id=__span-0-1764><a id=__codelineno-0-1764 name=__codelineno-0-1764></a>                            <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=n>device_id</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>,</span> <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>)</span>
</span><span id=__span-0-1765><a id=__codelineno-0-1765 name=__codelineno-0-1765></a>                        <span class=p>)</span>
</span><span id=__span-0-1766><a id=__codelineno-0-1766 name=__codelineno-0-1766></a>                    <span class=p>)</span>
</span><span id=__span-0-1767><a id=__codelineno-0-1767 name=__codelineno-0-1767></a>
</span><span id=__span-0-1768><a id=__codelineno-0-1768 name=__codelineno-0-1768></a>                <span class=c1># Add separator</span>
</span><span id=__span-0-1769><a id=__codelineno-0-1769 name=__codelineno-0-1769></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-1770><a id=__codelineno-0-1770 name=__codelineno-0-1770></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Separator</span><span class=p>(</span><span class=s2>&quot;───────────────────────────&quot;</span><span class=p>)</span>
</span><span id=__span-0-1771><a id=__codelineno-0-1771 name=__codelineno-0-1771></a>                <span class=p>)</span>
</span><span id=__span-0-1772><a id=__codelineno-0-1772 name=__codelineno-0-1772></a>
</span><span id=__span-0-1773><a id=__codelineno-0-1773 name=__codelineno-0-1773></a>                <span class=c1># Multisport watches</span>
</span><span id=__span-0-1774><a id=__codelineno-0-1774 name=__codelineno-0-1774></a>                <span class=n>watches</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-1775><a id=__codelineno-0-1775 name=__codelineno-0-1775></a>                    <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span><span class=p>)</span>
</span><span id=__span-0-1776><a id=__codelineno-0-1776 name=__codelineno-0-1776></a>                    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span> <span class=ow>in</span> <span class=n>supported_devices</span>
</span><span id=__span-0-1777><a id=__codelineno-0-1777 name=__codelineno-0-1777></a>                    <span class=k>if</span> <span class=nb>any</span><span class=p>(</span>
</span><span id=__span-0-1778><a id=__codelineno-0-1778 name=__codelineno-0-1778></a>                        <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>device_id</span>
</span><span id=__span-0-1779><a id=__codelineno-0-1779 name=__codelineno-0-1779></a>                        <span class=ow>and</span> <span class=n>d</span><span class=o>.</span><span class=n>category</span> <span class=o>==</span> <span class=s2>&quot;multisport_watch&quot;</span>
</span><span id=__span-0-1780><a id=__codelineno-0-1780 name=__codelineno-0-1780></a>                        <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span>
</span><span id=__span-0-1781><a id=__codelineno-0-1781 name=__codelineno-0-1781></a>                    <span class=p>)</span>
</span><span id=__span-0-1782><a id=__codelineno-0-1782 name=__codelineno-0-1782></a>                <span class=p>]</span>
</span><span id=__span-0-1783><a id=__codelineno-0-1783 name=__codelineno-0-1783></a>                <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span> <span class=ow>in</span> <span class=n>watches</span><span class=p>:</span>
</span><span id=__span-0-1784><a id=__codelineno-0-1784 name=__codelineno-0-1784></a>                    <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-1785><a id=__codelineno-0-1785 name=__codelineno-0-1785></a>                        <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
</span><span id=__span-0-1786><a id=__codelineno-0-1786 name=__codelineno-0-1786></a>                            <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=n>device_id</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>,</span> <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>)</span>
</span><span id=__span-0-1787><a id=__codelineno-0-1787 name=__codelineno-0-1787></a>                        <span class=p>)</span>
</span><span id=__span-0-1788><a id=__codelineno-0-1788 name=__codelineno-0-1788></a>                    <span class=p>)</span>
</span><span id=__span-0-1789><a id=__codelineno-0-1789 name=__codelineno-0-1789></a>
</span><span id=__span-0-1790><a id=__codelineno-0-1790 name=__codelineno-0-1790></a>                <span class=c1># Add separator and special options</span>
</span><span id=__span-0-1791><a id=__codelineno-0-1791 name=__codelineno-0-1791></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-1792><a id=__codelineno-0-1792 name=__codelineno-0-1792></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Separator</span><span class=p>(</span><span class=s2>&quot;───────────────────────────&quot;</span><span class=p>)</span>
</span><span id=__span-0-1793><a id=__codelineno-0-1793 name=__codelineno-0-1793></a>                <span class=p>)</span>
</span><span id=__span-0-1794><a id=__codelineno-0-1794 name=__codelineno-0-1794></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-1795><a id=__codelineno-0-1795 name=__codelineno-0-1795></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
</span><span id=__span-0-1796><a id=__codelineno-0-1796 name=__codelineno-0-1796></a>                        <span class=s2>&quot;View all devices (70+ options)...&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;VIEW_ALL&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-1797><a id=__codelineno-0-1797 name=__codelineno-0-1797></a>                    <span class=p>)</span>
</span><span id=__span-0-1798><a id=__codelineno-0-1798 name=__codelineno-0-1798></a>                <span class=p>)</span>
</span><span id=__span-0-1799><a id=__codelineno-0-1799 name=__codelineno-0-1799></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-1800><a id=__codelineno-0-1800 name=__codelineno-0-1800></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
</span><span id=__span-0-1801><a id=__codelineno-0-1801 name=__codelineno-0-1801></a>                        <span class=s2>&quot;Custom (enter numeric ID)&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;CUSTOM&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-1802><a id=__codelineno-0-1802 name=__codelineno-0-1802></a>                    <span class=p>)</span>
</span><span id=__span-0-1803><a id=__codelineno-0-1803 name=__codelineno-0-1803></a>                <span class=p>)</span>
</span><span id=__span-0-1804><a id=__codelineno-0-1804 name=__codelineno-0-1804></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1805><a id=__codelineno-0-1805 name=__codelineno-0-1805></a>                <span class=c1># Level 2: All devices</span>
</span><span id=__span-0-1806><a id=__codelineno-0-1806 name=__codelineno-0-1806></a>                <span class=c1># Group by category</span>
</span><span id=__span-0-1807><a id=__codelineno-0-1807 name=__codelineno-0-1807></a>                <span class=n>categories</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-1808><a id=__codelineno-0-1808 name=__codelineno-0-1808></a>                <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span> <span class=ow>in</span> <span class=n>supported_devices</span><span class=p>:</span>
</span><span id=__span-0-1809><a id=__codelineno-0-1809 name=__codelineno-0-1809></a>                    <span class=c1># Determine category</span>
</span><span id=__span-0-1810><a id=__codelineno-0-1810 name=__codelineno-0-1810></a>                    <span class=n>category</span> <span class=o>=</span> <span class=s2>&quot;Other&quot;</span>
</span><span id=__span-0-1811><a id=__codelineno-0-1811 name=__codelineno-0-1811></a>                    <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span><span class=p>:</span>
</span><span id=__span-0-1812><a id=__codelineno-0-1812 name=__codelineno-0-1812></a>                        <span class=k>if</span> <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>device_id</span><span class=p>:</span>
</span><span id=__span-0-1813><a id=__codelineno-0-1813 name=__codelineno-0-1813></a>                            <span class=n>category</span> <span class=o>=</span> <span class=n>d</span><span class=o>.</span><span class=n>category</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;_&quot;</span><span class=p>,</span> <span class=s2>&quot; &quot;</span><span class=p>)</span><span class=o>.</span><span class=n>title</span><span class=p>()</span>
</span><span id=__span-0-1814><a id=__codelineno-0-1814 name=__codelineno-0-1814></a>                            <span class=k>break</span>
</span><span id=__span-0-1815><a id=__codelineno-0-1815 name=__codelineno-0-1815></a>
</span><span id=__span-0-1816><a id=__codelineno-0-1816 name=__codelineno-0-1816></a>                    <span class=k>if</span> <span class=n>category</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>categories</span><span class=p>:</span>
</span><span id=__span-0-1817><a id=__codelineno-0-1817 name=__codelineno-0-1817></a>                        <span class=n>categories</span><span class=p>[</span><span class=n>category</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-1818><a id=__codelineno-0-1818 name=__codelineno-0-1818></a>
</span><span id=__span-0-1819><a id=__codelineno-0-1819 name=__codelineno-0-1819></a>                    <span class=n>display</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=n>device_id</span><span class=si>}</span><span class=s2>)&quot;</span>
</span><span id=__span-0-1820><a id=__codelineno-0-1820 name=__codelineno-0-1820></a>                    <span class=n>categories</span><span class=p>[</span><span class=n>category</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>display</span><span class=p>,</span> <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>)))</span>
</span><span id=__span-0-1821><a id=__codelineno-0-1821 name=__codelineno-0-1821></a>
</span><span id=__span-0-1822><a id=__codelineno-0-1822 name=__codelineno-0-1822></a>                <span class=c1># Add devices by category</span>
</span><span id=__span-0-1823><a id=__codelineno-0-1823 name=__codelineno-0-1823></a>                <span class=k>for</span> <span class=n>category</span> <span class=ow>in</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>categories</span><span class=o>.</span><span class=n>keys</span><span class=p>()):</span>
</span><span id=__span-0-1824><a id=__codelineno-0-1824 name=__codelineno-0-1824></a>                    <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-1825><a id=__codelineno-0-1825 name=__codelineno-0-1825></a>                        <span class=n>questionary</span><span class=o>.</span><span class=n>Separator</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;─── </span><span class=si>{</span><span class=n>category</span><span class=si>}</span><span class=s2> ───&quot;</span><span class=p>)</span>
</span><span id=__span-0-1826><a id=__codelineno-0-1826 name=__codelineno-0-1826></a>                    <span class=p>)</span>
</span><span id=__span-0-1827><a id=__codelineno-0-1827 name=__codelineno-0-1827></a>                    <span class=k>for</span> <span class=n>display</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>categories</span><span class=p>[</span><span class=n>category</span><span class=p>]:</span>
</span><span id=__span-0-1828><a id=__codelineno-0-1828 name=__codelineno-0-1828></a>                        <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span><span class=n>display</span><span class=p>,</span> <span class=n>value</span><span class=p>))</span>
</span><span id=__span-0-1829><a id=__codelineno-0-1829 name=__codelineno-0-1829></a>
</span><span id=__span-0-1830><a id=__codelineno-0-1830 name=__codelineno-0-1830></a>                <span class=c1># Add separator and special options</span>
</span><span id=__span-0-1831><a id=__codelineno-0-1831 name=__codelineno-0-1831></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-1832><a id=__codelineno-0-1832 name=__codelineno-0-1832></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Separator</span><span class=p>(</span><span class=s2>&quot;───────────────────────────&quot;</span><span class=p>)</span>
</span><span id=__span-0-1833><a id=__codelineno-0-1833 name=__codelineno-0-1833></a>                <span class=p>)</span>
</span><span id=__span-0-1834><a id=__codelineno-0-1834 name=__codelineno-0-1834></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-1835><a id=__codelineno-0-1835 name=__codelineno-0-1835></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span><span class=s2>&quot;Back to common devices&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;BACK&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>))</span>
</span><span id=__span-0-1836><a id=__codelineno-0-1836 name=__codelineno-0-1836></a>                <span class=p>)</span>
</span><span id=__span-0-1837><a id=__codelineno-0-1837 name=__codelineno-0-1837></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-1838><a id=__codelineno-0-1838 name=__codelineno-0-1838></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
</span><span id=__span-0-1839><a id=__codelineno-0-1839 name=__codelineno-0-1839></a>                        <span class=s2>&quot;Custom (enter numeric ID)&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;CUSTOM&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-1840><a id=__codelineno-0-1840 name=__codelineno-0-1840></a>                    <span class=p>)</span>
</span><span id=__span-0-1841><a id=__codelineno-0-1841 name=__codelineno-0-1841></a>                <span class=p>)</span>
</span><span id=__span-0-1842><a id=__codelineno-0-1842 name=__codelineno-0-1842></a>
</span><span id=__span-0-1843><a id=__codelineno-0-1843 name=__codelineno-0-1843></a>            <span class=c1># Show the menu</span>
</span><span id=__span-0-1844><a id=__codelineno-0-1844 name=__codelineno-0-1844></a>            <span class=n>selected</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>select</span><span class=p>(</span>
</span><span id=__span-0-1845><a id=__codelineno-0-1845 name=__codelineno-0-1845></a>                <span class=s2>&quot;Select Garmin device to simulate:&quot;</span><span class=p>,</span> <span class=n>choices</span><span class=o>=</span><span class=n>device_choices</span>
</span><span id=__span-0-1846><a id=__codelineno-0-1846 name=__codelineno-0-1846></a>            <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1847><a id=__codelineno-0-1847 name=__codelineno-0-1847></a>
</span><span id=__span-0-1848><a id=__codelineno-0-1848 name=__codelineno-0-1848></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>selected</span><span class=p>:</span>
</span><span id=__span-0-1849><a id=__codelineno-0-1849 name=__codelineno-0-1849></a>                <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-1850><a id=__codelineno-0-1850 name=__codelineno-0-1850></a>
</span><span id=__span-0-1851><a id=__codelineno-0-1851 name=__codelineno-0-1851></a>            <span class=c1># Extract value from Choice object if necessary (for testing)</span>
</span><span id=__span-0-1852><a id=__codelineno-0-1852 name=__codelineno-0-1852></a>            <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>selected</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>):</span>
</span><span id=__span-0-1853><a id=__codelineno-0-1853 name=__codelineno-0-1853></a>                <span class=n>selected</span> <span class=o>=</span> <span class=n>selected</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-0-1854><a id=__codelineno-0-1854 name=__codelineno-0-1854></a>
</span><span id=__span-0-1855><a id=__codelineno-0-1855 name=__codelineno-0-1855></a>            <span class=n>device_name</span><span class=p>,</span> <span class=n>device_id</span> <span class=o>=</span> <span class=n>selected</span>
</span><span id=__span-0-1856><a id=__codelineno-0-1856 name=__codelineno-0-1856></a>
</span><span id=__span-0-1857><a id=__codelineno-0-1857 name=__codelineno-0-1857></a>            <span class=k>if</span> <span class=n>device_name</span> <span class=o>==</span> <span class=s2>&quot;VIEW_ALL&quot;</span><span class=p>:</span>
</span><span id=__span-0-1858><a id=__codelineno-0-1858 name=__codelineno-0-1858></a>                <span class=c1># Switch to showing all devices</span>
</span><span id=__span-0-1859><a id=__codelineno-0-1859 name=__codelineno-0-1859></a>                <span class=n>show_all</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-1860><a id=__codelineno-0-1860 name=__codelineno-0-1860></a>                <span class=k>continue</span>
</span><span id=__span-0-1861><a id=__codelineno-0-1861 name=__codelineno-0-1861></a>            <span class=k>elif</span> <span class=n>device_name</span> <span class=o>==</span> <span class=s2>&quot;BACK&quot;</span><span class=p>:</span>
</span><span id=__span-0-1862><a id=__codelineno-0-1862 name=__codelineno-0-1862></a>                <span class=c1># Switch back to common devices</span>
</span><span id=__span-0-1863><a id=__codelineno-0-1863 name=__codelineno-0-1863></a>                <span class=n>show_all</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-1864><a id=__codelineno-0-1864 name=__codelineno-0-1864></a>                <span class=k>continue</span>
</span><span id=__span-0-1865><a id=__codelineno-0-1865 name=__codelineno-0-1865></a>            <span class=k>elif</span> <span class=n>device_name</span> <span class=o>==</span> <span class=s2>&quot;CUSTOM&quot;</span><span class=p>:</span>
</span><span id=__span-0-1866><a id=__codelineno-0-1866 name=__codelineno-0-1866></a>                <span class=c1># Allow custom numeric ID</span>
</span><span id=__span-0-1867><a id=__codelineno-0-1867 name=__codelineno-0-1867></a>                <span class=n>device_input</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>text</span><span class=p>(</span>
</span><span id=__span-0-1868><a id=__codelineno-0-1868 name=__codelineno-0-1868></a>                    <span class=s2>&quot;Enter numeric device ID:&quot;</span><span class=p>,</span>
</span><span id=__span-0-1869><a id=__codelineno-0-1869 name=__codelineno-0-1869></a>                    <span class=n>validate</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>isdigit</span><span class=p>()</span> <span class=ow>and</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>,</span>
</span><span id=__span-0-1870><a id=__codelineno-0-1870 name=__codelineno-0-1870></a>                <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1871><a id=__codelineno-0-1871 name=__codelineno-0-1871></a>
</span><span id=__span-0-1872><a id=__codelineno-0-1872 name=__codelineno-0-1872></a>                <span class=k>if</span> <span class=ow>not</span> <span class=n>device_input</span><span class=p>:</span>
</span><span id=__span-0-1873><a id=__codelineno-0-1873 name=__codelineno-0-1873></a>                    <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-1874><a id=__codelineno-0-1874 name=__codelineno-0-1874></a>
</span><span id=__span-0-1875><a id=__codelineno-0-1875 name=__codelineno-0-1875></a>                <span class=n>device</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>device_input</span><span class=p>)</span>
</span><span id=__span-0-1876><a id=__codelineno-0-1876 name=__codelineno-0-1876></a>                <span class=n>device_selected</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-1877><a id=__codelineno-0-1877 name=__codelineno-0-1877></a>
</span><span id=__span-0-1878><a id=__codelineno-0-1878 name=__codelineno-0-1878></a>                <span class=c1># Warn if device ID not in enum or supplemental registry</span>
</span><span id=__span-0-1879><a id=__codelineno-0-1879 name=__codelineno-0-1879></a>                <span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.vendor.fit_tool.profile.profile_type</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
</span><span id=__span-0-1880><a id=__codelineno-0-1880 name=__codelineno-0-1880></a>                    <span class=n>GarminProduct</span><span class=p>,</span>
</span><span id=__span-0-1881><a id=__codelineno-0-1881 name=__codelineno-0-1881></a>                <span class=p>)</span>
</span><span id=__span-0-1882><a id=__codelineno-0-1882 name=__codelineno-0-1882></a>
</span><span id=__span-0-1883><a id=__codelineno-0-1883 name=__codelineno-0-1883></a>                <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1884><a id=__codelineno-0-1884 name=__codelineno-0-1884></a>                    <span class=n>GarminProduct</span><span class=p>(</span><span class=n>device</span><span class=p>)</span>
</span><span id=__span-0-1885><a id=__codelineno-0-1885 name=__codelineno-0-1885></a>                <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span><span id=__span-0-1886><a id=__codelineno-0-1886 name=__codelineno-0-1886></a>                    <span class=c1># Check supplemental registry</span>
</span><span id=__span-0-1887><a id=__codelineno-0-1887 name=__codelineno-0-1887></a>                    <span class=n>found</span> <span class=o>=</span> <span class=nb>any</span><span class=p>(</span>
</span><span id=__span-0-1888><a id=__codelineno-0-1888 name=__codelineno-0-1888></a>                        <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>device</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span>
</span><span id=__span-0-1889><a id=__codelineno-0-1889 name=__codelineno-0-1889></a>                    <span class=p>)</span>
</span><span id=__span-0-1890><a id=__codelineno-0-1890 name=__codelineno-0-1890></a>                    <span class=k>if</span> <span class=ow>not</span> <span class=n>found</span><span class=p>:</span>
</span><span id=__span-0-1891><a id=__codelineno-0-1891 name=__codelineno-0-1891></a>                        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-1892><a id=__codelineno-0-1892 name=__codelineno-0-1892></a>                            <span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[yellow]⚠ Warning: Device ID </span><span class=si>{</span><span class=n>device</span><span class=si>}</span><span class=s2> is not recognized in the &quot;</span>
</span><span id=__span-0-1893><a id=__codelineno-0-1893 name=__codelineno-0-1893></a>                            <span class=sa>f</span><span class=s2>&quot;GarminProduct enum or supplemental registry. The profile will still be created.[/yellow]&quot;</span>
</span><span id=__span-0-1894><a id=__codelineno-0-1894 name=__codelineno-0-1894></a>                        <span class=p>)</span>
</span><span id=__span-0-1895><a id=__codelineno-0-1895 name=__codelineno-0-1895></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1896><a id=__codelineno-0-1896 name=__codelineno-0-1896></a>                <span class=c1># Device selected</span>
</span><span id=__span-0-1897><a id=__codelineno-0-1897 name=__codelineno-0-1897></a>                <span class=n>device</span> <span class=o>=</span> <span class=n>device_id</span>
</span><span id=__span-0-1898><a id=__codelineno-0-1898 name=__codelineno-0-1898></a>                <span class=n>selected_device_name</span> <span class=o>=</span> <span class=n>device_name</span>
</span><span id=__span-0-1899><a id=__codelineno-0-1899 name=__codelineno-0-1899></a>                <span class=n>device_selected</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-1900><a id=__codelineno-0-1900 name=__codelineno-0-1900></a>
</span><span id=__span-0-1901><a id=__codelineno-0-1901 name=__codelineno-0-1901></a>        <span class=c1># Look up software_version from supplemental registry</span>
</span><span id=__span-0-1902><a id=__codelineno-0-1902 name=__codelineno-0-1902></a>        <span class=k>if</span> <span class=n>device</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1903><a id=__codelineno-0-1903 name=__codelineno-0-1903></a>            <span class=n>device_info</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span>
</span><span id=__span-0-1904><a id=__codelineno-0-1904 name=__codelineno-0-1904></a>                <span class=p>(</span><span class=n>d</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span> <span class=k>if</span> <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>device</span><span class=p>),</span>
</span><span id=__span-0-1905><a id=__codelineno-0-1905 name=__codelineno-0-1905></a>                <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1906><a id=__codelineno-0-1906 name=__codelineno-0-1906></a>            <span class=p>)</span>
</span><span id=__span-0-1907><a id=__codelineno-0-1907 name=__codelineno-0-1907></a>            <span class=k>if</span> <span class=n>device_info</span> <span class=ow>and</span> <span class=n>device_info</span><span class=o>.</span><span class=n>software_version</span><span class=p>:</span>
</span><span id=__span-0-1908><a id=__codelineno-0-1908 name=__codelineno-0-1908></a>                <span class=n>software_version</span> <span class=o>=</span> <span class=n>device_info</span><span class=o>.</span><span class=n>software_version</span>
</span><span id=__span-0-1909><a id=__codelineno-0-1909 name=__codelineno-0-1909></a>
</span><span id=__span-0-1910><a id=__codelineno-0-1910 name=__codelineno-0-1910></a>        <span class=c1># Always use Garmin manufacturer for now</span>
</span><span id=__span-0-1911><a id=__codelineno-0-1911 name=__codelineno-0-1911></a>        <span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.vendor.fit_tool.profile.profile_type</span><span class=w> </span><span class=kn>import</span> <span class=n>Manufacturer</span>
</span><span id=__span-0-1912><a id=__codelineno-0-1912 name=__codelineno-0-1912></a>
</span><span id=__span-0-1913><a id=__codelineno-0-1913 name=__codelineno-0-1913></a>        <span class=n>manufacturer</span> <span class=o>=</span> <span class=n>Manufacturer</span><span class=o>.</span><span class=n>GARMIN</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-0-1914><a id=__codelineno-0-1914 name=__codelineno-0-1914></a>
</span><span id=__span-0-1915><a id=__codelineno-0-1915 name=__codelineno-0-1915></a>        <span class=c1># Ask about serial number customization</span>
</span><span id=__span-0-1916><a id=__codelineno-0-1916 name=__codelineno-0-1916></a>        <span class=n>customize_serial</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>confirm</span><span class=p>(</span>
</span><span id=__span-0-1917><a id=__codelineno-0-1917 name=__codelineno-0-1917></a>            <span class=s2>&quot;Customize serial number for this device?&quot;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-0-1918><a id=__codelineno-0-1918 name=__codelineno-0-1918></a>        <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1919><a id=__codelineno-0-1919 name=__codelineno-0-1919></a>
</span><span id=__span-0-1920><a id=__codelineno-0-1920 name=__codelineno-0-1920></a>        <span class=k>if</span> <span class=n>customize_serial</span><span class=p>:</span>
</span><span id=__span-0-1921><a id=__codelineno-0-1921 name=__codelineno-0-1921></a>            <span class=c1># Show instructions for finding device serial number</span>
</span><span id=__span-0-1922><a id=__codelineno-0-1922 name=__codelineno-0-1922></a>            <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-1923><a id=__codelineno-0-1923 name=__codelineno-0-1923></a>                <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[dim]To find your device&#39;s serial number (Unit ID):[/dim]&quot;</span>
</span><span id=__span-0-1924><a id=__codelineno-0-1924 name=__codelineno-0-1924></a>            <span class=p>)</span>
</span><span id=__span-0-1925><a id=__codelineno-0-1925 name=__codelineno-0-1925></a>            <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-1926><a id=__codelineno-0-1926 name=__codelineno-0-1926></a>                <span class=s2>&quot;[dim]  Garmin Edge: System → About → Copyright Info → Unit ID[/dim]</span><span class=se>\n</span><span class=s2>&quot;</span>
</span><span id=__span-0-1927><a id=__codelineno-0-1927 name=__codelineno-0-1927></a>            <span class=p>)</span>
</span><span id=__span-0-1928><a id=__codelineno-0-1928 name=__codelineno-0-1928></a>
</span><span id=__span-0-1929><a id=__codelineno-0-1929 name=__codelineno-0-1929></a>            <span class=n>serial_input</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>text</span><span class=p>(</span>
</span><span id=__span-0-1930><a id=__codelineno-0-1930 name=__codelineno-0-1930></a>                <span class=s2>&quot;Enter 10-digit serial number:&quot;</span><span class=p>,</span>
</span><span id=__span-0-1931><a id=__codelineno-0-1931 name=__codelineno-0-1931></a>                <span class=n>validate</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=p>(</span>
</span><span id=__span-0-1932><a id=__codelineno-0-1932 name=__codelineno-0-1932></a>                    <span class=n>x</span><span class=o>.</span><span class=n>isdigit</span><span class=p>()</span>
</span><span id=__span-0-1933><a id=__codelineno-0-1933 name=__codelineno-0-1933></a>                    <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>==</span> <span class=mi>10</span>
</span><span id=__span-0-1934><a id=__codelineno-0-1934 name=__codelineno-0-1934></a>                    <span class=ow>and</span> <span class=mi>1_000_000_000</span> <span class=o>&lt;=</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>&lt;=</span> <span class=mi>4_294_967_295</span>
</span><span id=__span-0-1935><a id=__codelineno-0-1935 name=__codelineno-0-1935></a>                <span class=p>)</span>
</span><span id=__span-0-1936><a id=__codelineno-0-1936 name=__codelineno-0-1936></a>                <span class=ow>or</span> <span class=s2>&quot;Must be a 10-digit number between 1000000000 and 4294967295&quot;</span><span class=p>,</span>
</span><span id=__span-0-1937><a id=__codelineno-0-1937 name=__codelineno-0-1937></a>            <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1938><a id=__codelineno-0-1938 name=__codelineno-0-1938></a>
</span><span id=__span-0-1939><a id=__codelineno-0-1939 name=__codelineno-0-1939></a>            <span class=k>if</span> <span class=n>serial_input</span> <span class=ow>and</span> <span class=n>serial_input</span><span class=o>.</span><span class=n>isdigit</span><span class=p>():</span>
</span><span id=__span-0-1940><a id=__codelineno-0-1940 name=__codelineno-0-1940></a>                <span class=n>serial_number</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>serial_input</span><span class=p>)</span>
</span><span id=__span-0-1941><a id=__codelineno-0-1941 name=__codelineno-0-1941></a>
</span><span id=__span-0-1942><a id=__codelineno-0-1942 name=__codelineno-0-1942></a>        <span class=k>if</span> <span class=n>serial_number</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1943><a id=__codelineno-0-1943 name=__codelineno-0-1943></a>            <span class=c1># User declined customization, generate random</span>
</span><span id=__span-0-1944><a id=__codelineno-0-1944 name=__codelineno-0-1944></a>            <span class=kn>import</span><span class=w> </span><span class=nn>random</span>
</span><span id=__span-0-1945><a id=__codelineno-0-1945 name=__codelineno-0-1945></a>
</span><span id=__span-0-1946><a id=__codelineno-0-1946 name=__codelineno-0-1946></a>            <span class=n>serial_number</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1_000_000_000</span><span class=p>,</span> <span class=mi>4_294_967_295</span><span class=p>)</span>
</span><span id=__span-0-1947><a id=__codelineno-0-1947 name=__codelineno-0-1947></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1948><a id=__codelineno-0-1948 name=__codelineno-0-1948></a>        <span class=c1># User declined device customization, still generate serial for default device</span>
</span><span id=__span-0-1949><a id=__codelineno-0-1949 name=__codelineno-0-1949></a>        <span class=kn>import</span><span class=w> </span><span class=nn>random</span>
</span><span id=__span-0-1950><a id=__codelineno-0-1950 name=__codelineno-0-1950></a>
</span><span id=__span-0-1951><a id=__codelineno-0-1951 name=__codelineno-0-1951></a>        <span class=n>serial_number</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1_000_000_000</span><span class=p>,</span> <span class=mi>4_294_967_295</span><span class=p>)</span>
</span><span id=__span-0-1952><a id=__codelineno-0-1952 name=__codelineno-0-1952></a>
</span><span id=__span-0-1953><a id=__codelineno-0-1953 name=__codelineno-0-1953></a>    <span class=c1># Display final device configuration before profile creation</span>
</span><span id=__span-0-1954><a id=__codelineno-0-1954 name=__codelineno-0-1954></a>    <span class=k>if</span> <span class=n>device</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1955><a id=__codelineno-0-1955 name=__codelineno-0-1955></a>        <span class=n>device_display</span> <span class=o>=</span> <span class=s1>&#39;&quot;Edge 830&quot; (3122)&#39;</span>
</span><span id=__span-0-1956><a id=__codelineno-0-1956 name=__codelineno-0-1956></a>    <span class=k>elif</span> <span class=n>selected_device_name</span><span class=p>:</span>
</span><span id=__span-0-1957><a id=__codelineno-0-1957 name=__codelineno-0-1957></a>        <span class=n>device_display</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;&quot;</span><span class=si>{</span><span class=n>selected_device_name</span><span class=si>}</span><span class=s1>&quot; (</span><span class=si>{</span><span class=n>device</span><span class=si>}</span><span class=s1>)&#39;</span>
</span><span id=__span-0-1958><a id=__codelineno-0-1958 name=__codelineno-0-1958></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1959><a id=__codelineno-0-1959 name=__codelineno-0-1959></a>        <span class=n>device_display</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Device </span><span class=si>{</span><span class=n>device</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-1960><a id=__codelineno-0-1960 name=__codelineno-0-1960></a>    <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[cyan]Device:[/cyan] [yellow]</span><span class=si>{</span><span class=n>device_display</span><span class=si>}</span><span class=s2>[/yellow]&quot;</span><span class=p>)</span>
</span><span id=__span-0-1961><a id=__codelineno-0-1961 name=__codelineno-0-1961></a>    <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;[cyan]Serial Number:[/cyan] [yellow]</span><span class=si>{</span><span class=n>serial_number</span><span class=si>}</span><span class=s2>[/yellow]&quot;</span><span class=p>)</span>
</span><span id=__span-0-1962><a id=__codelineno-0-1962 name=__codelineno-0-1962></a>    <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-1963><a id=__codelineno-0-1963 name=__codelineno-0-1963></a>        <span class=s2>&quot;[dim](You can change these later via the edit profile menu)[/dim]&quot;</span>
</span><span id=__span-0-1964><a id=__codelineno-0-1964 name=__codelineno-0-1964></a>    <span class=p>)</span>
</span><span id=__span-0-1965><a id=__codelineno-0-1965 name=__codelineno-0-1965></a>
</span><span id=__span-0-1966><a id=__codelineno-0-1966 name=__codelineno-0-1966></a>    <span class=c1># Step 5: Profile name</span>
</span><span id=__span-0-1967><a id=__codelineno-0-1967 name=__codelineno-0-1967></a>    <span class=n>suggested_name</span> <span class=o>=</span> <span class=n>app_type</span><span class=o>.</span><span class=n>value</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;_&quot;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-0-1968><a id=__codelineno-0-1968 name=__codelineno-0-1968></a>    <span class=n>profile_name</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>text</span><span class=p>(</span>
</span><span id=__span-0-1969><a id=__codelineno-0-1969 name=__codelineno-0-1969></a>        <span class=s2>&quot;Enter profile name:&quot;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=n>suggested_name</span><span class=p>,</span> <span class=n>validate</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span><span id=__span-0-1970><a id=__codelineno-0-1970 name=__codelineno-0-1970></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1971><a id=__codelineno-0-1971 name=__codelineno-0-1971></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profile_name</span><span class=p>:</span>
</span><span id=__span-0-1972><a id=__codelineno-0-1972 name=__codelineno-0-1972></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-1973><a id=__codelineno-0-1973 name=__codelineno-0-1973></a>
</span><span id=__span-0-1974><a id=__codelineno-0-1974 name=__codelineno-0-1974></a>    <span class=c1># Create the profile</span>
</span><span id=__span-0-1975><a id=__codelineno-0-1975 name=__codelineno-0-1975></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1976><a id=__codelineno-0-1976 name=__codelineno-0-1976></a>        <span class=n>profile</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_profile</span><span class=p>(</span>
</span><span id=__span-0-1977><a id=__codelineno-0-1977 name=__codelineno-0-1977></a>            <span class=n>name</span><span class=o>=</span><span class=n>profile_name</span><span class=p>,</span>
</span><span id=__span-0-1978><a id=__codelineno-0-1978 name=__codelineno-0-1978></a>            <span class=n>app_type</span><span class=o>=</span><span class=n>app_type</span><span class=p>,</span>
</span><span id=__span-0-1979><a id=__codelineno-0-1979 name=__codelineno-0-1979></a>            <span class=n>garmin_username</span><span class=o>=</span><span class=n>garmin_username</span><span class=p>,</span>
</span><span id=__span-0-1980><a id=__codelineno-0-1980 name=__codelineno-0-1980></a>            <span class=n>garmin_password</span><span class=o>=</span><span class=n>garmin_password</span><span class=p>,</span>
</span><span id=__span-0-1981><a id=__codelineno-0-1981 name=__codelineno-0-1981></a>            <span class=n>fitfiles_path</span><span class=o>=</span><span class=n>fitfiles_path</span><span class=p>,</span>
</span><span id=__span-0-1982><a id=__codelineno-0-1982 name=__codelineno-0-1982></a>            <span class=n>manufacturer</span><span class=o>=</span><span class=n>manufacturer</span><span class=p>,</span>
</span><span id=__span-0-1983><a id=__codelineno-0-1983 name=__codelineno-0-1983></a>            <span class=n>device</span><span class=o>=</span><span class=n>device</span><span class=p>,</span>
</span><span id=__span-0-1984><a id=__codelineno-0-1984 name=__codelineno-0-1984></a>            <span class=n>serial_number</span><span class=o>=</span><span class=n>serial_number</span><span class=p>,</span>
</span><span id=__span-0-1985><a id=__codelineno-0-1985 name=__codelineno-0-1985></a>            <span class=n>software_version</span><span class=o>=</span><span class=n>software_version</span><span class=p>,</span>
</span><span id=__span-0-1986><a id=__codelineno-0-1986 name=__codelineno-0-1986></a>        <span class=p>)</span>
</span><span id=__span-0-1987><a id=__codelineno-0-1987 name=__codelineno-0-1987></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-1988><a id=__codelineno-0-1988 name=__codelineno-0-1988></a>            <span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[green]✓ Profile &#39;</span><span class=si>{</span><span class=n>profile_name</span><span class=si>}</span><span class=s2>&#39; created successfully![/green]&quot;</span>
</span><span id=__span-0-1989><a id=__codelineno-0-1989 name=__codelineno-0-1989></a>        <span class=p>)</span>
</span><span id=__span-0-1990><a id=__codelineno-0-1990 name=__codelineno-0-1990></a>        <span class=k>return</span> <span class=n>profile</span>
</span><span id=__span-0-1991><a id=__codelineno-0-1991 name=__codelineno-0-1991></a>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-1992><a id=__codelineno-0-1992 name=__codelineno-0-1992></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[red]✗ Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>[/red]&quot;</span><span class=p>)</span>
</span><span id=__span-0-1993><a id=__codelineno-0-1993 name=__codelineno-0-1993></a>        <span class=k>return</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.delete_profile class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">delete_profile</span> <a href=#fit_file_faker.config.ProfileManager.delete_profile class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>delete_profile</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Delete a profile.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of profile to delete.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=ValueError>ValueError</span></code> </td> <td> <div class=doc-md-description> <p>If profile not found or trying to delete the only profile.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1504>1504</a></span>
<span class=normal><a href=#__codelineno-0-1505>1505</a></span>
<span class=normal><a href=#__codelineno-0-1506>1506</a></span>
<span class=normal><a href=#__codelineno-0-1507>1507</a></span>
<span class=normal><a href=#__codelineno-0-1508>1508</a></span>
<span class=normal><a href=#__codelineno-0-1509>1509</a></span>
<span class=normal><a href=#__codelineno-0-1510>1510</a></span>
<span class=normal><a href=#__codelineno-0-1511>1511</a></span>
<span class=normal><a href=#__codelineno-0-1512>1512</a></span>
<span class=normal><a href=#__codelineno-0-1513>1513</a></span>
<span class=normal><a href=#__codelineno-0-1514>1514</a></span>
<span class=normal><a href=#__codelineno-0-1515>1515</a></span>
<span class=normal><a href=#__codelineno-0-1516>1516</a></span>
<span class=normal><a href=#__codelineno-0-1517>1517</a></span>
<span class=normal><a href=#__codelineno-0-1518>1518</a></span>
<span class=normal><a href=#__codelineno-0-1519>1519</a></span>
<span class=normal><a href=#__codelineno-0-1520>1520</a></span>
<span class=normal><a href=#__codelineno-0-1521>1521</a></span>
<span class=normal><a href=#__codelineno-0-1522>1522</a></span>
<span class=normal><a href=#__codelineno-0-1523>1523</a></span>
<span class=normal><a href=#__codelineno-0-1524>1524</a></span>
<span class=normal><a href=#__codelineno-0-1525>1525</a></span>
<span class=normal><a href=#__codelineno-0-1526>1526</a></span>
<span class=normal><a href=#__codelineno-0-1527>1527</a></span>
<span class=normal><a href=#__codelineno-0-1528>1528</a></span>
<span class=normal><a href=#__codelineno-0-1529>1529</a></span>
<span class=normal><a href=#__codelineno-0-1530>1530</a></span>
<span class=normal><a href=#__codelineno-0-1531>1531</a></span>
<span class=normal><a href=#__codelineno-0-1532>1532</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1504><a id=__codelineno-0-1504 name=__codelineno-0-1504></a><span class=k>def</span><span class=w> </span><span class=nf>delete_profile</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1505><a id=__codelineno-0-1505 name=__codelineno-0-1505></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Delete a profile.</span>
</span><span id=__span-0-1506><a id=__codelineno-0-1506 name=__codelineno-0-1506></a>
</span><span id=__span-0-1507><a id=__codelineno-0-1507 name=__codelineno-0-1507></a><span class=sd>    Args:</span>
</span><span id=__span-0-1508><a id=__codelineno-0-1508 name=__codelineno-0-1508></a><span class=sd>        name: Name of profile to delete.</span>
</span><span id=__span-0-1509><a id=__codelineno-0-1509 name=__codelineno-0-1509></a>
</span><span id=__span-0-1510><a id=__codelineno-0-1510 name=__codelineno-0-1510></a><span class=sd>    Raises:</span>
</span><span id=__span-0-1511><a id=__codelineno-0-1511 name=__codelineno-0-1511></a><span class=sd>        ValueError: If profile not found or trying to delete the only profile.</span>
</span><span id=__span-0-1512><a id=__codelineno-0-1512 name=__codelineno-0-1512></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1513><a id=__codelineno-0-1513 name=__codelineno-0-1513></a>    <span class=n>profile</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-0-1514><a id=__codelineno-0-1514 name=__codelineno-0-1514></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profile</span><span class=p>:</span>
</span><span id=__span-0-1515><a id=__codelineno-0-1515 name=__codelineno-0-1515></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Profile &quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot; not found&#39;</span><span class=p>)</span>
</span><span id=__span-0-1516><a id=__codelineno-0-1516 name=__codelineno-0-1516></a>
</span><span id=__span-0-1517><a id=__codelineno-0-1517 name=__codelineno-0-1517></a>    <span class=c1># Prevent deleting the only profile</span>
</span><span id=__span-0-1518><a id=__codelineno-0-1518 name=__codelineno-0-1518></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-1519><a id=__codelineno-0-1519 name=__codelineno-0-1519></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Cannot delete the only profile&quot;</span><span class=p>)</span>
</span><span id=__span-0-1520><a id=__codelineno-0-1520 name=__codelineno-0-1520></a>
</span><span id=__span-0-1521><a id=__codelineno-0-1521 name=__codelineno-0-1521></a>    <span class=c1># Remove from profiles list</span>
</span><span id=__span-0-1522><a id=__codelineno-0-1522 name=__codelineno-0-1522></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>profile</span><span class=p>)</span>
</span><span id=__span-0-1523><a id=__codelineno-0-1523 name=__codelineno-0-1523></a>
</span><span id=__span-0-1524><a id=__codelineno-0-1524 name=__codelineno-0-1524></a>    <span class=c1># Update default if we deleted the default profile</span>
</span><span id=__span-0-1525><a id=__codelineno-0-1525 name=__codelineno-0-1525></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>default_profile</span> <span class=o>==</span> <span class=n>name</span><span class=p>:</span>
</span><span id=__span-0-1526><a id=__codelineno-0-1526 name=__codelineno-0-1526></a>        <span class=c1># Set first remaining profile as default</span>
</span><span id=__span-0-1527><a id=__codelineno-0-1527 name=__codelineno-0-1527></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>default_profile</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-0-1528><a id=__codelineno-0-1528 name=__codelineno-0-1528></a>            <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>name</span>
</span><span id=__span-0-1529><a id=__codelineno-0-1529 name=__codelineno-0-1529></a>        <span class=p>)</span>
</span><span id=__span-0-1530><a id=__codelineno-0-1530 name=__codelineno-0-1530></a>
</span><span id=__span-0-1531><a id=__codelineno-0-1531 name=__codelineno-0-1531></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>save_config</span><span class=p>()</span>
</span><span id=__span-0-1532><a id=__codelineno-0-1532 name=__codelineno-0-1532></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Deleted profile &quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.delete_profile_wizard class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">delete_profile_wizard</span> <a href=#fit_file_faker.config.ProfileManager.delete_profile_wizard class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>delete_profile_wizard</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Interactive wizard for deleting a profile with confirmation.</p> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2291>2291</a></span>
<span class=normal><a href=#__codelineno-0-2292>2292</a></span>
<span class=normal><a href=#__codelineno-0-2293>2293</a></span>
<span class=normal><a href=#__codelineno-0-2294>2294</a></span>
<span class=normal><a href=#__codelineno-0-2295>2295</a></span>
<span class=normal><a href=#__codelineno-0-2296>2296</a></span>
<span class=normal><a href=#__codelineno-0-2297>2297</a></span>
<span class=normal><a href=#__codelineno-0-2298>2298</a></span>
<span class=normal><a href=#__codelineno-0-2299>2299</a></span>
<span class=normal><a href=#__codelineno-0-2300>2300</a></span>
<span class=normal><a href=#__codelineno-0-2301>2301</a></span>
<span class=normal><a href=#__codelineno-0-2302>2302</a></span>
<span class=normal><a href=#__codelineno-0-2303>2303</a></span>
<span class=normal><a href=#__codelineno-0-2304>2304</a></span>
<span class=normal><a href=#__codelineno-0-2305>2305</a></span>
<span class=normal><a href=#__codelineno-0-2306>2306</a></span>
<span class=normal><a href=#__codelineno-0-2307>2307</a></span>
<span class=normal><a href=#__codelineno-0-2308>2308</a></span>
<span class=normal><a href=#__codelineno-0-2309>2309</a></span>
<span class=normal><a href=#__codelineno-0-2310>2310</a></span>
<span class=normal><a href=#__codelineno-0-2311>2311</a></span>
<span class=normal><a href=#__codelineno-0-2312>2312</a></span>
<span class=normal><a href=#__codelineno-0-2313>2313</a></span>
<span class=normal><a href=#__codelineno-0-2314>2314</a></span>
<span class=normal><a href=#__codelineno-0-2315>2315</a></span>
<span class=normal><a href=#__codelineno-0-2316>2316</a></span>
<span class=normal><a href=#__codelineno-0-2317>2317</a></span>
<span class=normal><a href=#__codelineno-0-2318>2318</a></span>
<span class=normal><a href=#__codelineno-0-2319>2319</a></span>
<span class=normal><a href=#__codelineno-0-2320>2320</a></span>
<span class=normal><a href=#__codelineno-0-2321>2321</a></span>
<span class=normal><a href=#__codelineno-0-2322>2322</a></span>
<span class=normal><a href=#__codelineno-0-2323>2323</a></span>
<span class=normal><a href=#__codelineno-0-2324>2324</a></span>
<span class=normal><a href=#__codelineno-0-2325>2325</a></span>
<span class=normal><a href=#__codelineno-0-2326>2326</a></span>
<span class=normal><a href=#__codelineno-0-2327>2327</a></span>
<span class=normal><a href=#__codelineno-0-2328>2328</a></span>
<span class=normal><a href=#__codelineno-0-2329>2329</a></span>
<span class=normal><a href=#__codelineno-0-2330>2330</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-2291><a id=__codelineno-0-2291 name=__codelineno-0-2291></a><span class=k>def</span><span class=w> </span><span class=nf>delete_profile_wizard</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2292><a id=__codelineno-0-2292 name=__codelineno-0-2292></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Interactive wizard for deleting a profile with confirmation.&quot;&quot;&quot;</span>
</span><span id=__span-0-2293><a id=__codelineno-0-2293 name=__codelineno-0-2293></a>    <span class=n>console</span> <span class=o>=</span> <span class=n>Console</span><span class=p>()</span>
</span><span id=__span-0-2294><a id=__codelineno-0-2294 name=__codelineno-0-2294></a>
</span><span id=__span-0-2295><a id=__codelineno-0-2295 name=__codelineno-0-2295></a>    <span class=n>profiles</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>list_profiles</span><span class=p>()</span>
</span><span id=__span-0-2296><a id=__codelineno-0-2296 name=__codelineno-0-2296></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profiles</span><span class=p>:</span>
</span><span id=__span-0-2297><a id=__codelineno-0-2297 name=__codelineno-0-2297></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;[yellow]No profiles to delete.[/yellow]&quot;</span><span class=p>)</span>
</span><span id=__span-0-2298><a id=__codelineno-0-2298 name=__codelineno-0-2298></a>        <span class=k>return</span>
</span><span id=__span-0-2299><a id=__codelineno-0-2299 name=__codelineno-0-2299></a>
</span><span id=__span-0-2300><a id=__codelineno-0-2300 name=__codelineno-0-2300></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>profiles</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-2301><a id=__codelineno-0-2301 name=__codelineno-0-2301></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;[yellow]Cannot delete the only profile.[/yellow]&quot;</span><span class=p>)</span>
</span><span id=__span-0-2302><a id=__codelineno-0-2302 name=__codelineno-0-2302></a>        <span class=k>return</span>
</span><span id=__span-0-2303><a id=__codelineno-0-2303 name=__codelineno-0-2303></a>
</span><span id=__span-0-2304><a id=__codelineno-0-2304 name=__codelineno-0-2304></a>    <span class=c1># Select profile to delete</span>
</span><span id=__span-0-2305><a id=__codelineno-0-2305 name=__codelineno-0-2305></a>    <span class=n>profile_choices</span> <span class=o>=</span> <span class=p>[</span><span class=n>p</span><span class=o>.</span><span class=n>name</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>profiles</span><span class=p>]</span>
</span><span id=__span-0-2306><a id=__codelineno-0-2306 name=__codelineno-0-2306></a>    <span class=n>profile_name</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>select</span><span class=p>(</span>
</span><span id=__span-0-2307><a id=__codelineno-0-2307 name=__codelineno-0-2307></a>        <span class=s2>&quot;Select profile to delete:&quot;</span><span class=p>,</span> <span class=n>choices</span><span class=o>=</span><span class=n>profile_choices</span>
</span><span id=__span-0-2308><a id=__codelineno-0-2308 name=__codelineno-0-2308></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2309><a id=__codelineno-0-2309 name=__codelineno-0-2309></a>
</span><span id=__span-0-2310><a id=__codelineno-0-2310 name=__codelineno-0-2310></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profile_name</span><span class=p>:</span>
</span><span id=__span-0-2311><a id=__codelineno-0-2311 name=__codelineno-0-2311></a>        <span class=k>return</span>
</span><span id=__span-0-2312><a id=__codelineno-0-2312 name=__codelineno-0-2312></a>
</span><span id=__span-0-2313><a id=__codelineno-0-2313 name=__codelineno-0-2313></a>    <span class=c1># Confirm deletion</span>
</span><span id=__span-0-2314><a id=__codelineno-0-2314 name=__codelineno-0-2314></a>    <span class=n>confirm</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>confirm</span><span class=p>(</span>
</span><span id=__span-0-2315><a id=__codelineno-0-2315 name=__codelineno-0-2315></a>        <span class=sa>f</span><span class=s1>&#39;Are you sure you want to delete profile &quot;</span><span class=si>{</span><span class=n>profile_name</span><span class=si>}</span><span class=s1>&quot;?&#39;</span><span class=p>,</span>
</span><span id=__span-0-2316><a id=__codelineno-0-2316 name=__codelineno-0-2316></a>        <span class=n>default</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-2317><a id=__codelineno-0-2317 name=__codelineno-0-2317></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2318><a id=__codelineno-0-2318 name=__codelineno-0-2318></a>
</span><span id=__span-0-2319><a id=__codelineno-0-2319 name=__codelineno-0-2319></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>confirm</span><span class=p>:</span>
</span><span id=__span-0-2320><a id=__codelineno-0-2320 name=__codelineno-0-2320></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;[yellow]Deletion cancelled.[/yellow]&quot;</span><span class=p>)</span>
</span><span id=__span-0-2321><a id=__codelineno-0-2321 name=__codelineno-0-2321></a>        <span class=k>return</span>
</span><span id=__span-0-2322><a id=__codelineno-0-2322 name=__codelineno-0-2322></a>
</span><span id=__span-0-2323><a id=__codelineno-0-2323 name=__codelineno-0-2323></a>    <span class=c1># Delete the profile</span>
</span><span id=__span-0-2324><a id=__codelineno-0-2324 name=__codelineno-0-2324></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-2325><a id=__codelineno-0-2325 name=__codelineno-0-2325></a>        <span class=bp>self</span><span class=o>.</span><span class=n>delete_profile</span><span class=p>(</span><span class=n>profile_name</span><span class=p>)</span>
</span><span id=__span-0-2326><a id=__codelineno-0-2326 name=__codelineno-0-2326></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-2327><a id=__codelineno-0-2327 name=__codelineno-0-2327></a>            <span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[green]✓ Profile &#39;</span><span class=si>{</span><span class=n>profile_name</span><span class=si>}</span><span class=s2>&#39; deleted successfully![/green]&quot;</span>
</span><span id=__span-0-2328><a id=__codelineno-0-2328 name=__codelineno-0-2328></a>        <span class=p>)</span>
</span><span id=__span-0-2329><a id=__codelineno-0-2329 name=__codelineno-0-2329></a>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-2330><a id=__codelineno-0-2330 name=__codelineno-0-2330></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[red]✗ Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>[/red]&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.display_profiles_table class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">display_profiles_table</span> <a href=#fit_file_faker.config.ProfileManager.display_profiles_table class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>display_profiles_table</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Display all profiles in a Rich table.</p> <p>Shows profile name, app type, device, Garmin username, and FIT files path in a formatted table. Marks the default profile with ⭐.</p> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1551>1551</a></span>
<span class=normal><a href=#__codelineno-0-1552>1552</a></span>
<span class=normal><a href=#__codelineno-0-1553>1553</a></span>
<span class=normal><a href=#__codelineno-0-1554>1554</a></span>
<span class=normal><a href=#__codelineno-0-1555>1555</a></span>
<span class=normal><a href=#__codelineno-0-1556>1556</a></span>
<span class=normal><a href=#__codelineno-0-1557>1557</a></span>
<span class=normal><a href=#__codelineno-0-1558>1558</a></span>
<span class=normal><a href=#__codelineno-0-1559>1559</a></span>
<span class=normal><a href=#__codelineno-0-1560>1560</a></span>
<span class=normal><a href=#__codelineno-0-1561>1561</a></span>
<span class=normal><a href=#__codelineno-0-1562>1562</a></span>
<span class=normal><a href=#__codelineno-0-1563>1563</a></span>
<span class=normal><a href=#__codelineno-0-1564>1564</a></span>
<span class=normal><a href=#__codelineno-0-1565>1565</a></span>
<span class=normal><a href=#__codelineno-0-1566>1566</a></span>
<span class=normal><a href=#__codelineno-0-1567>1567</a></span>
<span class=normal><a href=#__codelineno-0-1568>1568</a></span>
<span class=normal><a href=#__codelineno-0-1569>1569</a></span>
<span class=normal><a href=#__codelineno-0-1570>1570</a></span>
<span class=normal><a href=#__codelineno-0-1571>1571</a></span>
<span class=normal><a href=#__codelineno-0-1572>1572</a></span>
<span class=normal><a href=#__codelineno-0-1573>1573</a></span>
<span class=normal><a href=#__codelineno-0-1574>1574</a></span>
<span class=normal><a href=#__codelineno-0-1575>1575</a></span>
<span class=normal><a href=#__codelineno-0-1576>1576</a></span>
<span class=normal><a href=#__codelineno-0-1577>1577</a></span>
<span class=normal><a href=#__codelineno-0-1578>1578</a></span>
<span class=normal><a href=#__codelineno-0-1579>1579</a></span>
<span class=normal><a href=#__codelineno-0-1580>1580</a></span>
<span class=normal><a href=#__codelineno-0-1581>1581</a></span>
<span class=normal><a href=#__codelineno-0-1582>1582</a></span>
<span class=normal><a href=#__codelineno-0-1583>1583</a></span>
<span class=normal><a href=#__codelineno-0-1584>1584</a></span>
<span class=normal><a href=#__codelineno-0-1585>1585</a></span>
<span class=normal><a href=#__codelineno-0-1586>1586</a></span>
<span class=normal><a href=#__codelineno-0-1587>1587</a></span>
<span class=normal><a href=#__codelineno-0-1588>1588</a></span>
<span class=normal><a href=#__codelineno-0-1589>1589</a></span>
<span class=normal><a href=#__codelineno-0-1590>1590</a></span>
<span class=normal><a href=#__codelineno-0-1591>1591</a></span>
<span class=normal><a href=#__codelineno-0-1592>1592</a></span>
<span class=normal><a href=#__codelineno-0-1593>1593</a></span>
<span class=normal><a href=#__codelineno-0-1594>1594</a></span>
<span class=normal><a href=#__codelineno-0-1595>1595</a></span>
<span class=normal><a href=#__codelineno-0-1596>1596</a></span>
<span class=normal><a href=#__codelineno-0-1597>1597</a></span>
<span class=normal><a href=#__codelineno-0-1598>1598</a></span>
<span class=normal><a href=#__codelineno-0-1599>1599</a></span>
<span class=normal><a href=#__codelineno-0-1600>1600</a></span>
<span class=normal><a href=#__codelineno-0-1601>1601</a></span>
<span class=normal><a href=#__codelineno-0-1602>1602</a></span>
<span class=normal><a href=#__codelineno-0-1603>1603</a></span>
<span class=normal><a href=#__codelineno-0-1604>1604</a></span>
<span class=normal><a href=#__codelineno-0-1605>1605</a></span>
<span class=normal><a href=#__codelineno-0-1606>1606</a></span>
<span class=normal><a href=#__codelineno-0-1607>1607</a></span>
<span class=normal><a href=#__codelineno-0-1608>1608</a></span>
<span class=normal><a href=#__codelineno-0-1609>1609</a></span>
<span class=normal><a href=#__codelineno-0-1610>1610</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1551><a id=__codelineno-0-1551 name=__codelineno-0-1551></a><span class=k>def</span><span class=w> </span><span class=nf>display_profiles_table</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1552><a id=__codelineno-0-1552 name=__codelineno-0-1552></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Display all profiles in a Rich table.</span>
</span><span id=__span-0-1553><a id=__codelineno-0-1553 name=__codelineno-0-1553></a>
</span><span id=__span-0-1554><a id=__codelineno-0-1554 name=__codelineno-0-1554></a><span class=sd>    Shows profile name, app type, device, Garmin username, and FIT files path</span>
</span><span id=__span-0-1555><a id=__codelineno-0-1555 name=__codelineno-0-1555></a><span class=sd>    in a formatted table. Marks the default profile with ⭐.</span>
</span><span id=__span-0-1556><a id=__codelineno-0-1556 name=__codelineno-0-1556></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1557><a id=__codelineno-0-1557 name=__codelineno-0-1557></a>    <span class=n>console</span> <span class=o>=</span> <span class=n>Console</span><span class=p>()</span>
</span><span id=__span-0-1558><a id=__codelineno-0-1558 name=__codelineno-0-1558></a>    <span class=n>table</span> <span class=o>=</span> <span class=n>Table</span><span class=p>(</span>
</span><span id=__span-0-1559><a id=__codelineno-0-1559 name=__codelineno-0-1559></a>        <span class=n>title</span><span class=o>=</span><span class=s2>&quot;📋 FIT File Faker - Profiles&quot;</span><span class=p>,</span>
</span><span id=__span-0-1560><a id=__codelineno-0-1560 name=__codelineno-0-1560></a>        <span class=n>show_header</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-0-1561><a id=__codelineno-0-1561 name=__codelineno-0-1561></a>        <span class=n>header_style</span><span class=o>=</span><span class=s2>&quot;bold cyan&quot;</span><span class=p>,</span>
</span><span id=__span-0-1562><a id=__codelineno-0-1562 name=__codelineno-0-1562></a>    <span class=p>)</span>
</span><span id=__span-0-1563><a id=__codelineno-0-1563 name=__codelineno-0-1563></a>
</span><span id=__span-0-1564><a id=__codelineno-0-1564 name=__codelineno-0-1564></a>    <span class=n>table</span><span class=o>.</span><span class=n>add_column</span><span class=p>(</span><span class=s2>&quot;Name&quot;</span><span class=p>,</span> <span class=n>style</span><span class=o>=</span><span class=s2>&quot;green&quot;</span><span class=p>,</span> <span class=n>no_wrap</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-1565><a id=__codelineno-0-1565 name=__codelineno-0-1565></a>    <span class=n>table</span><span class=o>.</span><span class=n>add_column</span><span class=p>(</span><span class=s2>&quot;App&quot;</span><span class=p>,</span> <span class=n>style</span><span class=o>=</span><span class=s2>&quot;blue&quot;</span><span class=p>)</span>
</span><span id=__span-0-1566><a id=__codelineno-0-1566 name=__codelineno-0-1566></a>    <span class=n>table</span><span class=o>.</span><span class=n>add_column</span><span class=p>(</span><span class=s2>&quot;Device&quot;</span><span class=p>,</span> <span class=n>style</span><span class=o>=</span><span class=s2>&quot;cyan&quot;</span><span class=p>)</span>
</span><span id=__span-0-1567><a id=__codelineno-0-1567 name=__codelineno-0-1567></a>    <span class=n>table</span><span class=o>.</span><span class=n>add_column</span><span class=p>(</span><span class=s2>&quot;Serial #&quot;</span><span class=p>,</span> <span class=n>style</span><span class=o>=</span><span class=s2>&quot;bright_blue&quot;</span><span class=p>)</span>
</span><span id=__span-0-1568><a id=__codelineno-0-1568 name=__codelineno-0-1568></a>    <span class=n>table</span><span class=o>.</span><span class=n>add_column</span><span class=p>(</span><span class=s2>&quot;Garmin User&quot;</span><span class=p>,</span> <span class=n>style</span><span class=o>=</span><span class=s2>&quot;yellow&quot;</span><span class=p>)</span>
</span><span id=__span-0-1569><a id=__codelineno-0-1569 name=__codelineno-0-1569></a>    <span class=n>table</span><span class=o>.</span><span class=n>add_column</span><span class=p>(</span><span class=s2>&quot;FIT Path&quot;</span><span class=p>,</span> <span class=n>style</span><span class=o>=</span><span class=s2>&quot;magenta&quot;</span><span class=p>)</span>
</span><span id=__span-0-1570><a id=__codelineno-0-1570 name=__codelineno-0-1570></a>
</span><span id=__span-0-1571><a id=__codelineno-0-1571 name=__codelineno-0-1571></a>    <span class=n>profiles</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>list_profiles</span><span class=p>()</span>
</span><span id=__span-0-1572><a id=__codelineno-0-1572 name=__codelineno-0-1572></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profiles</span><span class=p>:</span>
</span><span id=__span-0-1573><a id=__codelineno-0-1573 name=__codelineno-0-1573></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;[yellow]No profiles configured yet.[/yellow]&quot;</span><span class=p>)</span>
</span><span id=__span-0-1574><a id=__codelineno-0-1574 name=__codelineno-0-1574></a>        <span class=k>return</span>
</span><span id=__span-0-1575><a id=__codelineno-0-1575 name=__codelineno-0-1575></a>
</span><span id=__span-0-1576><a id=__codelineno-0-1576 name=__codelineno-0-1576></a>    <span class=k>for</span> <span class=n>profile</span> <span class=ow>in</span> <span class=n>profiles</span><span class=p>:</span>
</span><span id=__span-0-1577><a id=__codelineno-0-1577 name=__codelineno-0-1577></a>        <span class=c1># Mark default profile with star</span>
</span><span id=__span-0-1578><a id=__codelineno-0-1578 name=__codelineno-0-1578></a>        <span class=n>name_display</span> <span class=o>=</span> <span class=n>profile</span><span class=o>.</span><span class=n>name</span>
</span><span id=__span-0-1579><a id=__codelineno-0-1579 name=__codelineno-0-1579></a>        <span class=k>if</span> <span class=n>profile</span><span class=o>.</span><span class=n>name</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>default_profile</span><span class=p>:</span>
</span><span id=__span-0-1580><a id=__codelineno-0-1580 name=__codelineno-0-1580></a>            <span class=n>name_display</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>profile</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> ⭐&quot;</span>
</span><span id=__span-0-1581><a id=__codelineno-0-1581 name=__codelineno-0-1581></a>
</span><span id=__span-0-1582><a id=__codelineno-0-1582 name=__codelineno-0-1582></a>        <span class=c1># Format app type for display using detector&#39;s short name</span>
</span><span id=__span-0-1583><a id=__codelineno-0-1583 name=__codelineno-0-1583></a>        <span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.app_registry</span><span class=w> </span><span class=kn>import</span> <span class=n>get_detector</span>
</span><span id=__span-0-1584><a id=__codelineno-0-1584 name=__codelineno-0-1584></a>
</span><span id=__span-0-1585><a id=__codelineno-0-1585 name=__codelineno-0-1585></a>        <span class=n>detector</span> <span class=o>=</span> <span class=n>get_detector</span><span class=p>(</span><span class=n>profile</span><span class=o>.</span><span class=n>app_type</span><span class=p>)</span>
</span><span id=__span-0-1586><a id=__codelineno-0-1586 name=__codelineno-0-1586></a>        <span class=n>app_display</span> <span class=o>=</span> <span class=n>detector</span><span class=o>.</span><span class=n>get_short_name</span><span class=p>()</span>
</span><span id=__span-0-1587><a id=__codelineno-0-1587 name=__codelineno-0-1587></a>
</span><span id=__span-0-1588><a id=__codelineno-0-1588 name=__codelineno-0-1588></a>        <span class=c1># Get device name</span>
</span><span id=__span-0-1589><a id=__codelineno-0-1589 name=__codelineno-0-1589></a>        <span class=n>device_display</span> <span class=o>=</span> <span class=n>profile</span><span class=o>.</span><span class=n>get_device_name</span><span class=p>()</span>
</span><span id=__span-0-1590><a id=__codelineno-0-1590 name=__codelineno-0-1590></a>
</span><span id=__span-0-1591><a id=__codelineno-0-1591 name=__codelineno-0-1591></a>        <span class=c1># Format serial number</span>
</span><span id=__span-0-1592><a id=__codelineno-0-1592 name=__codelineno-0-1592></a>        <span class=n>serial_display</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-0-1593><a id=__codelineno-0-1593 name=__codelineno-0-1593></a>            <span class=nb>str</span><span class=p>(</span><span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span><span class=p>)</span> <span class=k>if</span> <span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span> <span class=k>else</span> <span class=s2>&quot;N/A&quot;</span>
</span><span id=__span-0-1594><a id=__codelineno-0-1594 name=__codelineno-0-1594></a>        <span class=p>)</span>
</span><span id=__span-0-1595><a id=__codelineno-0-1595 name=__codelineno-0-1595></a>
</span><span id=__span-0-1596><a id=__codelineno-0-1596 name=__codelineno-0-1596></a>        <span class=c1># Truncate long paths</span>
</span><span id=__span-0-1597><a id=__codelineno-0-1597 name=__codelineno-0-1597></a>        <span class=n>path_str</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>profile</span><span class=o>.</span><span class=n>fitfiles_path</span><span class=p>)</span>
</span><span id=__span-0-1598><a id=__codelineno-0-1598 name=__codelineno-0-1598></a>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>path_str</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>40</span><span class=p>:</span>
</span><span id=__span-0-1599><a id=__codelineno-0-1599 name=__codelineno-0-1599></a>            <span class=n>path_str</span> <span class=o>=</span> <span class=s2>&quot;...&quot;</span> <span class=o>+</span> <span class=n>path_str</span><span class=p>[</span><span class=o>-</span><span class=mi>37</span><span class=p>:]</span>
</span><span id=__span-0-1600><a id=__codelineno-0-1600 name=__codelineno-0-1600></a>
</span><span id=__span-0-1601><a id=__codelineno-0-1601 name=__codelineno-0-1601></a>        <span class=n>table</span><span class=o>.</span><span class=n>add_row</span><span class=p>(</span>
</span><span id=__span-0-1602><a id=__codelineno-0-1602 name=__codelineno-0-1602></a>            <span class=n>name_display</span><span class=p>,</span>
</span><span id=__span-0-1603><a id=__codelineno-0-1603 name=__codelineno-0-1603></a>            <span class=n>app_display</span><span class=p>,</span>
</span><span id=__span-0-1604><a id=__codelineno-0-1604 name=__codelineno-0-1604></a>            <span class=n>device_display</span><span class=p>,</span>
</span><span id=__span-0-1605><a id=__codelineno-0-1605 name=__codelineno-0-1605></a>            <span class=n>serial_display</span><span class=p>,</span>
</span><span id=__span-0-1606><a id=__codelineno-0-1606 name=__codelineno-0-1606></a>            <span class=n>profile</span><span class=o>.</span><span class=n>garmin_username</span><span class=p>,</span>
</span><span id=__span-0-1607><a id=__codelineno-0-1607 name=__codelineno-0-1607></a>            <span class=n>path_str</span><span class=p>,</span>
</span><span id=__span-0-1608><a id=__codelineno-0-1608 name=__codelineno-0-1608></a>        <span class=p>)</span>
</span><span id=__span-0-1609><a id=__codelineno-0-1609 name=__codelineno-0-1609></a>
</span><span id=__span-0-1610><a id=__codelineno-0-1610 name=__codelineno-0-1610></a>    <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=n>table</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.edit_profile_wizard class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">edit_profile_wizard</span> <a href=#fit_file_faker.config.ProfileManager.edit_profile_wizard class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>edit_profile_wizard</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Interactive wizard for editing an existing profile.</p> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1995>1995</a></span>
<span class=normal><a href=#__codelineno-0-1996>1996</a></span>
<span class=normal><a href=#__codelineno-0-1997>1997</a></span>
<span class=normal><a href=#__codelineno-0-1998>1998</a></span>
<span class=normal><a href=#__codelineno-0-1999>1999</a></span>
<span class=normal><a href=#__codelineno-0-2000>2000</a></span>
<span class=normal><a href=#__codelineno-0-2001>2001</a></span>
<span class=normal><a href=#__codelineno-0-2002>2002</a></span>
<span class=normal><a href=#__codelineno-0-2003>2003</a></span>
<span class=normal><a href=#__codelineno-0-2004>2004</a></span>
<span class=normal><a href=#__codelineno-0-2005>2005</a></span>
<span class=normal><a href=#__codelineno-0-2006>2006</a></span>
<span class=normal><a href=#__codelineno-0-2007>2007</a></span>
<span class=normal><a href=#__codelineno-0-2008>2008</a></span>
<span class=normal><a href=#__codelineno-0-2009>2009</a></span>
<span class=normal><a href=#__codelineno-0-2010>2010</a></span>
<span class=normal><a href=#__codelineno-0-2011>2011</a></span>
<span class=normal><a href=#__codelineno-0-2012>2012</a></span>
<span class=normal><a href=#__codelineno-0-2013>2013</a></span>
<span class=normal><a href=#__codelineno-0-2014>2014</a></span>
<span class=normal><a href=#__codelineno-0-2015>2015</a></span>
<span class=normal><a href=#__codelineno-0-2016>2016</a></span>
<span class=normal><a href=#__codelineno-0-2017>2017</a></span>
<span class=normal><a href=#__codelineno-0-2018>2018</a></span>
<span class=normal><a href=#__codelineno-0-2019>2019</a></span>
<span class=normal><a href=#__codelineno-0-2020>2020</a></span>
<span class=normal><a href=#__codelineno-0-2021>2021</a></span>
<span class=normal><a href=#__codelineno-0-2022>2022</a></span>
<span class=normal><a href=#__codelineno-0-2023>2023</a></span>
<span class=normal><a href=#__codelineno-0-2024>2024</a></span>
<span class=normal><a href=#__codelineno-0-2025>2025</a></span>
<span class=normal><a href=#__codelineno-0-2026>2026</a></span>
<span class=normal><a href=#__codelineno-0-2027>2027</a></span>
<span class=normal><a href=#__codelineno-0-2028>2028</a></span>
<span class=normal><a href=#__codelineno-0-2029>2029</a></span>
<span class=normal><a href=#__codelineno-0-2030>2030</a></span>
<span class=normal><a href=#__codelineno-0-2031>2031</a></span>
<span class=normal><a href=#__codelineno-0-2032>2032</a></span>
<span class=normal><a href=#__codelineno-0-2033>2033</a></span>
<span class=normal><a href=#__codelineno-0-2034>2034</a></span>
<span class=normal><a href=#__codelineno-0-2035>2035</a></span>
<span class=normal><a href=#__codelineno-0-2036>2036</a></span>
<span class=normal><a href=#__codelineno-0-2037>2037</a></span>
<span class=normal><a href=#__codelineno-0-2038>2038</a></span>
<span class=normal><a href=#__codelineno-0-2039>2039</a></span>
<span class=normal><a href=#__codelineno-0-2040>2040</a></span>
<span class=normal><a href=#__codelineno-0-2041>2041</a></span>
<span class=normal><a href=#__codelineno-0-2042>2042</a></span>
<span class=normal><a href=#__codelineno-0-2043>2043</a></span>
<span class=normal><a href=#__codelineno-0-2044>2044</a></span>
<span class=normal><a href=#__codelineno-0-2045>2045</a></span>
<span class=normal><a href=#__codelineno-0-2046>2046</a></span>
<span class=normal><a href=#__codelineno-0-2047>2047</a></span>
<span class=normal><a href=#__codelineno-0-2048>2048</a></span>
<span class=normal><a href=#__codelineno-0-2049>2049</a></span>
<span class=normal><a href=#__codelineno-0-2050>2050</a></span>
<span class=normal><a href=#__codelineno-0-2051>2051</a></span>
<span class=normal><a href=#__codelineno-0-2052>2052</a></span>
<span class=normal><a href=#__codelineno-0-2053>2053</a></span>
<span class=normal><a href=#__codelineno-0-2054>2054</a></span>
<span class=normal><a href=#__codelineno-0-2055>2055</a></span>
<span class=normal><a href=#__codelineno-0-2056>2056</a></span>
<span class=normal><a href=#__codelineno-0-2057>2057</a></span>
<span class=normal><a href=#__codelineno-0-2058>2058</a></span>
<span class=normal><a href=#__codelineno-0-2059>2059</a></span>
<span class=normal><a href=#__codelineno-0-2060>2060</a></span>
<span class=normal><a href=#__codelineno-0-2061>2061</a></span>
<span class=normal><a href=#__codelineno-0-2062>2062</a></span>
<span class=normal><a href=#__codelineno-0-2063>2063</a></span>
<span class=normal><a href=#__codelineno-0-2064>2064</a></span>
<span class=normal><a href=#__codelineno-0-2065>2065</a></span>
<span class=normal><a href=#__codelineno-0-2066>2066</a></span>
<span class=normal><a href=#__codelineno-0-2067>2067</a></span>
<span class=normal><a href=#__codelineno-0-2068>2068</a></span>
<span class=normal><a href=#__codelineno-0-2069>2069</a></span>
<span class=normal><a href=#__codelineno-0-2070>2070</a></span>
<span class=normal><a href=#__codelineno-0-2071>2071</a></span>
<span class=normal><a href=#__codelineno-0-2072>2072</a></span>
<span class=normal><a href=#__codelineno-0-2073>2073</a></span>
<span class=normal><a href=#__codelineno-0-2074>2074</a></span>
<span class=normal><a href=#__codelineno-0-2075>2075</a></span>
<span class=normal><a href=#__codelineno-0-2076>2076</a></span>
<span class=normal><a href=#__codelineno-0-2077>2077</a></span>
<span class=normal><a href=#__codelineno-0-2078>2078</a></span>
<span class=normal><a href=#__codelineno-0-2079>2079</a></span>
<span class=normal><a href=#__codelineno-0-2080>2080</a></span>
<span class=normal><a href=#__codelineno-0-2081>2081</a></span>
<span class=normal><a href=#__codelineno-0-2082>2082</a></span>
<span class=normal><a href=#__codelineno-0-2083>2083</a></span>
<span class=normal><a href=#__codelineno-0-2084>2084</a></span>
<span class=normal><a href=#__codelineno-0-2085>2085</a></span>
<span class=normal><a href=#__codelineno-0-2086>2086</a></span>
<span class=normal><a href=#__codelineno-0-2087>2087</a></span>
<span class=normal><a href=#__codelineno-0-2088>2088</a></span>
<span class=normal><a href=#__codelineno-0-2089>2089</a></span>
<span class=normal><a href=#__codelineno-0-2090>2090</a></span>
<span class=normal><a href=#__codelineno-0-2091>2091</a></span>
<span class=normal><a href=#__codelineno-0-2092>2092</a></span>
<span class=normal><a href=#__codelineno-0-2093>2093</a></span>
<span class=normal><a href=#__codelineno-0-2094>2094</a></span>
<span class=normal><a href=#__codelineno-0-2095>2095</a></span>
<span class=normal><a href=#__codelineno-0-2096>2096</a></span>
<span class=normal><a href=#__codelineno-0-2097>2097</a></span>
<span class=normal><a href=#__codelineno-0-2098>2098</a></span>
<span class=normal><a href=#__codelineno-0-2099>2099</a></span>
<span class=normal><a href=#__codelineno-0-2100>2100</a></span>
<span class=normal><a href=#__codelineno-0-2101>2101</a></span>
<span class=normal><a href=#__codelineno-0-2102>2102</a></span>
<span class=normal><a href=#__codelineno-0-2103>2103</a></span>
<span class=normal><a href=#__codelineno-0-2104>2104</a></span>
<span class=normal><a href=#__codelineno-0-2105>2105</a></span>
<span class=normal><a href=#__codelineno-0-2106>2106</a></span>
<span class=normal><a href=#__codelineno-0-2107>2107</a></span>
<span class=normal><a href=#__codelineno-0-2108>2108</a></span>
<span class=normal><a href=#__codelineno-0-2109>2109</a></span>
<span class=normal><a href=#__codelineno-0-2110>2110</a></span>
<span class=normal><a href=#__codelineno-0-2111>2111</a></span>
<span class=normal><a href=#__codelineno-0-2112>2112</a></span>
<span class=normal><a href=#__codelineno-0-2113>2113</a></span>
<span class=normal><a href=#__codelineno-0-2114>2114</a></span>
<span class=normal><a href=#__codelineno-0-2115>2115</a></span>
<span class=normal><a href=#__codelineno-0-2116>2116</a></span>
<span class=normal><a href=#__codelineno-0-2117>2117</a></span>
<span class=normal><a href=#__codelineno-0-2118>2118</a></span>
<span class=normal><a href=#__codelineno-0-2119>2119</a></span>
<span class=normal><a href=#__codelineno-0-2120>2120</a></span>
<span class=normal><a href=#__codelineno-0-2121>2121</a></span>
<span class=normal><a href=#__codelineno-0-2122>2122</a></span>
<span class=normal><a href=#__codelineno-0-2123>2123</a></span>
<span class=normal><a href=#__codelineno-0-2124>2124</a></span>
<span class=normal><a href=#__codelineno-0-2125>2125</a></span>
<span class=normal><a href=#__codelineno-0-2126>2126</a></span>
<span class=normal><a href=#__codelineno-0-2127>2127</a></span>
<span class=normal><a href=#__codelineno-0-2128>2128</a></span>
<span class=normal><a href=#__codelineno-0-2129>2129</a></span>
<span class=normal><a href=#__codelineno-0-2130>2130</a></span>
<span class=normal><a href=#__codelineno-0-2131>2131</a></span>
<span class=normal><a href=#__codelineno-0-2132>2132</a></span>
<span class=normal><a href=#__codelineno-0-2133>2133</a></span>
<span class=normal><a href=#__codelineno-0-2134>2134</a></span>
<span class=normal><a href=#__codelineno-0-2135>2135</a></span>
<span class=normal><a href=#__codelineno-0-2136>2136</a></span>
<span class=normal><a href=#__codelineno-0-2137>2137</a></span>
<span class=normal><a href=#__codelineno-0-2138>2138</a></span>
<span class=normal><a href=#__codelineno-0-2139>2139</a></span>
<span class=normal><a href=#__codelineno-0-2140>2140</a></span>
<span class=normal><a href=#__codelineno-0-2141>2141</a></span>
<span class=normal><a href=#__codelineno-0-2142>2142</a></span>
<span class=normal><a href=#__codelineno-0-2143>2143</a></span>
<span class=normal><a href=#__codelineno-0-2144>2144</a></span>
<span class=normal><a href=#__codelineno-0-2145>2145</a></span>
<span class=normal><a href=#__codelineno-0-2146>2146</a></span>
<span class=normal><a href=#__codelineno-0-2147>2147</a></span>
<span class=normal><a href=#__codelineno-0-2148>2148</a></span>
<span class=normal><a href=#__codelineno-0-2149>2149</a></span>
<span class=normal><a href=#__codelineno-0-2150>2150</a></span>
<span class=normal><a href=#__codelineno-0-2151>2151</a></span>
<span class=normal><a href=#__codelineno-0-2152>2152</a></span>
<span class=normal><a href=#__codelineno-0-2153>2153</a></span>
<span class=normal><a href=#__codelineno-0-2154>2154</a></span>
<span class=normal><a href=#__codelineno-0-2155>2155</a></span>
<span class=normal><a href=#__codelineno-0-2156>2156</a></span>
<span class=normal><a href=#__codelineno-0-2157>2157</a></span>
<span class=normal><a href=#__codelineno-0-2158>2158</a></span>
<span class=normal><a href=#__codelineno-0-2159>2159</a></span>
<span class=normal><a href=#__codelineno-0-2160>2160</a></span>
<span class=normal><a href=#__codelineno-0-2161>2161</a></span>
<span class=normal><a href=#__codelineno-0-2162>2162</a></span>
<span class=normal><a href=#__codelineno-0-2163>2163</a></span>
<span class=normal><a href=#__codelineno-0-2164>2164</a></span>
<span class=normal><a href=#__codelineno-0-2165>2165</a></span>
<span class=normal><a href=#__codelineno-0-2166>2166</a></span>
<span class=normal><a href=#__codelineno-0-2167>2167</a></span>
<span class=normal><a href=#__codelineno-0-2168>2168</a></span>
<span class=normal><a href=#__codelineno-0-2169>2169</a></span>
<span class=normal><a href=#__codelineno-0-2170>2170</a></span>
<span class=normal><a href=#__codelineno-0-2171>2171</a></span>
<span class=normal><a href=#__codelineno-0-2172>2172</a></span>
<span class=normal><a href=#__codelineno-0-2173>2173</a></span>
<span class=normal><a href=#__codelineno-0-2174>2174</a></span>
<span class=normal><a href=#__codelineno-0-2175>2175</a></span>
<span class=normal><a href=#__codelineno-0-2176>2176</a></span>
<span class=normal><a href=#__codelineno-0-2177>2177</a></span>
<span class=normal><a href=#__codelineno-0-2178>2178</a></span>
<span class=normal><a href=#__codelineno-0-2179>2179</a></span>
<span class=normal><a href=#__codelineno-0-2180>2180</a></span>
<span class=normal><a href=#__codelineno-0-2181>2181</a></span>
<span class=normal><a href=#__codelineno-0-2182>2182</a></span>
<span class=normal><a href=#__codelineno-0-2183>2183</a></span>
<span class=normal><a href=#__codelineno-0-2184>2184</a></span>
<span class=normal><a href=#__codelineno-0-2185>2185</a></span>
<span class=normal><a href=#__codelineno-0-2186>2186</a></span>
<span class=normal><a href=#__codelineno-0-2187>2187</a></span>
<span class=normal><a href=#__codelineno-0-2188>2188</a></span>
<span class=normal><a href=#__codelineno-0-2189>2189</a></span>
<span class=normal><a href=#__codelineno-0-2190>2190</a></span>
<span class=normal><a href=#__codelineno-0-2191>2191</a></span>
<span class=normal><a href=#__codelineno-0-2192>2192</a></span>
<span class=normal><a href=#__codelineno-0-2193>2193</a></span>
<span class=normal><a href=#__codelineno-0-2194>2194</a></span>
<span class=normal><a href=#__codelineno-0-2195>2195</a></span>
<span class=normal><a href=#__codelineno-0-2196>2196</a></span>
<span class=normal><a href=#__codelineno-0-2197>2197</a></span>
<span class=normal><a href=#__codelineno-0-2198>2198</a></span>
<span class=normal><a href=#__codelineno-0-2199>2199</a></span>
<span class=normal><a href=#__codelineno-0-2200>2200</a></span>
<span class=normal><a href=#__codelineno-0-2201>2201</a></span>
<span class=normal><a href=#__codelineno-0-2202>2202</a></span>
<span class=normal><a href=#__codelineno-0-2203>2203</a></span>
<span class=normal><a href=#__codelineno-0-2204>2204</a></span>
<span class=normal><a href=#__codelineno-0-2205>2205</a></span>
<span class=normal><a href=#__codelineno-0-2206>2206</a></span>
<span class=normal><a href=#__codelineno-0-2207>2207</a></span>
<span class=normal><a href=#__codelineno-0-2208>2208</a></span>
<span class=normal><a href=#__codelineno-0-2209>2209</a></span>
<span class=normal><a href=#__codelineno-0-2210>2210</a></span>
<span class=normal><a href=#__codelineno-0-2211>2211</a></span>
<span class=normal><a href=#__codelineno-0-2212>2212</a></span>
<span class=normal><a href=#__codelineno-0-2213>2213</a></span>
<span class=normal><a href=#__codelineno-0-2214>2214</a></span>
<span class=normal><a href=#__codelineno-0-2215>2215</a></span>
<span class=normal><a href=#__codelineno-0-2216>2216</a></span>
<span class=normal><a href=#__codelineno-0-2217>2217</a></span>
<span class=normal><a href=#__codelineno-0-2218>2218</a></span>
<span class=normal><a href=#__codelineno-0-2219>2219</a></span>
<span class=normal><a href=#__codelineno-0-2220>2220</a></span>
<span class=normal><a href=#__codelineno-0-2221>2221</a></span>
<span class=normal><a href=#__codelineno-0-2222>2222</a></span>
<span class=normal><a href=#__codelineno-0-2223>2223</a></span>
<span class=normal><a href=#__codelineno-0-2224>2224</a></span>
<span class=normal><a href=#__codelineno-0-2225>2225</a></span>
<span class=normal><a href=#__codelineno-0-2226>2226</a></span>
<span class=normal><a href=#__codelineno-0-2227>2227</a></span>
<span class=normal><a href=#__codelineno-0-2228>2228</a></span>
<span class=normal><a href=#__codelineno-0-2229>2229</a></span>
<span class=normal><a href=#__codelineno-0-2230>2230</a></span>
<span class=normal><a href=#__codelineno-0-2231>2231</a></span>
<span class=normal><a href=#__codelineno-0-2232>2232</a></span>
<span class=normal><a href=#__codelineno-0-2233>2233</a></span>
<span class=normal><a href=#__codelineno-0-2234>2234</a></span>
<span class=normal><a href=#__codelineno-0-2235>2235</a></span>
<span class=normal><a href=#__codelineno-0-2236>2236</a></span>
<span class=normal><a href=#__codelineno-0-2237>2237</a></span>
<span class=normal><a href=#__codelineno-0-2238>2238</a></span>
<span class=normal><a href=#__codelineno-0-2239>2239</a></span>
<span class=normal><a href=#__codelineno-0-2240>2240</a></span>
<span class=normal><a href=#__codelineno-0-2241>2241</a></span>
<span class=normal><a href=#__codelineno-0-2242>2242</a></span>
<span class=normal><a href=#__codelineno-0-2243>2243</a></span>
<span class=normal><a href=#__codelineno-0-2244>2244</a></span>
<span class=normal><a href=#__codelineno-0-2245>2245</a></span>
<span class=normal><a href=#__codelineno-0-2246>2246</a></span>
<span class=normal><a href=#__codelineno-0-2247>2247</a></span>
<span class=normal><a href=#__codelineno-0-2248>2248</a></span>
<span class=normal><a href=#__codelineno-0-2249>2249</a></span>
<span class=normal><a href=#__codelineno-0-2250>2250</a></span>
<span class=normal><a href=#__codelineno-0-2251>2251</a></span>
<span class=normal><a href=#__codelineno-0-2252>2252</a></span>
<span class=normal><a href=#__codelineno-0-2253>2253</a></span>
<span class=normal><a href=#__codelineno-0-2254>2254</a></span>
<span class=normal><a href=#__codelineno-0-2255>2255</a></span>
<span class=normal><a href=#__codelineno-0-2256>2256</a></span>
<span class=normal><a href=#__codelineno-0-2257>2257</a></span>
<span class=normal><a href=#__codelineno-0-2258>2258</a></span>
<span class=normal><a href=#__codelineno-0-2259>2259</a></span>
<span class=normal><a href=#__codelineno-0-2260>2260</a></span>
<span class=normal><a href=#__codelineno-0-2261>2261</a></span>
<span class=normal><a href=#__codelineno-0-2262>2262</a></span>
<span class=normal><a href=#__codelineno-0-2263>2263</a></span>
<span class=normal><a href=#__codelineno-0-2264>2264</a></span>
<span class=normal><a href=#__codelineno-0-2265>2265</a></span>
<span class=normal><a href=#__codelineno-0-2266>2266</a></span>
<span class=normal><a href=#__codelineno-0-2267>2267</a></span>
<span class=normal><a href=#__codelineno-0-2268>2268</a></span>
<span class=normal><a href=#__codelineno-0-2269>2269</a></span>
<span class=normal><a href=#__codelineno-0-2270>2270</a></span>
<span class=normal><a href=#__codelineno-0-2271>2271</a></span>
<span class=normal><a href=#__codelineno-0-2272>2272</a></span>
<span class=normal><a href=#__codelineno-0-2273>2273</a></span>
<span class=normal><a href=#__codelineno-0-2274>2274</a></span>
<span class=normal><a href=#__codelineno-0-2275>2275</a></span>
<span class=normal><a href=#__codelineno-0-2276>2276</a></span>
<span class=normal><a href=#__codelineno-0-2277>2277</a></span>
<span class=normal><a href=#__codelineno-0-2278>2278</a></span>
<span class=normal><a href=#__codelineno-0-2279>2279</a></span>
<span class=normal><a href=#__codelineno-0-2280>2280</a></span>
<span class=normal><a href=#__codelineno-0-2281>2281</a></span>
<span class=normal><a href=#__codelineno-0-2282>2282</a></span>
<span class=normal><a href=#__codelineno-0-2283>2283</a></span>
<span class=normal><a href=#__codelineno-0-2284>2284</a></span>
<span class=normal><a href=#__codelineno-0-2285>2285</a></span>
<span class=normal><a href=#__codelineno-0-2286>2286</a></span>
<span class=normal><a href=#__codelineno-0-2287>2287</a></span>
<span class=normal><a href=#__codelineno-0-2288>2288</a></span>
<span class=normal><a href=#__codelineno-0-2289>2289</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1995><a id=__codelineno-0-1995 name=__codelineno-0-1995></a><span class=k>def</span><span class=w> </span><span class=nf>edit_profile_wizard</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1996><a id=__codelineno-0-1996 name=__codelineno-0-1996></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Interactive wizard for editing an existing profile.&quot;&quot;&quot;</span>
</span><span id=__span-0-1997><a id=__codelineno-0-1997 name=__codelineno-0-1997></a>    <span class=n>console</span> <span class=o>=</span> <span class=n>Console</span><span class=p>()</span>
</span><span id=__span-0-1998><a id=__codelineno-0-1998 name=__codelineno-0-1998></a>
</span><span id=__span-0-1999><a id=__codelineno-0-1999 name=__codelineno-0-1999></a>    <span class=n>profiles</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>list_profiles</span><span class=p>()</span>
</span><span id=__span-0-2000><a id=__codelineno-0-2000 name=__codelineno-0-2000></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profiles</span><span class=p>:</span>
</span><span id=__span-0-2001><a id=__codelineno-0-2001 name=__codelineno-0-2001></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;[yellow]No profiles to edit.[/yellow]&quot;</span><span class=p>)</span>
</span><span id=__span-0-2002><a id=__codelineno-0-2002 name=__codelineno-0-2002></a>        <span class=k>return</span>
</span><span id=__span-0-2003><a id=__codelineno-0-2003 name=__codelineno-0-2003></a>
</span><span id=__span-0-2004><a id=__codelineno-0-2004 name=__codelineno-0-2004></a>    <span class=c1># Select profile to edit</span>
</span><span id=__span-0-2005><a id=__codelineno-0-2005 name=__codelineno-0-2005></a>    <span class=n>profile_choices</span> <span class=o>=</span> <span class=p>[</span><span class=n>p</span><span class=o>.</span><span class=n>name</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>profiles</span><span class=p>]</span>
</span><span id=__span-0-2006><a id=__codelineno-0-2006 name=__codelineno-0-2006></a>    <span class=n>profile_name</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>select</span><span class=p>(</span>
</span><span id=__span-0-2007><a id=__codelineno-0-2007 name=__codelineno-0-2007></a>        <span class=s2>&quot;Select profile to edit:&quot;</span><span class=p>,</span> <span class=n>choices</span><span class=o>=</span><span class=n>profile_choices</span>
</span><span id=__span-0-2008><a id=__codelineno-0-2008 name=__codelineno-0-2008></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2009><a id=__codelineno-0-2009 name=__codelineno-0-2009></a>
</span><span id=__span-0-2010><a id=__codelineno-0-2010 name=__codelineno-0-2010></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profile_name</span><span class=p>:</span>
</span><span id=__span-0-2011><a id=__codelineno-0-2011 name=__codelineno-0-2011></a>        <span class=k>return</span>
</span><span id=__span-0-2012><a id=__codelineno-0-2012 name=__codelineno-0-2012></a>
</span><span id=__span-0-2013><a id=__codelineno-0-2013 name=__codelineno-0-2013></a>    <span class=n>profile</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=n>profile_name</span><span class=p>)</span>
</span><span id=__span-0-2014><a id=__codelineno-0-2014 name=__codelineno-0-2014></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profile</span><span class=p>:</span>
</span><span id=__span-0-2015><a id=__codelineno-0-2015 name=__codelineno-0-2015></a>        <span class=k>return</span>
</span><span id=__span-0-2016><a id=__codelineno-0-2016 name=__codelineno-0-2016></a>
</span><span id=__span-0-2017><a id=__codelineno-0-2017 name=__codelineno-0-2017></a>    <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[bold cyan]Editing Profile: </span><span class=si>{</span><span class=n>profile_name</span><span class=si>}</span><span class=s2>[/bold cyan]&quot;</span><span class=p>)</span>
</span><span id=__span-0-2018><a id=__codelineno-0-2018 name=__codelineno-0-2018></a>    <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;[dim]Leave blank to keep current value[/dim]</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-2019><a id=__codelineno-0-2019 name=__codelineno-0-2019></a>
</span><span id=__span-0-2020><a id=__codelineno-0-2020 name=__codelineno-0-2020></a>    <span class=c1># Ask which fields to update</span>
</span><span id=__span-0-2021><a id=__codelineno-0-2021 name=__codelineno-0-2021></a>    <span class=n>new_name</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>text</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Profile name [</span><span class=si>{</span><span class=n>profile</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>]:&quot;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2022><a id=__codelineno-0-2022 name=__codelineno-0-2022></a>
</span><span id=__span-0-2023><a id=__codelineno-0-2023 name=__codelineno-0-2023></a>    <span class=n>new_username</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>text</span><span class=p>(</span>
</span><span id=__span-0-2024><a id=__codelineno-0-2024 name=__codelineno-0-2024></a>        <span class=sa>f</span><span class=s2>&quot;Garmin username [</span><span class=si>{</span><span class=n>profile</span><span class=o>.</span><span class=n>garmin_username</span><span class=si>}</span><span class=s2>]:&quot;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=s2>&quot;&quot;</span>
</span><span id=__span-0-2025><a id=__codelineno-0-2025 name=__codelineno-0-2025></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2026><a id=__codelineno-0-2026 name=__codelineno-0-2026></a>
</span><span id=__span-0-2027><a id=__codelineno-0-2027 name=__codelineno-0-2027></a>    <span class=n>new_password</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>password</span><span class=p>(</span><span class=s2>&quot;Garmin password [****]:&quot;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2028><a id=__codelineno-0-2028 name=__codelineno-0-2028></a>
</span><span id=__span-0-2029><a id=__codelineno-0-2029 name=__codelineno-0-2029></a>    <span class=n>new_path</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>path</span><span class=p>(</span>
</span><span id=__span-0-2030><a id=__codelineno-0-2030 name=__codelineno-0-2030></a>        <span class=sa>f</span><span class=s2>&quot;FIT files path [</span><span class=si>{</span><span class=n>profile</span><span class=o>.</span><span class=n>fitfiles_path</span><span class=si>}</span><span class=s2>]:&quot;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=s2>&quot;&quot;</span>
</span><span id=__span-0-2031><a id=__codelineno-0-2031 name=__codelineno-0-2031></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2032><a id=__codelineno-0-2032 name=__codelineno-0-2032></a>
</span><span id=__span-0-2033><a id=__codelineno-0-2033 name=__codelineno-0-2033></a>    <span class=c1># Ask about device simulation</span>
</span><span id=__span-0-2034><a id=__codelineno-0-2034 name=__codelineno-0-2034></a>    <span class=n>new_manufacturer</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-2035><a id=__codelineno-0-2035 name=__codelineno-0-2035></a>    <span class=n>new_device</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-2036><a id=__codelineno-0-2036 name=__codelineno-0-2036></a>    <span class=n>new_serial</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-2037><a id=__codelineno-0-2037 name=__codelineno-0-2037></a>    <span class=n>new_software_version</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-2038><a id=__codelineno-0-2038 name=__codelineno-0-2038></a>    <span class=n>current_device</span> <span class=o>=</span> <span class=n>profile</span><span class=o>.</span><span class=n>get_device_name</span><span class=p>()</span>
</span><span id=__span-0-2039><a id=__codelineno-0-2039 name=__codelineno-0-2039></a>    <span class=n>current_serial</span> <span class=o>=</span> <span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span> <span class=k>if</span> <span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span> <span class=k>else</span> <span class=s2>&quot;N/A&quot;</span>
</span><span id=__span-0-2040><a id=__codelineno-0-2040 name=__codelineno-0-2040></a>    <span class=n>edit_device</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>confirm</span><span class=p>(</span>
</span><span id=__span-0-2041><a id=__codelineno-0-2041 name=__codelineno-0-2041></a>        <span class=sa>f</span><span class=s2>&quot;Edit device simulation? (current: </span><span class=si>{</span><span class=n>current_device</span><span class=si>}</span><span class=s2>, serial: </span><span class=si>{</span><span class=n>current_serial</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>,</span>
</span><span id=__span-0-2042><a id=__codelineno-0-2042 name=__codelineno-0-2042></a>        <span class=n>default</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-2043><a id=__codelineno-0-2043 name=__codelineno-0-2043></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2044><a id=__codelineno-0-2044 name=__codelineno-0-2044></a>
</span><span id=__span-0-2045><a id=__codelineno-0-2045 name=__codelineno-0-2045></a>    <span class=k>if</span> <span class=n>edit_device</span><span class=p>:</span>
</span><span id=__span-0-2046><a id=__codelineno-0-2046 name=__codelineno-0-2046></a>        <span class=c1># Two-level menu: common devices first, then &quot;View all devices&quot; option</span>
</span><span id=__span-0-2047><a id=__codelineno-0-2047 name=__codelineno-0-2047></a>        <span class=n>show_all</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-2048><a id=__codelineno-0-2048 name=__codelineno-0-2048></a>        <span class=n>device_selected</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-2049><a id=__codelineno-0-2049 name=__codelineno-0-2049></a>
</span><span id=__span-0-2050><a id=__codelineno-0-2050 name=__codelineno-0-2050></a>        <span class=k>while</span> <span class=ow>not</span> <span class=n>device_selected</span><span class=p>:</span>
</span><span id=__span-0-2051><a id=__codelineno-0-2051 name=__codelineno-0-2051></a>            <span class=c1># Get list of supported devices (common or all based on show_all flag)</span>
</span><span id=__span-0-2052><a id=__codelineno-0-2052 name=__codelineno-0-2052></a>            <span class=n>supported_devices</span> <span class=o>=</span> <span class=n>get_supported_garmin_devices</span><span class=p>(</span><span class=n>show_all</span><span class=o>=</span><span class=n>show_all</span><span class=p>)</span>
</span><span id=__span-0-2053><a id=__codelineno-0-2053 name=__codelineno-0-2053></a>
</span><span id=__span-0-2054><a id=__codelineno-0-2054 name=__codelineno-0-2054></a>            <span class=c1># Build device choices for the menu</span>
</span><span id=__span-0-2055><a id=__codelineno-0-2055 name=__codelineno-0-2055></a>            <span class=n>device_choices</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-2056><a id=__codelineno-0-2056 name=__codelineno-0-2056></a>
</span><span id=__span-0-2057><a id=__codelineno-0-2057 name=__codelineno-0-2057></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>show_all</span><span class=p>:</span>
</span><span id=__span-0-2058><a id=__codelineno-0-2058 name=__codelineno-0-2058></a>                <span class=c1># Level 1: Common devices grouped by category</span>
</span><span id=__span-0-2059><a id=__codelineno-0-2059 name=__codelineno-0-2059></a>                <span class=c1># Bike computers</span>
</span><span id=__span-0-2060><a id=__codelineno-0-2060 name=__codelineno-0-2060></a>                <span class=n>bike_computers</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-2061><a id=__codelineno-0-2061 name=__codelineno-0-2061></a>                    <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span><span class=p>)</span>
</span><span id=__span-0-2062><a id=__codelineno-0-2062 name=__codelineno-0-2062></a>                    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span> <span class=ow>in</span> <span class=n>supported_devices</span>
</span><span id=__span-0-2063><a id=__codelineno-0-2063 name=__codelineno-0-2063></a>                    <span class=k>if</span> <span class=nb>any</span><span class=p>(</span>
</span><span id=__span-0-2064><a id=__codelineno-0-2064 name=__codelineno-0-2064></a>                        <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>device_id</span> <span class=ow>and</span> <span class=n>d</span><span class=o>.</span><span class=n>category</span> <span class=o>==</span> <span class=s2>&quot;bike_computer&quot;</span>
</span><span id=__span-0-2065><a id=__codelineno-0-2065 name=__codelineno-0-2065></a>                        <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span>
</span><span id=__span-0-2066><a id=__codelineno-0-2066 name=__codelineno-0-2066></a>                    <span class=p>)</span>
</span><span id=__span-0-2067><a id=__codelineno-0-2067 name=__codelineno-0-2067></a>                <span class=p>]</span>
</span><span id=__span-0-2068><a id=__codelineno-0-2068 name=__codelineno-0-2068></a>                <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span> <span class=ow>in</span> <span class=n>bike_computers</span><span class=p>:</span>
</span><span id=__span-0-2069><a id=__codelineno-0-2069 name=__codelineno-0-2069></a>                    <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-2070><a id=__codelineno-0-2070 name=__codelineno-0-2070></a>                        <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
</span><span id=__span-0-2071><a id=__codelineno-0-2071 name=__codelineno-0-2071></a>                            <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=n>device_id</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>,</span> <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>)</span>
</span><span id=__span-0-2072><a id=__codelineno-0-2072 name=__codelineno-0-2072></a>                        <span class=p>)</span>
</span><span id=__span-0-2073><a id=__codelineno-0-2073 name=__codelineno-0-2073></a>                    <span class=p>)</span>
</span><span id=__span-0-2074><a id=__codelineno-0-2074 name=__codelineno-0-2074></a>
</span><span id=__span-0-2075><a id=__codelineno-0-2075 name=__codelineno-0-2075></a>                <span class=c1># Add separator</span>
</span><span id=__span-0-2076><a id=__codelineno-0-2076 name=__codelineno-0-2076></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-2077><a id=__codelineno-0-2077 name=__codelineno-0-2077></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Separator</span><span class=p>(</span><span class=s2>&quot;───────────────────────────&quot;</span><span class=p>)</span>
</span><span id=__span-0-2078><a id=__codelineno-0-2078 name=__codelineno-0-2078></a>                <span class=p>)</span>
</span><span id=__span-0-2079><a id=__codelineno-0-2079 name=__codelineno-0-2079></a>
</span><span id=__span-0-2080><a id=__codelineno-0-2080 name=__codelineno-0-2080></a>                <span class=c1># Multisport watches</span>
</span><span id=__span-0-2081><a id=__codelineno-0-2081 name=__codelineno-0-2081></a>                <span class=n>watches</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-2082><a id=__codelineno-0-2082 name=__codelineno-0-2082></a>                    <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span><span class=p>)</span>
</span><span id=__span-0-2083><a id=__codelineno-0-2083 name=__codelineno-0-2083></a>                    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span> <span class=ow>in</span> <span class=n>supported_devices</span>
</span><span id=__span-0-2084><a id=__codelineno-0-2084 name=__codelineno-0-2084></a>                    <span class=k>if</span> <span class=nb>any</span><span class=p>(</span>
</span><span id=__span-0-2085><a id=__codelineno-0-2085 name=__codelineno-0-2085></a>                        <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>device_id</span>
</span><span id=__span-0-2086><a id=__codelineno-0-2086 name=__codelineno-0-2086></a>                        <span class=ow>and</span> <span class=n>d</span><span class=o>.</span><span class=n>category</span> <span class=o>==</span> <span class=s2>&quot;multisport_watch&quot;</span>
</span><span id=__span-0-2087><a id=__codelineno-0-2087 name=__codelineno-0-2087></a>                        <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span>
</span><span id=__span-0-2088><a id=__codelineno-0-2088 name=__codelineno-0-2088></a>                    <span class=p>)</span>
</span><span id=__span-0-2089><a id=__codelineno-0-2089 name=__codelineno-0-2089></a>                <span class=p>]</span>
</span><span id=__span-0-2090><a id=__codelineno-0-2090 name=__codelineno-0-2090></a>                <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span> <span class=ow>in</span> <span class=n>watches</span><span class=p>:</span>
</span><span id=__span-0-2091><a id=__codelineno-0-2091 name=__codelineno-0-2091></a>                    <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-2092><a id=__codelineno-0-2092 name=__codelineno-0-2092></a>                        <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
</span><span id=__span-0-2093><a id=__codelineno-0-2093 name=__codelineno-0-2093></a>                            <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=n>device_id</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>,</span> <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>)</span>
</span><span id=__span-0-2094><a id=__codelineno-0-2094 name=__codelineno-0-2094></a>                        <span class=p>)</span>
</span><span id=__span-0-2095><a id=__codelineno-0-2095 name=__codelineno-0-2095></a>                    <span class=p>)</span>
</span><span id=__span-0-2096><a id=__codelineno-0-2096 name=__codelineno-0-2096></a>
</span><span id=__span-0-2097><a id=__codelineno-0-2097 name=__codelineno-0-2097></a>                <span class=c1># Add separator and special options</span>
</span><span id=__span-0-2098><a id=__codelineno-0-2098 name=__codelineno-0-2098></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-2099><a id=__codelineno-0-2099 name=__codelineno-0-2099></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Separator</span><span class=p>(</span><span class=s2>&quot;───────────────────────────&quot;</span><span class=p>)</span>
</span><span id=__span-0-2100><a id=__codelineno-0-2100 name=__codelineno-0-2100></a>                <span class=p>)</span>
</span><span id=__span-0-2101><a id=__codelineno-0-2101 name=__codelineno-0-2101></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-2102><a id=__codelineno-0-2102 name=__codelineno-0-2102></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
</span><span id=__span-0-2103><a id=__codelineno-0-2103 name=__codelineno-0-2103></a>                        <span class=s2>&quot;View all devices (70+ options)...&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;VIEW_ALL&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-2104><a id=__codelineno-0-2104 name=__codelineno-0-2104></a>                    <span class=p>)</span>
</span><span id=__span-0-2105><a id=__codelineno-0-2105 name=__codelineno-0-2105></a>                <span class=p>)</span>
</span><span id=__span-0-2106><a id=__codelineno-0-2106 name=__codelineno-0-2106></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-2107><a id=__codelineno-0-2107 name=__codelineno-0-2107></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
</span><span id=__span-0-2108><a id=__codelineno-0-2108 name=__codelineno-0-2108></a>                        <span class=s2>&quot;Custom (enter numeric ID)&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;CUSTOM&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-2109><a id=__codelineno-0-2109 name=__codelineno-0-2109></a>                    <span class=p>)</span>
</span><span id=__span-0-2110><a id=__codelineno-0-2110 name=__codelineno-0-2110></a>                <span class=p>)</span>
</span><span id=__span-0-2111><a id=__codelineno-0-2111 name=__codelineno-0-2111></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-2112><a id=__codelineno-0-2112 name=__codelineno-0-2112></a>                <span class=c1># Level 2: All devices</span>
</span><span id=__span-0-2113><a id=__codelineno-0-2113 name=__codelineno-0-2113></a>                <span class=c1># Group by category</span>
</span><span id=__span-0-2114><a id=__codelineno-0-2114 name=__codelineno-0-2114></a>                <span class=n>categories</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-2115><a id=__codelineno-0-2115 name=__codelineno-0-2115></a>                <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>,</span> <span class=n>desc</span> <span class=ow>in</span> <span class=n>supported_devices</span><span class=p>:</span>
</span><span id=__span-0-2116><a id=__codelineno-0-2116 name=__codelineno-0-2116></a>                    <span class=c1># Determine category</span>
</span><span id=__span-0-2117><a id=__codelineno-0-2117 name=__codelineno-0-2117></a>                    <span class=n>category</span> <span class=o>=</span> <span class=s2>&quot;Other&quot;</span>
</span><span id=__span-0-2118><a id=__codelineno-0-2118 name=__codelineno-0-2118></a>                    <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span><span class=p>:</span>
</span><span id=__span-0-2119><a id=__codelineno-0-2119 name=__codelineno-0-2119></a>                        <span class=k>if</span> <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>device_id</span><span class=p>:</span>
</span><span id=__span-0-2120><a id=__codelineno-0-2120 name=__codelineno-0-2120></a>                            <span class=n>category</span> <span class=o>=</span> <span class=n>d</span><span class=o>.</span><span class=n>category</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;_&quot;</span><span class=p>,</span> <span class=s2>&quot; &quot;</span><span class=p>)</span><span class=o>.</span><span class=n>title</span><span class=p>()</span>
</span><span id=__span-0-2121><a id=__codelineno-0-2121 name=__codelineno-0-2121></a>                            <span class=k>break</span>
</span><span id=__span-0-2122><a id=__codelineno-0-2122 name=__codelineno-0-2122></a>
</span><span id=__span-0-2123><a id=__codelineno-0-2123 name=__codelineno-0-2123></a>                    <span class=k>if</span> <span class=n>category</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>categories</span><span class=p>:</span>
</span><span id=__span-0-2124><a id=__codelineno-0-2124 name=__codelineno-0-2124></a>                        <span class=n>categories</span><span class=p>[</span><span class=n>category</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-2125><a id=__codelineno-0-2125 name=__codelineno-0-2125></a>
</span><span id=__span-0-2126><a id=__codelineno-0-2126 name=__codelineno-0-2126></a>                    <span class=n>display</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=n>device_id</span><span class=si>}</span><span class=s2>)&quot;</span>
</span><span id=__span-0-2127><a id=__codelineno-0-2127 name=__codelineno-0-2127></a>                    <span class=n>categories</span><span class=p>[</span><span class=n>category</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>display</span><span class=p>,</span> <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>device_id</span><span class=p>)))</span>
</span><span id=__span-0-2128><a id=__codelineno-0-2128 name=__codelineno-0-2128></a>
</span><span id=__span-0-2129><a id=__codelineno-0-2129 name=__codelineno-0-2129></a>                <span class=c1># Add devices by category</span>
</span><span id=__span-0-2130><a id=__codelineno-0-2130 name=__codelineno-0-2130></a>                <span class=k>for</span> <span class=n>category</span> <span class=ow>in</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>categories</span><span class=o>.</span><span class=n>keys</span><span class=p>()):</span>
</span><span id=__span-0-2131><a id=__codelineno-0-2131 name=__codelineno-0-2131></a>                    <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-2132><a id=__codelineno-0-2132 name=__codelineno-0-2132></a>                        <span class=n>questionary</span><span class=o>.</span><span class=n>Separator</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;─── </span><span class=si>{</span><span class=n>category</span><span class=si>}</span><span class=s2> ───&quot;</span><span class=p>)</span>
</span><span id=__span-0-2133><a id=__codelineno-0-2133 name=__codelineno-0-2133></a>                    <span class=p>)</span>
</span><span id=__span-0-2134><a id=__codelineno-0-2134 name=__codelineno-0-2134></a>                    <span class=k>for</span> <span class=n>display</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>categories</span><span class=p>[</span><span class=n>category</span><span class=p>]:</span>
</span><span id=__span-0-2135><a id=__codelineno-0-2135 name=__codelineno-0-2135></a>                        <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span><span class=n>display</span><span class=p>,</span> <span class=n>value</span><span class=p>))</span>
</span><span id=__span-0-2136><a id=__codelineno-0-2136 name=__codelineno-0-2136></a>
</span><span id=__span-0-2137><a id=__codelineno-0-2137 name=__codelineno-0-2137></a>                <span class=c1># Add separator and special options</span>
</span><span id=__span-0-2138><a id=__codelineno-0-2138 name=__codelineno-0-2138></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-2139><a id=__codelineno-0-2139 name=__codelineno-0-2139></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Separator</span><span class=p>(</span><span class=s2>&quot;───────────────────────────&quot;</span><span class=p>)</span>
</span><span id=__span-0-2140><a id=__codelineno-0-2140 name=__codelineno-0-2140></a>                <span class=p>)</span>
</span><span id=__span-0-2141><a id=__codelineno-0-2141 name=__codelineno-0-2141></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-2142><a id=__codelineno-0-2142 name=__codelineno-0-2142></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span><span class=s2>&quot;Back to common devices&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;BACK&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>))</span>
</span><span id=__span-0-2143><a id=__codelineno-0-2143 name=__codelineno-0-2143></a>                <span class=p>)</span>
</span><span id=__span-0-2144><a id=__codelineno-0-2144 name=__codelineno-0-2144></a>                <span class=n>device_choices</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-2145><a id=__codelineno-0-2145 name=__codelineno-0-2145></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
</span><span id=__span-0-2146><a id=__codelineno-0-2146 name=__codelineno-0-2146></a>                        <span class=s2>&quot;Custom (enter numeric ID)&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;CUSTOM&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-2147><a id=__codelineno-0-2147 name=__codelineno-0-2147></a>                    <span class=p>)</span>
</span><span id=__span-0-2148><a id=__codelineno-0-2148 name=__codelineno-0-2148></a>                <span class=p>)</span>
</span><span id=__span-0-2149><a id=__codelineno-0-2149 name=__codelineno-0-2149></a>
</span><span id=__span-0-2150><a id=__codelineno-0-2150 name=__codelineno-0-2150></a>            <span class=c1># Show the menu</span>
</span><span id=__span-0-2151><a id=__codelineno-0-2151 name=__codelineno-0-2151></a>            <span class=n>selected</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>select</span><span class=p>(</span>
</span><span id=__span-0-2152><a id=__codelineno-0-2152 name=__codelineno-0-2152></a>                <span class=s2>&quot;Select Garmin device to simulate:&quot;</span><span class=p>,</span> <span class=n>choices</span><span class=o>=</span><span class=n>device_choices</span>
</span><span id=__span-0-2153><a id=__codelineno-0-2153 name=__codelineno-0-2153></a>            <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2154><a id=__codelineno-0-2154 name=__codelineno-0-2154></a>
</span><span id=__span-0-2155><a id=__codelineno-0-2155 name=__codelineno-0-2155></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>selected</span><span class=p>:</span>
</span><span id=__span-0-2156><a id=__codelineno-0-2156 name=__codelineno-0-2156></a>                <span class=n>device_selected</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-2157><a id=__codelineno-0-2157 name=__codelineno-0-2157></a>                <span class=k>continue</span>
</span><span id=__span-0-2158><a id=__codelineno-0-2158 name=__codelineno-0-2158></a>
</span><span id=__span-0-2159><a id=__codelineno-0-2159 name=__codelineno-0-2159></a>            <span class=c1># Extract value from Choice object if necessary (for testing)</span>
</span><span id=__span-0-2160><a id=__codelineno-0-2160 name=__codelineno-0-2160></a>            <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>selected</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span><span class=p>):</span>
</span><span id=__span-0-2161><a id=__codelineno-0-2161 name=__codelineno-0-2161></a>                <span class=n>selected</span> <span class=o>=</span> <span class=n>selected</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-0-2162><a id=__codelineno-0-2162 name=__codelineno-0-2162></a>
</span><span id=__span-0-2163><a id=__codelineno-0-2163 name=__codelineno-0-2163></a>            <span class=n>device_name</span><span class=p>,</span> <span class=n>device_id</span> <span class=o>=</span> <span class=n>selected</span>
</span><span id=__span-0-2164><a id=__codelineno-0-2164 name=__codelineno-0-2164></a>
</span><span id=__span-0-2165><a id=__codelineno-0-2165 name=__codelineno-0-2165></a>            <span class=k>if</span> <span class=n>device_name</span> <span class=o>==</span> <span class=s2>&quot;VIEW_ALL&quot;</span><span class=p>:</span>
</span><span id=__span-0-2166><a id=__codelineno-0-2166 name=__codelineno-0-2166></a>                <span class=c1># Switch to showing all devices</span>
</span><span id=__span-0-2167><a id=__codelineno-0-2167 name=__codelineno-0-2167></a>                <span class=n>show_all</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-2168><a id=__codelineno-0-2168 name=__codelineno-0-2168></a>                <span class=k>continue</span>
</span><span id=__span-0-2169><a id=__codelineno-0-2169 name=__codelineno-0-2169></a>            <span class=k>elif</span> <span class=n>device_name</span> <span class=o>==</span> <span class=s2>&quot;BACK&quot;</span><span class=p>:</span>
</span><span id=__span-0-2170><a id=__codelineno-0-2170 name=__codelineno-0-2170></a>                <span class=c1># Switch back to common devices</span>
</span><span id=__span-0-2171><a id=__codelineno-0-2171 name=__codelineno-0-2171></a>                <span class=n>show_all</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-2172><a id=__codelineno-0-2172 name=__codelineno-0-2172></a>                <span class=k>continue</span>
</span><span id=__span-0-2173><a id=__codelineno-0-2173 name=__codelineno-0-2173></a>            <span class=k>elif</span> <span class=n>device_name</span> <span class=o>==</span> <span class=s2>&quot;CUSTOM&quot;</span><span class=p>:</span>
</span><span id=__span-0-2174><a id=__codelineno-0-2174 name=__codelineno-0-2174></a>                <span class=c1># Allow custom numeric ID</span>
</span><span id=__span-0-2175><a id=__codelineno-0-2175 name=__codelineno-0-2175></a>                <span class=n>device_input</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>text</span><span class=p>(</span>
</span><span id=__span-0-2176><a id=__codelineno-0-2176 name=__codelineno-0-2176></a>                    <span class=s2>&quot;Enter numeric device ID:&quot;</span><span class=p>,</span>
</span><span id=__span-0-2177><a id=__codelineno-0-2177 name=__codelineno-0-2177></a>                    <span class=n>validate</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>isdigit</span><span class=p>()</span> <span class=ow>and</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>,</span>
</span><span id=__span-0-2178><a id=__codelineno-0-2178 name=__codelineno-0-2178></a>                <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2179><a id=__codelineno-0-2179 name=__codelineno-0-2179></a>
</span><span id=__span-0-2180><a id=__codelineno-0-2180 name=__codelineno-0-2180></a>                <span class=k>if</span> <span class=n>device_input</span><span class=p>:</span>
</span><span id=__span-0-2181><a id=__codelineno-0-2181 name=__codelineno-0-2181></a>                    <span class=n>new_device</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>device_input</span><span class=p>)</span>
</span><span id=__span-0-2182><a id=__codelineno-0-2182 name=__codelineno-0-2182></a>                    <span class=n>device_selected</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-2183><a id=__codelineno-0-2183 name=__codelineno-0-2183></a>
</span><span id=__span-0-2184><a id=__codelineno-0-2184 name=__codelineno-0-2184></a>                    <span class=c1># Warn if device ID not in enum or supplemental registry</span>
</span><span id=__span-0-2185><a id=__codelineno-0-2185 name=__codelineno-0-2185></a>                    <span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.vendor.fit_tool.profile.profile_type</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
</span><span id=__span-0-2186><a id=__codelineno-0-2186 name=__codelineno-0-2186></a>                        <span class=n>GarminProduct</span><span class=p>,</span>
</span><span id=__span-0-2187><a id=__codelineno-0-2187 name=__codelineno-0-2187></a>                    <span class=p>)</span>
</span><span id=__span-0-2188><a id=__codelineno-0-2188 name=__codelineno-0-2188></a>
</span><span id=__span-0-2189><a id=__codelineno-0-2189 name=__codelineno-0-2189></a>                    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-2190><a id=__codelineno-0-2190 name=__codelineno-0-2190></a>                        <span class=n>GarminProduct</span><span class=p>(</span><span class=n>new_device</span><span class=p>)</span>
</span><span id=__span-0-2191><a id=__codelineno-0-2191 name=__codelineno-0-2191></a>                    <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span><span id=__span-0-2192><a id=__codelineno-0-2192 name=__codelineno-0-2192></a>                        <span class=c1># Check supplemental registry</span>
</span><span id=__span-0-2193><a id=__codelineno-0-2193 name=__codelineno-0-2193></a>                        <span class=n>found</span> <span class=o>=</span> <span class=nb>any</span><span class=p>(</span>
</span><span id=__span-0-2194><a id=__codelineno-0-2194 name=__codelineno-0-2194></a>                            <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>new_device</span>
</span><span id=__span-0-2195><a id=__codelineno-0-2195 name=__codelineno-0-2195></a>                            <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span>
</span><span id=__span-0-2196><a id=__codelineno-0-2196 name=__codelineno-0-2196></a>                        <span class=p>)</span>
</span><span id=__span-0-2197><a id=__codelineno-0-2197 name=__codelineno-0-2197></a>                        <span class=k>if</span> <span class=ow>not</span> <span class=n>found</span><span class=p>:</span>
</span><span id=__span-0-2198><a id=__codelineno-0-2198 name=__codelineno-0-2198></a>                            <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-2199><a id=__codelineno-0-2199 name=__codelineno-0-2199></a>                                <span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[yellow]⚠ Warning: Device ID </span><span class=si>{</span><span class=n>new_device</span><span class=si>}</span><span class=s2> is not recognized in the &quot;</span>
</span><span id=__span-0-2200><a id=__codelineno-0-2200 name=__codelineno-0-2200></a>                                <span class=sa>f</span><span class=s2>&quot;GarminProduct enum or supplemental registry. The profile will still be updated.[/yellow]&quot;</span>
</span><span id=__span-0-2201><a id=__codelineno-0-2201 name=__codelineno-0-2201></a>                            <span class=p>)</span>
</span><span id=__span-0-2202><a id=__codelineno-0-2202 name=__codelineno-0-2202></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-2203><a id=__codelineno-0-2203 name=__codelineno-0-2203></a>                <span class=c1># Device selected</span>
</span><span id=__span-0-2204><a id=__codelineno-0-2204 name=__codelineno-0-2204></a>                <span class=n>new_device</span> <span class=o>=</span> <span class=n>device_id</span>
</span><span id=__span-0-2205><a id=__codelineno-0-2205 name=__codelineno-0-2205></a>                <span class=n>device_selected</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-2206><a id=__codelineno-0-2206 name=__codelineno-0-2206></a>
</span><span id=__span-0-2207><a id=__codelineno-0-2207 name=__codelineno-0-2207></a>        <span class=c1># Look up software_version from supplemental registry</span>
</span><span id=__span-0-2208><a id=__codelineno-0-2208 name=__codelineno-0-2208></a>        <span class=k>if</span> <span class=n>new_device</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2209><a id=__codelineno-0-2209 name=__codelineno-0-2209></a>            <span class=n>device_info</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span>
</span><span id=__span-0-2210><a id=__codelineno-0-2210 name=__codelineno-0-2210></a>                <span class=p>(</span>
</span><span id=__span-0-2211><a id=__codelineno-0-2211 name=__codelineno-0-2211></a>                    <span class=n>d</span>
</span><span id=__span-0-2212><a id=__codelineno-0-2212 name=__codelineno-0-2212></a>                    <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span>
</span><span id=__span-0-2213><a id=__codelineno-0-2213 name=__codelineno-0-2213></a>                    <span class=k>if</span> <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>new_device</span>
</span><span id=__span-0-2214><a id=__codelineno-0-2214 name=__codelineno-0-2214></a>                <span class=p>),</span>
</span><span id=__span-0-2215><a id=__codelineno-0-2215 name=__codelineno-0-2215></a>                <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2216><a id=__codelineno-0-2216 name=__codelineno-0-2216></a>            <span class=p>)</span>
</span><span id=__span-0-2217><a id=__codelineno-0-2217 name=__codelineno-0-2217></a>            <span class=k>if</span> <span class=n>device_info</span> <span class=ow>and</span> <span class=n>device_info</span><span class=o>.</span><span class=n>software_version</span><span class=p>:</span>
</span><span id=__span-0-2218><a id=__codelineno-0-2218 name=__codelineno-0-2218></a>                <span class=n>new_software_version</span> <span class=o>=</span> <span class=n>device_info</span><span class=o>.</span><span class=n>software_version</span>
</span><span id=__span-0-2219><a id=__codelineno-0-2219 name=__codelineno-0-2219></a>
</span><span id=__span-0-2220><a id=__codelineno-0-2220 name=__codelineno-0-2220></a>            <span class=c1># Always use Garmin manufacturer</span>
</span><span id=__span-0-2221><a id=__codelineno-0-2221 name=__codelineno-0-2221></a>            <span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.vendor.fit_tool.profile.profile_type</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
</span><span id=__span-0-2222><a id=__codelineno-0-2222 name=__codelineno-0-2222></a>                <span class=n>Manufacturer</span><span class=p>,</span>
</span><span id=__span-0-2223><a id=__codelineno-0-2223 name=__codelineno-0-2223></a>            <span class=p>)</span>
</span><span id=__span-0-2224><a id=__codelineno-0-2224 name=__codelineno-0-2224></a>
</span><span id=__span-0-2225><a id=__codelineno-0-2225 name=__codelineno-0-2225></a>            <span class=n>new_manufacturer</span> <span class=o>=</span> <span class=n>Manufacturer</span><span class=o>.</span><span class=n>GARMIN</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-0-2226><a id=__codelineno-0-2226 name=__codelineno-0-2226></a>
</span><span id=__span-0-2227><a id=__codelineno-0-2227 name=__codelineno-0-2227></a>        <span class=c1># Ask about serial number editing</span>
</span><span id=__span-0-2228><a id=__codelineno-0-2228 name=__codelineno-0-2228></a>        <span class=n>edit_serial</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>confirm</span><span class=p>(</span>
</span><span id=__span-0-2229><a id=__codelineno-0-2229 name=__codelineno-0-2229></a>            <span class=sa>f</span><span class=s2>&quot;Edit serial number? (current: </span><span class=si>{</span><span class=n>current_serial</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-0-2230><a id=__codelineno-0-2230 name=__codelineno-0-2230></a>        <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2231><a id=__codelineno-0-2231 name=__codelineno-0-2231></a>
</span><span id=__span-0-2232><a id=__codelineno-0-2232 name=__codelineno-0-2232></a>        <span class=k>if</span> <span class=n>edit_serial</span><span class=p>:</span>
</span><span id=__span-0-2233><a id=__codelineno-0-2233 name=__codelineno-0-2233></a>            <span class=c1># Ask if user wants to enter custom or generate random</span>
</span><span id=__span-0-2234><a id=__codelineno-0-2234 name=__codelineno-0-2234></a>            <span class=n>serial_choice</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>select</span><span class=p>(</span>
</span><span id=__span-0-2235><a id=__codelineno-0-2235 name=__codelineno-0-2235></a>                <span class=s2>&quot;How would you like to set the serial number?&quot;</span><span class=p>,</span>
</span><span id=__span-0-2236><a id=__codelineno-0-2236 name=__codelineno-0-2236></a>                <span class=n>choices</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-0-2237><a id=__codelineno-0-2237 name=__codelineno-0-2237></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span><span class=s2>&quot;Generate random serial number&quot;</span><span class=p>,</span> <span class=s2>&quot;random&quot;</span><span class=p>),</span>
</span><span id=__span-0-2238><a id=__codelineno-0-2238 name=__codelineno-0-2238></a>                    <span class=n>questionary</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span><span class=s2>&quot;Enter custom serial number&quot;</span><span class=p>,</span> <span class=s2>&quot;custom&quot;</span><span class=p>),</span>
</span><span id=__span-0-2239><a id=__codelineno-0-2239 name=__codelineno-0-2239></a>                <span class=p>],</span>
</span><span id=__span-0-2240><a id=__codelineno-0-2240 name=__codelineno-0-2240></a>            <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2241><a id=__codelineno-0-2241 name=__codelineno-0-2241></a>
</span><span id=__span-0-2242><a id=__codelineno-0-2242 name=__codelineno-0-2242></a>            <span class=k>if</span> <span class=n>serial_choice</span> <span class=o>==</span> <span class=s2>&quot;random&quot;</span><span class=p>:</span>
</span><span id=__span-0-2243><a id=__codelineno-0-2243 name=__codelineno-0-2243></a>                <span class=kn>import</span><span class=w> </span><span class=nn>random</span>
</span><span id=__span-0-2244><a id=__codelineno-0-2244 name=__codelineno-0-2244></a>
</span><span id=__span-0-2245><a id=__codelineno-0-2245 name=__codelineno-0-2245></a>                <span class=n>new_serial</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>1_000_000_000</span><span class=p>,</span> <span class=mi>4_294_967_295</span><span class=p>)</span>
</span><span id=__span-0-2246><a id=__codelineno-0-2246 name=__codelineno-0-2246></a>                <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-2247><a id=__codelineno-0-2247 name=__codelineno-0-2247></a>                    <span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[green]Generated new serial number: </span><span class=si>{</span><span class=n>new_serial</span><span class=si>}</span><span class=s2>[/green]&quot;</span>
</span><span id=__span-0-2248><a id=__codelineno-0-2248 name=__codelineno-0-2248></a>                <span class=p>)</span>
</span><span id=__span-0-2249><a id=__codelineno-0-2249 name=__codelineno-0-2249></a>            <span class=k>elif</span> <span class=n>serial_choice</span> <span class=o>==</span> <span class=s2>&quot;custom&quot;</span><span class=p>:</span>
</span><span id=__span-0-2250><a id=__codelineno-0-2250 name=__codelineno-0-2250></a>                <span class=c1># Show instructions for finding device serial number</span>
</span><span id=__span-0-2251><a id=__codelineno-0-2251 name=__codelineno-0-2251></a>                <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-2252><a id=__codelineno-0-2252 name=__codelineno-0-2252></a>                    <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[dim]To find your device&#39;s serial number (Unit ID):[/dim]&quot;</span>
</span><span id=__span-0-2253><a id=__codelineno-0-2253 name=__codelineno-0-2253></a>                <span class=p>)</span>
</span><span id=__span-0-2254><a id=__codelineno-0-2254 name=__codelineno-0-2254></a>                <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-2255><a id=__codelineno-0-2255 name=__codelineno-0-2255></a>                    <span class=s2>&quot;[dim]  Garmin Edge: System → About → Copyright Info → Unit ID[/dim]</span><span class=se>\n</span><span class=s2>&quot;</span>
</span><span id=__span-0-2256><a id=__codelineno-0-2256 name=__codelineno-0-2256></a>                <span class=p>)</span>
</span><span id=__span-0-2257><a id=__codelineno-0-2257 name=__codelineno-0-2257></a>
</span><span id=__span-0-2258><a id=__codelineno-0-2258 name=__codelineno-0-2258></a>                <span class=n>serial_input</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>text</span><span class=p>(</span>
</span><span id=__span-0-2259><a id=__codelineno-0-2259 name=__codelineno-0-2259></a>                    <span class=s2>&quot;Enter new 10-digit serial number:&quot;</span><span class=p>,</span>
</span><span id=__span-0-2260><a id=__codelineno-0-2260 name=__codelineno-0-2260></a>                    <span class=n>default</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span><span class=p>)</span>
</span><span id=__span-0-2261><a id=__codelineno-0-2261 name=__codelineno-0-2261></a>                    <span class=k>if</span> <span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span>
</span><span id=__span-0-2262><a id=__codelineno-0-2262 name=__codelineno-0-2262></a>                    <span class=k>else</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-0-2263><a id=__codelineno-0-2263 name=__codelineno-0-2263></a>                    <span class=n>validate</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=p>(</span>
</span><span id=__span-0-2264><a id=__codelineno-0-2264 name=__codelineno-0-2264></a>                        <span class=n>x</span><span class=o>.</span><span class=n>isdigit</span><span class=p>()</span>
</span><span id=__span-0-2265><a id=__codelineno-0-2265 name=__codelineno-0-2265></a>                        <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>==</span> <span class=mi>10</span>
</span><span id=__span-0-2266><a id=__codelineno-0-2266 name=__codelineno-0-2266></a>                        <span class=ow>and</span> <span class=mi>1_000_000_000</span> <span class=o>&lt;=</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=o>&lt;=</span> <span class=mi>4_294_967_295</span>
</span><span id=__span-0-2267><a id=__codelineno-0-2267 name=__codelineno-0-2267></a>                    <span class=p>)</span>
</span><span id=__span-0-2268><a id=__codelineno-0-2268 name=__codelineno-0-2268></a>                    <span class=ow>or</span> <span class=s2>&quot;Must be a 10-digit number between 1000000000 and 4294967295&quot;</span><span class=p>,</span>
</span><span id=__span-0-2269><a id=__codelineno-0-2269 name=__codelineno-0-2269></a>                <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2270><a id=__codelineno-0-2270 name=__codelineno-0-2270></a>
</span><span id=__span-0-2271><a id=__codelineno-0-2271 name=__codelineno-0-2271></a>                <span class=k>if</span> <span class=n>serial_input</span> <span class=ow>and</span> <span class=n>serial_input</span><span class=o>.</span><span class=n>isdigit</span><span class=p>():</span>
</span><span id=__span-0-2272><a id=__codelineno-0-2272 name=__codelineno-0-2272></a>                    <span class=n>new_serial</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>serial_input</span><span class=p>)</span>
</span><span id=__span-0-2273><a id=__codelineno-0-2273 name=__codelineno-0-2273></a>
</span><span id=__span-0-2274><a id=__codelineno-0-2274 name=__codelineno-0-2274></a>    <span class=c1># Update profile with provided values</span>
</span><span id=__span-0-2275><a id=__codelineno-0-2275 name=__codelineno-0-2275></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-2276><a id=__codelineno-0-2276 name=__codelineno-0-2276></a>        <span class=bp>self</span><span class=o>.</span><span class=n>update_profile</span><span class=p>(</span>
</span><span id=__span-0-2277><a id=__codelineno-0-2277 name=__codelineno-0-2277></a>            <span class=n>name</span><span class=o>=</span><span class=n>profile_name</span><span class=p>,</span>
</span><span id=__span-0-2278><a id=__codelineno-0-2278 name=__codelineno-0-2278></a>            <span class=n>new_name</span><span class=o>=</span><span class=n>new_name</span> <span class=k>if</span> <span class=n>new_name</span> <span class=k>else</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2279><a id=__codelineno-0-2279 name=__codelineno-0-2279></a>            <span class=n>garmin_username</span><span class=o>=</span><span class=n>new_username</span> <span class=k>if</span> <span class=n>new_username</span> <span class=k>else</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2280><a id=__codelineno-0-2280 name=__codelineno-0-2280></a>            <span class=n>garmin_password</span><span class=o>=</span><span class=n>new_password</span> <span class=k>if</span> <span class=n>new_password</span> <span class=k>else</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2281><a id=__codelineno-0-2281 name=__codelineno-0-2281></a>            <span class=n>fitfiles_path</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=n>new_path</span><span class=p>)</span> <span class=k>if</span> <span class=n>new_path</span> <span class=k>else</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2282><a id=__codelineno-0-2282 name=__codelineno-0-2282></a>            <span class=n>manufacturer</span><span class=o>=</span><span class=n>new_manufacturer</span><span class=p>,</span>
</span><span id=__span-0-2283><a id=__codelineno-0-2283 name=__codelineno-0-2283></a>            <span class=n>device</span><span class=o>=</span><span class=n>new_device</span><span class=p>,</span>
</span><span id=__span-0-2284><a id=__codelineno-0-2284 name=__codelineno-0-2284></a>            <span class=n>serial_number</span><span class=o>=</span><span class=n>new_serial</span><span class=p>,</span>
</span><span id=__span-0-2285><a id=__codelineno-0-2285 name=__codelineno-0-2285></a>            <span class=n>software_version</span><span class=o>=</span><span class=n>new_software_version</span><span class=p>,</span>
</span><span id=__span-0-2286><a id=__codelineno-0-2286 name=__codelineno-0-2286></a>        <span class=p>)</span>
</span><span id=__span-0-2287><a id=__codelineno-0-2287 name=__codelineno-0-2287></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[green]✓ Profile updated successfully![/green]&quot;</span><span class=p>)</span>
</span><span id=__span-0-2288><a id=__codelineno-0-2288 name=__codelineno-0-2288></a>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-2289><a id=__codelineno-0-2289 name=__codelineno-0-2289></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[red]✗ Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>[/red]&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.get_profile class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_profile</span> <a href=#fit_file_faker.config.ProfileManager.get_profile class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_profile</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get profile by name.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The profile name to retrieve.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a> | None</code> </td> <td> <div class=doc-md-description> <p>Profile object if found, None otherwise.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1395>1395</a></span>
<span class=normal><a href=#__codelineno-0-1396>1396</a></span>
<span class=normal><a href=#__codelineno-0-1397>1397</a></span>
<span class=normal><a href=#__codelineno-0-1398>1398</a></span>
<span class=normal><a href=#__codelineno-0-1399>1399</a></span>
<span class=normal><a href=#__codelineno-0-1400>1400</a></span>
<span class=normal><a href=#__codelineno-0-1401>1401</a></span>
<span class=normal><a href=#__codelineno-0-1402>1402</a></span>
<span class=normal><a href=#__codelineno-0-1403>1403</a></span>
<span class=normal><a href=#__codelineno-0-1404>1404</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1395><a id=__codelineno-0-1395 name=__codelineno-0-1395></a><span class=k>def</span><span class=w> </span><span class=nf>get_profile</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1396><a id=__codelineno-0-1396 name=__codelineno-0-1396></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get profile by name.</span>
</span><span id=__span-0-1397><a id=__codelineno-0-1397 name=__codelineno-0-1397></a>
</span><span id=__span-0-1398><a id=__codelineno-0-1398 name=__codelineno-0-1398></a><span class=sd>    Args:</span>
</span><span id=__span-0-1399><a id=__codelineno-0-1399 name=__codelineno-0-1399></a><span class=sd>        name: The profile name to retrieve.</span>
</span><span id=__span-0-1400><a id=__codelineno-0-1400 name=__codelineno-0-1400></a>
</span><span id=__span-0-1401><a id=__codelineno-0-1401 name=__codelineno-0-1401></a><span class=sd>    Returns:</span>
</span><span id=__span-0-1402><a id=__codelineno-0-1402 name=__codelineno-0-1402></a><span class=sd>        Profile object if found, None otherwise.</span>
</span><span id=__span-0-1403><a id=__codelineno-0-1403 name=__codelineno-0-1403></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1404><a id=__codelineno-0-1404 name=__codelineno-0-1404></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.interactive_menu class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">interactive_menu</span> <a href=#fit_file_faker.config.ProfileManager.interactive_menu class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>interactive_menu</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Display interactive profile management menu.</p> <p>Shows profile table and presents menu options for creating, editing, deleting profiles, and setting default.</p> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1612>1612</a></span>
<span class=normal><a href=#__codelineno-0-1613>1613</a></span>
<span class=normal><a href=#__codelineno-0-1614>1614</a></span>
<span class=normal><a href=#__codelineno-0-1615>1615</a></span>
<span class=normal><a href=#__codelineno-0-1616>1616</a></span>
<span class=normal><a href=#__codelineno-0-1617>1617</a></span>
<span class=normal><a href=#__codelineno-0-1618>1618</a></span>
<span class=normal><a href=#__codelineno-0-1619>1619</a></span>
<span class=normal><a href=#__codelineno-0-1620>1620</a></span>
<span class=normal><a href=#__codelineno-0-1621>1621</a></span>
<span class=normal><a href=#__codelineno-0-1622>1622</a></span>
<span class=normal><a href=#__codelineno-0-1623>1623</a></span>
<span class=normal><a href=#__codelineno-0-1624>1624</a></span>
<span class=normal><a href=#__codelineno-0-1625>1625</a></span>
<span class=normal><a href=#__codelineno-0-1626>1626</a></span>
<span class=normal><a href=#__codelineno-0-1627>1627</a></span>
<span class=normal><a href=#__codelineno-0-1628>1628</a></span>
<span class=normal><a href=#__codelineno-0-1629>1629</a></span>
<span class=normal><a href=#__codelineno-0-1630>1630</a></span>
<span class=normal><a href=#__codelineno-0-1631>1631</a></span>
<span class=normal><a href=#__codelineno-0-1632>1632</a></span>
<span class=normal><a href=#__codelineno-0-1633>1633</a></span>
<span class=normal><a href=#__codelineno-0-1634>1634</a></span>
<span class=normal><a href=#__codelineno-0-1635>1635</a></span>
<span class=normal><a href=#__codelineno-0-1636>1636</a></span>
<span class=normal><a href=#__codelineno-0-1637>1637</a></span>
<span class=normal><a href=#__codelineno-0-1638>1638</a></span>
<span class=normal><a href=#__codelineno-0-1639>1639</a></span>
<span class=normal><a href=#__codelineno-0-1640>1640</a></span>
<span class=normal><a href=#__codelineno-0-1641>1641</a></span>
<span class=normal><a href=#__codelineno-0-1642>1642</a></span>
<span class=normal><a href=#__codelineno-0-1643>1643</a></span>
<span class=normal><a href=#__codelineno-0-1644>1644</a></span>
<span class=normal><a href=#__codelineno-0-1645>1645</a></span>
<span class=normal><a href=#__codelineno-0-1646>1646</a></span>
<span class=normal><a href=#__codelineno-0-1647>1647</a></span>
<span class=normal><a href=#__codelineno-0-1648>1648</a></span>
<span class=normal><a href=#__codelineno-0-1649>1649</a></span>
<span class=normal><a href=#__codelineno-0-1650>1650</a></span>
<span class=normal><a href=#__codelineno-0-1651>1651</a></span>
<span class=normal><a href=#__codelineno-0-1652>1652</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1612><a id=__codelineno-0-1612 name=__codelineno-0-1612></a><span class=k>def</span><span class=w> </span><span class=nf>interactive_menu</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1613><a id=__codelineno-0-1613 name=__codelineno-0-1613></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Display interactive profile management menu.</span>
</span><span id=__span-0-1614><a id=__codelineno-0-1614 name=__codelineno-0-1614></a>
</span><span id=__span-0-1615><a id=__codelineno-0-1615 name=__codelineno-0-1615></a><span class=sd>    Shows profile table and presents menu options for creating,</span>
</span><span id=__span-0-1616><a id=__codelineno-0-1616 name=__codelineno-0-1616></a><span class=sd>    editing, deleting profiles, and setting default.</span>
</span><span id=__span-0-1617><a id=__codelineno-0-1617 name=__codelineno-0-1617></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1618><a id=__codelineno-0-1618 name=__codelineno-0-1618></a>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span><span id=__span-0-1619><a id=__codelineno-0-1619 name=__codelineno-0-1619></a>        <span class=n>console</span> <span class=o>=</span> <span class=n>Console</span><span class=p>()</span>
</span><span id=__span-0-1620><a id=__codelineno-0-1620 name=__codelineno-0-1620></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>  <span class=c1># Blank line</span>
</span><span id=__span-0-1621><a id=__codelineno-0-1621 name=__codelineno-0-1621></a>        <span class=bp>self</span><span class=o>.</span><span class=n>display_profiles_table</span><span class=p>()</span>
</span><span id=__span-0-1622><a id=__codelineno-0-1622 name=__codelineno-0-1622></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>  <span class=c1># Blank line</span>
</span><span id=__span-0-1623><a id=__codelineno-0-1623 name=__codelineno-0-1623></a>
</span><span id=__span-0-1624><a id=__codelineno-0-1624 name=__codelineno-0-1624></a>        <span class=n>choices</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-1625><a id=__codelineno-0-1625 name=__codelineno-0-1625></a>            <span class=s2>&quot;Create new profile&quot;</span><span class=p>,</span>
</span><span id=__span-0-1626><a id=__codelineno-0-1626 name=__codelineno-0-1626></a>            <span class=s2>&quot;Edit existing profile&quot;</span><span class=p>,</span>
</span><span id=__span-0-1627><a id=__codelineno-0-1627 name=__codelineno-0-1627></a>            <span class=s2>&quot;Delete profile&quot;</span><span class=p>,</span>
</span><span id=__span-0-1628><a id=__codelineno-0-1628 name=__codelineno-0-1628></a>            <span class=s2>&quot;Set default profile&quot;</span><span class=p>,</span>
</span><span id=__span-0-1629><a id=__codelineno-0-1629 name=__codelineno-0-1629></a>            <span class=s2>&quot;Exit&quot;</span><span class=p>,</span>
</span><span id=__span-0-1630><a id=__codelineno-0-1630 name=__codelineno-0-1630></a>        <span class=p>]</span>
</span><span id=__span-0-1631><a id=__codelineno-0-1631 name=__codelineno-0-1631></a>
</span><span id=__span-0-1632><a id=__codelineno-0-1632 name=__codelineno-0-1632></a>        <span class=n>action</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>select</span><span class=p>(</span>
</span><span id=__span-0-1633><a id=__codelineno-0-1633 name=__codelineno-0-1633></a>            <span class=s2>&quot;What would you like to do?&quot;</span><span class=p>,</span>
</span><span id=__span-0-1634><a id=__codelineno-0-1634 name=__codelineno-0-1634></a>            <span class=n>choices</span><span class=o>=</span><span class=n>choices</span><span class=p>,</span>
</span><span id=__span-0-1635><a id=__codelineno-0-1635 name=__codelineno-0-1635></a>            <span class=n>style</span><span class=o>=</span><span class=n>questionary</span><span class=o>.</span><span class=n>Style</span><span class=p>([(</span><span class=s2>&quot;highlighted&quot;</span><span class=p>,</span> <span class=s2>&quot;fg:cyan bold&quot;</span><span class=p>)]),</span>
</span><span id=__span-0-1636><a id=__codelineno-0-1636 name=__codelineno-0-1636></a>        <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1637><a id=__codelineno-0-1637 name=__codelineno-0-1637></a>
</span><span id=__span-0-1638><a id=__codelineno-0-1638 name=__codelineno-0-1638></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>action</span> <span class=ow>or</span> <span class=n>action</span> <span class=o>==</span> <span class=s2>&quot;Exit&quot;</span><span class=p>:</span>
</span><span id=__span-0-1639><a id=__codelineno-0-1639 name=__codelineno-0-1639></a>            <span class=k>break</span>
</span><span id=__span-0-1640><a id=__codelineno-0-1640 name=__codelineno-0-1640></a>
</span><span id=__span-0-1641><a id=__codelineno-0-1641 name=__codelineno-0-1641></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1642><a id=__codelineno-0-1642 name=__codelineno-0-1642></a>            <span class=k>if</span> <span class=n>action</span> <span class=o>==</span> <span class=s2>&quot;Create new profile&quot;</span><span class=p>:</span>
</span><span id=__span-0-1643><a id=__codelineno-0-1643 name=__codelineno-0-1643></a>                <span class=bp>self</span><span class=o>.</span><span class=n>create_profile_wizard</span><span class=p>()</span>
</span><span id=__span-0-1644><a id=__codelineno-0-1644 name=__codelineno-0-1644></a>            <span class=k>elif</span> <span class=n>action</span> <span class=o>==</span> <span class=s2>&quot;Edit existing profile&quot;</span><span class=p>:</span>
</span><span id=__span-0-1645><a id=__codelineno-0-1645 name=__codelineno-0-1645></a>                <span class=bp>self</span><span class=o>.</span><span class=n>edit_profile_wizard</span><span class=p>()</span>
</span><span id=__span-0-1646><a id=__codelineno-0-1646 name=__codelineno-0-1646></a>            <span class=k>elif</span> <span class=n>action</span> <span class=o>==</span> <span class=s2>&quot;Delete profile&quot;</span><span class=p>:</span>
</span><span id=__span-0-1647><a id=__codelineno-0-1647 name=__codelineno-0-1647></a>                <span class=bp>self</span><span class=o>.</span><span class=n>delete_profile_wizard</span><span class=p>()</span>
</span><span id=__span-0-1648><a id=__codelineno-0-1648 name=__codelineno-0-1648></a>            <span class=k>elif</span> <span class=n>action</span> <span class=o>==</span> <span class=s2>&quot;Set default profile&quot;</span><span class=p>:</span>
</span><span id=__span-0-1649><a id=__codelineno-0-1649 name=__codelineno-0-1649></a>                <span class=bp>self</span><span class=o>.</span><span class=n>set_default_wizard</span><span class=p>()</span>
</span><span id=__span-0-1650><a id=__codelineno-0-1650 name=__codelineno-0-1650></a>        <span class=k>except</span> <span class=p>(</span><span class=ne>KeyboardInterrupt</span><span class=p>,</span> <span class=ne>EOFError</span><span class=p>):</span>
</span><span id=__span-0-1651><a id=__codelineno-0-1651 name=__codelineno-0-1651></a>            <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[yellow]Operation cancelled.[/yellow]&quot;</span><span class=p>)</span>
</span><span id=__span-0-1652><a id=__codelineno-0-1652 name=__codelineno-0-1652></a>            <span class=k>continue</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.list_profiles class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">list_profiles</span> <a href=#fit_file_faker.config.ProfileManager.list_profiles class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>list_profiles</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=n>Profile</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get list of all profiles.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=list>list</span>[<a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a>]</code> </td> <td> <div class=doc-md-description> <p>List of all Profile objects.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1406>1406</a></span>
<span class=normal><a href=#__codelineno-0-1407>1407</a></span>
<span class=normal><a href=#__codelineno-0-1408>1408</a></span>
<span class=normal><a href=#__codelineno-0-1409>1409</a></span>
<span class=normal><a href=#__codelineno-0-1410>1410</a></span>
<span class=normal><a href=#__codelineno-0-1411>1411</a></span>
<span class=normal><a href=#__codelineno-0-1412>1412</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1406><a id=__codelineno-0-1406 name=__codelineno-0-1406></a><span class=k>def</span><span class=w> </span><span class=nf>list_profiles</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=n>Profile</span><span class=p>]:</span>
</span><span id=__span-0-1407><a id=__codelineno-0-1407 name=__codelineno-0-1407></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get list of all profiles.</span>
</span><span id=__span-0-1408><a id=__codelineno-0-1408 name=__codelineno-0-1408></a>
</span><span id=__span-0-1409><a id=__codelineno-0-1409 name=__codelineno-0-1409></a><span class=sd>    Returns:</span>
</span><span id=__span-0-1410><a id=__codelineno-0-1410 name=__codelineno-0-1410></a><span class=sd>        List of all Profile objects.</span>
</span><span id=__span-0-1411><a id=__codelineno-0-1411 name=__codelineno-0-1411></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1412><a id=__codelineno-0-1412 name=__codelineno-0-1412></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.set_default_profile class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">set_default_profile</span> <a href=#fit_file_faker.config.ProfileManager.set_default_profile class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>set_default_profile</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Set a profile as the default.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of profile to set as default.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=ValueError>ValueError</span></code> </td> <td> <div class=doc-md-description> <p>If profile not found.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1534>1534</a></span>
<span class=normal><a href=#__codelineno-0-1535>1535</a></span>
<span class=normal><a href=#__codelineno-0-1536>1536</a></span>
<span class=normal><a href=#__codelineno-0-1537>1537</a></span>
<span class=normal><a href=#__codelineno-0-1538>1538</a></span>
<span class=normal><a href=#__codelineno-0-1539>1539</a></span>
<span class=normal><a href=#__codelineno-0-1540>1540</a></span>
<span class=normal><a href=#__codelineno-0-1541>1541</a></span>
<span class=normal><a href=#__codelineno-0-1542>1542</a></span>
<span class=normal><a href=#__codelineno-0-1543>1543</a></span>
<span class=normal><a href=#__codelineno-0-1544>1544</a></span>
<span class=normal><a href=#__codelineno-0-1545>1545</a></span>
<span class=normal><a href=#__codelineno-0-1546>1546</a></span>
<span class=normal><a href=#__codelineno-0-1547>1547</a></span>
<span class=normal><a href=#__codelineno-0-1548>1548</a></span>
<span class=normal><a href=#__codelineno-0-1549>1549</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1534><a id=__codelineno-0-1534 name=__codelineno-0-1534></a><span class=k>def</span><span class=w> </span><span class=nf>set_default_profile</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1535><a id=__codelineno-0-1535 name=__codelineno-0-1535></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Set a profile as the default.</span>
</span><span id=__span-0-1536><a id=__codelineno-0-1536 name=__codelineno-0-1536></a>
</span><span id=__span-0-1537><a id=__codelineno-0-1537 name=__codelineno-0-1537></a><span class=sd>    Args:</span>
</span><span id=__span-0-1538><a id=__codelineno-0-1538 name=__codelineno-0-1538></a><span class=sd>        name: Name of profile to set as default.</span>
</span><span id=__span-0-1539><a id=__codelineno-0-1539 name=__codelineno-0-1539></a>
</span><span id=__span-0-1540><a id=__codelineno-0-1540 name=__codelineno-0-1540></a><span class=sd>    Raises:</span>
</span><span id=__span-0-1541><a id=__codelineno-0-1541 name=__codelineno-0-1541></a><span class=sd>        ValueError: If profile not found.</span>
</span><span id=__span-0-1542><a id=__codelineno-0-1542 name=__codelineno-0-1542></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1543><a id=__codelineno-0-1543 name=__codelineno-0-1543></a>    <span class=n>profile</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-0-1544><a id=__codelineno-0-1544 name=__codelineno-0-1544></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profile</span><span class=p>:</span>
</span><span id=__span-0-1545><a id=__codelineno-0-1545 name=__codelineno-0-1545></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Profile &quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot; not found&#39;</span><span class=p>)</span>
</span><span id=__span-0-1546><a id=__codelineno-0-1546 name=__codelineno-0-1546></a>
</span><span id=__span-0-1547><a id=__codelineno-0-1547 name=__codelineno-0-1547></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>default_profile</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-0-1548><a id=__codelineno-0-1548 name=__codelineno-0-1548></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>save_config</span><span class=p>()</span>
</span><span id=__span-0-1549><a id=__codelineno-0-1549 name=__codelineno-0-1549></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Set &quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot; as default profile&#39;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.set_default_wizard class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">set_default_wizard</span> <a href=#fit_file_faker.config.ProfileManager.set_default_wizard class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>set_default_wizard</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Interactive wizard for setting the default profile.</p> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2332>2332</a></span>
<span class=normal><a href=#__codelineno-0-2333>2333</a></span>
<span class=normal><a href=#__codelineno-0-2334>2334</a></span>
<span class=normal><a href=#__codelineno-0-2335>2335</a></span>
<span class=normal><a href=#__codelineno-0-2336>2336</a></span>
<span class=normal><a href=#__codelineno-0-2337>2337</a></span>
<span class=normal><a href=#__codelineno-0-2338>2338</a></span>
<span class=normal><a href=#__codelineno-0-2339>2339</a></span>
<span class=normal><a href=#__codelineno-0-2340>2340</a></span>
<span class=normal><a href=#__codelineno-0-2341>2341</a></span>
<span class=normal><a href=#__codelineno-0-2342>2342</a></span>
<span class=normal><a href=#__codelineno-0-2343>2343</a></span>
<span class=normal><a href=#__codelineno-0-2344>2344</a></span>
<span class=normal><a href=#__codelineno-0-2345>2345</a></span>
<span class=normal><a href=#__codelineno-0-2346>2346</a></span>
<span class=normal><a href=#__codelineno-0-2347>2347</a></span>
<span class=normal><a href=#__codelineno-0-2348>2348</a></span>
<span class=normal><a href=#__codelineno-0-2349>2349</a></span>
<span class=normal><a href=#__codelineno-0-2350>2350</a></span>
<span class=normal><a href=#__codelineno-0-2351>2351</a></span>
<span class=normal><a href=#__codelineno-0-2352>2352</a></span>
<span class=normal><a href=#__codelineno-0-2353>2353</a></span>
<span class=normal><a href=#__codelineno-0-2354>2354</a></span>
<span class=normal><a href=#__codelineno-0-2355>2355</a></span>
<span class=normal><a href=#__codelineno-0-2356>2356</a></span>
<span class=normal><a href=#__codelineno-0-2357>2357</a></span>
<span class=normal><a href=#__codelineno-0-2358>2358</a></span>
<span class=normal><a href=#__codelineno-0-2359>2359</a></span>
<span class=normal><a href=#__codelineno-0-2360>2360</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-2332><a id=__codelineno-0-2332 name=__codelineno-0-2332></a><span class=k>def</span><span class=w> </span><span class=nf>set_default_wizard</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2333><a id=__codelineno-0-2333 name=__codelineno-0-2333></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Interactive wizard for setting the default profile.&quot;&quot;&quot;</span>
</span><span id=__span-0-2334><a id=__codelineno-0-2334 name=__codelineno-0-2334></a>    <span class=n>console</span> <span class=o>=</span> <span class=n>Console</span><span class=p>()</span>
</span><span id=__span-0-2335><a id=__codelineno-0-2335 name=__codelineno-0-2335></a>
</span><span id=__span-0-2336><a id=__codelineno-0-2336 name=__codelineno-0-2336></a>    <span class=n>profiles</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>list_profiles</span><span class=p>()</span>
</span><span id=__span-0-2337><a id=__codelineno-0-2337 name=__codelineno-0-2337></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profiles</span><span class=p>:</span>
</span><span id=__span-0-2338><a id=__codelineno-0-2338 name=__codelineno-0-2338></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=s2>&quot;[yellow]No profiles available.[/yellow]&quot;</span><span class=p>)</span>
</span><span id=__span-0-2339><a id=__codelineno-0-2339 name=__codelineno-0-2339></a>        <span class=k>return</span>
</span><span id=__span-0-2340><a id=__codelineno-0-2340 name=__codelineno-0-2340></a>
</span><span id=__span-0-2341><a id=__codelineno-0-2341 name=__codelineno-0-2341></a>    <span class=c1># Select profile to set as default</span>
</span><span id=__span-0-2342><a id=__codelineno-0-2342 name=__codelineno-0-2342></a>    <span class=n>profile_choices</span> <span class=o>=</span> <span class=p>[</span><span class=n>p</span><span class=o>.</span><span class=n>name</span> <span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>profiles</span><span class=p>]</span>
</span><span id=__span-0-2343><a id=__codelineno-0-2343 name=__codelineno-0-2343></a>    <span class=n>current_default</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>default_profile</span>
</span><span id=__span-0-2344><a id=__codelineno-0-2344 name=__codelineno-0-2344></a>
</span><span id=__span-0-2345><a id=__codelineno-0-2345 name=__codelineno-0-2345></a>    <span class=n>profile_name</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>select</span><span class=p>(</span>
</span><span id=__span-0-2346><a id=__codelineno-0-2346 name=__codelineno-0-2346></a>        <span class=sa>f</span><span class=s2>&quot;Select default profile (current: </span><span class=si>{</span><span class=n>current_default</span><span class=si>}</span><span class=s2>):&quot;</span><span class=p>,</span>
</span><span id=__span-0-2347><a id=__codelineno-0-2347 name=__codelineno-0-2347></a>        <span class=n>choices</span><span class=o>=</span><span class=n>profile_choices</span><span class=p>,</span>
</span><span id=__span-0-2348><a id=__codelineno-0-2348 name=__codelineno-0-2348></a>    <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-2349><a id=__codelineno-0-2349 name=__codelineno-0-2349></a>
</span><span id=__span-0-2350><a id=__codelineno-0-2350 name=__codelineno-0-2350></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profile_name</span><span class=p>:</span>
</span><span id=__span-0-2351><a id=__codelineno-0-2351 name=__codelineno-0-2351></a>        <span class=k>return</span>
</span><span id=__span-0-2352><a id=__codelineno-0-2352 name=__codelineno-0-2352></a>
</span><span id=__span-0-2353><a id=__codelineno-0-2353 name=__codelineno-0-2353></a>    <span class=c1># Set as default</span>
</span><span id=__span-0-2354><a id=__codelineno-0-2354 name=__codelineno-0-2354></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-2355><a id=__codelineno-0-2355 name=__codelineno-0-2355></a>        <span class=bp>self</span><span class=o>.</span><span class=n>set_default_profile</span><span class=p>(</span><span class=n>profile_name</span><span class=p>)</span>
</span><span id=__span-0-2356><a id=__codelineno-0-2356 name=__codelineno-0-2356></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span>
</span><span id=__span-0-2357><a id=__codelineno-0-2357 name=__codelineno-0-2357></a>            <span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[green]✓ &#39;</span><span class=si>{</span><span class=n>profile_name</span><span class=si>}</span><span class=s2>&#39; is now the default profile![/green]&quot;</span>
</span><span id=__span-0-2358><a id=__codelineno-0-2358 name=__codelineno-0-2358></a>        <span class=p>)</span>
</span><span id=__span-0-2359><a id=__codelineno-0-2359 name=__codelineno-0-2359></a>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-2360><a id=__codelineno-0-2360 name=__codelineno-0-2360></a>        <span class=n>console</span><span class=o>.</span><span class=n>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=se>\n</span><span class=s2>[red]✗ Error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>[/red]&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.config.ProfileManager.update_profile class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_profile</span> <a href=#fit_file_faker.config.ProfileManager.update_profile class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_profile</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>app_type</span><span class=p>:</span> <span class=n>AppType</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>garmin_username</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>garmin_password</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>fitfiles_path</span><span class=p>:</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=n>new_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>manufacturer</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>    <span class=n>device</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>    <span class=n>serial_number</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>    <span class=n>software_version</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Update an existing profile.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of profile to update.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>app_type</code> </td> <td> <code><a class="autorefs autorefs-internal" title="            AppType (fit_file_faker.config.AppType)" href=#fit_file_faker.config.AppType>AppType</a> | None</code> </td> <td> <div class=doc-md-description> <p>New app type (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>garmin_username</code> </td> <td> <code><span title=str>str</span> | None</code> </td> <td> <div class=doc-md-description> <p>New Garmin username (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>garmin_password</code> </td> <td> <code><span title=str>str</span> | None</code> </td> <td> <div class=doc-md-description> <p>New Garmin password (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>fitfiles_path</code> </td> <td> <code><span title=pathlib.Path>Path</span> | None</code> </td> <td> <div class=doc-md-description> <p>New FIT files path (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>new_name</code> </td> <td> <code><span title=str>str</span> | None</code> </td> <td> <div class=doc-md-description> <p>New profile name (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>manufacturer</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>New manufacturer ID (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>device</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>New device ID (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>serial_number</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>New serial number (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>software_version</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>New firmware version in FIT format (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Profile


  
      dataclass
   (fit_file_faker.config.Profile)" href=#fit_file_faker.config.Profile>Profile</a></code> </td> <td> <div class=doc-md-description> <p>The updated Profile object.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=ValueError>ValueError</span></code> </td> <td> <div class=doc-md-description> <p>If profile not found or new name already exists.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1414>1414</a></span>
<span class=normal><a href=#__codelineno-0-1415>1415</a></span>
<span class=normal><a href=#__codelineno-0-1416>1416</a></span>
<span class=normal><a href=#__codelineno-0-1417>1417</a></span>
<span class=normal><a href=#__codelineno-0-1418>1418</a></span>
<span class=normal><a href=#__codelineno-0-1419>1419</a></span>
<span class=normal><a href=#__codelineno-0-1420>1420</a></span>
<span class=normal><a href=#__codelineno-0-1421>1421</a></span>
<span class=normal><a href=#__codelineno-0-1422>1422</a></span>
<span class=normal><a href=#__codelineno-0-1423>1423</a></span>
<span class=normal><a href=#__codelineno-0-1424>1424</a></span>
<span class=normal><a href=#__codelineno-0-1425>1425</a></span>
<span class=normal><a href=#__codelineno-0-1426>1426</a></span>
<span class=normal><a href=#__codelineno-0-1427>1427</a></span>
<span class=normal><a href=#__codelineno-0-1428>1428</a></span>
<span class=normal><a href=#__codelineno-0-1429>1429</a></span>
<span class=normal><a href=#__codelineno-0-1430>1430</a></span>
<span class=normal><a href=#__codelineno-0-1431>1431</a></span>
<span class=normal><a href=#__codelineno-0-1432>1432</a></span>
<span class=normal><a href=#__codelineno-0-1433>1433</a></span>
<span class=normal><a href=#__codelineno-0-1434>1434</a></span>
<span class=normal><a href=#__codelineno-0-1435>1435</a></span>
<span class=normal><a href=#__codelineno-0-1436>1436</a></span>
<span class=normal><a href=#__codelineno-0-1437>1437</a></span>
<span class=normal><a href=#__codelineno-0-1438>1438</a></span>
<span class=normal><a href=#__codelineno-0-1439>1439</a></span>
<span class=normal><a href=#__codelineno-0-1440>1440</a></span>
<span class=normal><a href=#__codelineno-0-1441>1441</a></span>
<span class=normal><a href=#__codelineno-0-1442>1442</a></span>
<span class=normal><a href=#__codelineno-0-1443>1443</a></span>
<span class=normal><a href=#__codelineno-0-1444>1444</a></span>
<span class=normal><a href=#__codelineno-0-1445>1445</a></span>
<span class=normal><a href=#__codelineno-0-1446>1446</a></span>
<span class=normal><a href=#__codelineno-0-1447>1447</a></span>
<span class=normal><a href=#__codelineno-0-1448>1448</a></span>
<span class=normal><a href=#__codelineno-0-1449>1449</a></span>
<span class=normal><a href=#__codelineno-0-1450>1450</a></span>
<span class=normal><a href=#__codelineno-0-1451>1451</a></span>
<span class=normal><a href=#__codelineno-0-1452>1452</a></span>
<span class=normal><a href=#__codelineno-0-1453>1453</a></span>
<span class=normal><a href=#__codelineno-0-1454>1454</a></span>
<span class=normal><a href=#__codelineno-0-1455>1455</a></span>
<span class=normal><a href=#__codelineno-0-1456>1456</a></span>
<span class=normal><a href=#__codelineno-0-1457>1457</a></span>
<span class=normal><a href=#__codelineno-0-1458>1458</a></span>
<span class=normal><a href=#__codelineno-0-1459>1459</a></span>
<span class=normal><a href=#__codelineno-0-1460>1460</a></span>
<span class=normal><a href=#__codelineno-0-1461>1461</a></span>
<span class=normal><a href=#__codelineno-0-1462>1462</a></span>
<span class=normal><a href=#__codelineno-0-1463>1463</a></span>
<span class=normal><a href=#__codelineno-0-1464>1464</a></span>
<span class=normal><a href=#__codelineno-0-1465>1465</a></span>
<span class=normal><a href=#__codelineno-0-1466>1466</a></span>
<span class=normal><a href=#__codelineno-0-1467>1467</a></span>
<span class=normal><a href=#__codelineno-0-1468>1468</a></span>
<span class=normal><a href=#__codelineno-0-1469>1469</a></span>
<span class=normal><a href=#__codelineno-0-1470>1470</a></span>
<span class=normal><a href=#__codelineno-0-1471>1471</a></span>
<span class=normal><a href=#__codelineno-0-1472>1472</a></span>
<span class=normal><a href=#__codelineno-0-1473>1473</a></span>
<span class=normal><a href=#__codelineno-0-1474>1474</a></span>
<span class=normal><a href=#__codelineno-0-1475>1475</a></span>
<span class=normal><a href=#__codelineno-0-1476>1476</a></span>
<span class=normal><a href=#__codelineno-0-1477>1477</a></span>
<span class=normal><a href=#__codelineno-0-1478>1478</a></span>
<span class=normal><a href=#__codelineno-0-1479>1479</a></span>
<span class=normal><a href=#__codelineno-0-1480>1480</a></span>
<span class=normal><a href=#__codelineno-0-1481>1481</a></span>
<span class=normal><a href=#__codelineno-0-1482>1482</a></span>
<span class=normal><a href=#__codelineno-0-1483>1483</a></span>
<span class=normal><a href=#__codelineno-0-1484>1484</a></span>
<span class=normal><a href=#__codelineno-0-1485>1485</a></span>
<span class=normal><a href=#__codelineno-0-1486>1486</a></span>
<span class=normal><a href=#__codelineno-0-1487>1487</a></span>
<span class=normal><a href=#__codelineno-0-1488>1488</a></span>
<span class=normal><a href=#__codelineno-0-1489>1489</a></span>
<span class=normal><a href=#__codelineno-0-1490>1490</a></span>
<span class=normal><a href=#__codelineno-0-1491>1491</a></span>
<span class=normal><a href=#__codelineno-0-1492>1492</a></span>
<span class=normal><a href=#__codelineno-0-1493>1493</a></span>
<span class=normal><a href=#__codelineno-0-1494>1494</a></span>
<span class=normal><a href=#__codelineno-0-1495>1495</a></span>
<span class=normal><a href=#__codelineno-0-1496>1496</a></span>
<span class=normal><a href=#__codelineno-0-1497>1497</a></span>
<span class=normal><a href=#__codelineno-0-1498>1498</a></span>
<span class=normal><a href=#__codelineno-0-1499>1499</a></span>
<span class=normal><a href=#__codelineno-0-1500>1500</a></span>
<span class=normal><a href=#__codelineno-0-1501>1501</a></span>
<span class=normal><a href=#__codelineno-0-1502>1502</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1414><a id=__codelineno-0-1414 name=__codelineno-0-1414></a><span class=k>def</span><span class=w> </span><span class=nf>update_profile</span><span class=p>(</span>
</span><span id=__span-0-1415><a id=__codelineno-0-1415 name=__codelineno-0-1415></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-1416><a id=__codelineno-0-1416 name=__codelineno-0-1416></a>    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span><span id=__span-0-1417><a id=__codelineno-0-1417 name=__codelineno-0-1417></a>    <span class=n>app_type</span><span class=p>:</span> <span class=n>AppType</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1418><a id=__codelineno-0-1418 name=__codelineno-0-1418></a>    <span class=n>garmin_username</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1419><a id=__codelineno-0-1419 name=__codelineno-0-1419></a>    <span class=n>garmin_password</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1420><a id=__codelineno-0-1420 name=__codelineno-0-1420></a>    <span class=n>fitfiles_path</span><span class=p>:</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1421><a id=__codelineno-0-1421 name=__codelineno-0-1421></a>    <span class=n>new_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1422><a id=__codelineno-0-1422 name=__codelineno-0-1422></a>    <span class=n>manufacturer</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1423><a id=__codelineno-0-1423 name=__codelineno-0-1423></a>    <span class=n>device</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1424><a id=__codelineno-0-1424 name=__codelineno-0-1424></a>    <span class=n>serial_number</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1425><a id=__codelineno-0-1425 name=__codelineno-0-1425></a>    <span class=n>software_version</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1426><a id=__codelineno-0-1426 name=__codelineno-0-1426></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Profile</span><span class=p>:</span>
</span><span id=__span-0-1427><a id=__codelineno-0-1427 name=__codelineno-0-1427></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Update an existing profile.</span>
</span><span id=__span-0-1428><a id=__codelineno-0-1428 name=__codelineno-0-1428></a>
</span><span id=__span-0-1429><a id=__codelineno-0-1429 name=__codelineno-0-1429></a><span class=sd>    Args:</span>
</span><span id=__span-0-1430><a id=__codelineno-0-1430 name=__codelineno-0-1430></a><span class=sd>        name: Name of profile to update.</span>
</span><span id=__span-0-1431><a id=__codelineno-0-1431 name=__codelineno-0-1431></a><span class=sd>        app_type: New app type (optional).</span>
</span><span id=__span-0-1432><a id=__codelineno-0-1432 name=__codelineno-0-1432></a><span class=sd>        garmin_username: New Garmin username (optional).</span>
</span><span id=__span-0-1433><a id=__codelineno-0-1433 name=__codelineno-0-1433></a><span class=sd>        garmin_password: New Garmin password (optional).</span>
</span><span id=__span-0-1434><a id=__codelineno-0-1434 name=__codelineno-0-1434></a><span class=sd>        fitfiles_path: New FIT files path (optional).</span>
</span><span id=__span-0-1435><a id=__codelineno-0-1435 name=__codelineno-0-1435></a><span class=sd>        new_name: New profile name (optional).</span>
</span><span id=__span-0-1436><a id=__codelineno-0-1436 name=__codelineno-0-1436></a><span class=sd>        manufacturer: New manufacturer ID (optional).</span>
</span><span id=__span-0-1437><a id=__codelineno-0-1437 name=__codelineno-0-1437></a><span class=sd>        device: New device ID (optional).</span>
</span><span id=__span-0-1438><a id=__codelineno-0-1438 name=__codelineno-0-1438></a><span class=sd>        serial_number: New serial number (optional).</span>
</span><span id=__span-0-1439><a id=__codelineno-0-1439 name=__codelineno-0-1439></a><span class=sd>        software_version: New firmware version in FIT format (optional).</span>
</span><span id=__span-0-1440><a id=__codelineno-0-1440 name=__codelineno-0-1440></a>
</span><span id=__span-0-1441><a id=__codelineno-0-1441 name=__codelineno-0-1441></a><span class=sd>    Returns:</span>
</span><span id=__span-0-1442><a id=__codelineno-0-1442 name=__codelineno-0-1442></a><span class=sd>        The updated Profile object.</span>
</span><span id=__span-0-1443><a id=__codelineno-0-1443 name=__codelineno-0-1443></a>
</span><span id=__span-0-1444><a id=__codelineno-0-1444 name=__codelineno-0-1444></a><span class=sd>    Raises:</span>
</span><span id=__span-0-1445><a id=__codelineno-0-1445 name=__codelineno-0-1445></a><span class=sd>        ValueError: If profile not found or new name already exists.</span>
</span><span id=__span-0-1446><a id=__codelineno-0-1446 name=__codelineno-0-1446></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1447><a id=__codelineno-0-1447 name=__codelineno-0-1447></a>    <span class=n>profile</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-0-1448><a id=__codelineno-0-1448 name=__codelineno-0-1448></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>profile</span><span class=p>:</span>
</span><span id=__span-0-1449><a id=__codelineno-0-1449 name=__codelineno-0-1449></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Profile &quot;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s1>&quot; not found&#39;</span><span class=p>)</span>
</span><span id=__span-0-1450><a id=__codelineno-0-1450 name=__codelineno-0-1450></a>
</span><span id=__span-0-1451><a id=__codelineno-0-1451 name=__codelineno-0-1451></a>    <span class=c1># Check if new name conflicts</span>
</span><span id=__span-0-1452><a id=__codelineno-0-1452 name=__codelineno-0-1452></a>    <span class=k>if</span> <span class=n>new_name</span> <span class=ow>and</span> <span class=n>new_name</span> <span class=o>!=</span> <span class=n>name</span><span class=p>:</span>
</span><span id=__span-0-1453><a id=__codelineno-0-1453 name=__codelineno-0-1453></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_profile</span><span class=p>(</span><span class=n>new_name</span><span class=p>):</span>
</span><span id=__span-0-1454><a id=__codelineno-0-1454 name=__codelineno-0-1454></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Profile &quot;</span><span class=si>{</span><span class=n>new_name</span><span class=si>}</span><span class=s1>&quot; already exists&#39;</span><span class=p>)</span>
</span><span id=__span-0-1455><a id=__codelineno-0-1455 name=__codelineno-0-1455></a>        <span class=n>profile</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>new_name</span>
</span><span id=__span-0-1456><a id=__codelineno-0-1456 name=__codelineno-0-1456></a>
</span><span id=__span-0-1457><a id=__codelineno-0-1457 name=__codelineno-0-1457></a>    <span class=c1># Update fields if provided</span>
</span><span id=__span-0-1458><a id=__codelineno-0-1458 name=__codelineno-0-1458></a>    <span class=k>if</span> <span class=n>app_type</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1459><a id=__codelineno-0-1459 name=__codelineno-0-1459></a>        <span class=n>profile</span><span class=o>.</span><span class=n>app_type</span> <span class=o>=</span> <span class=n>app_type</span>
</span><span id=__span-0-1460><a id=__codelineno-0-1460 name=__codelineno-0-1460></a>    <span class=k>if</span> <span class=n>garmin_username</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1461><a id=__codelineno-0-1461 name=__codelineno-0-1461></a>        <span class=n>profile</span><span class=o>.</span><span class=n>garmin_username</span> <span class=o>=</span> <span class=n>garmin_username</span>
</span><span id=__span-0-1462><a id=__codelineno-0-1462 name=__codelineno-0-1462></a>    <span class=k>if</span> <span class=n>garmin_password</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1463><a id=__codelineno-0-1463 name=__codelineno-0-1463></a>        <span class=n>profile</span><span class=o>.</span><span class=n>garmin_password</span> <span class=o>=</span> <span class=n>garmin_password</span>
</span><span id=__span-0-1464><a id=__codelineno-0-1464 name=__codelineno-0-1464></a>    <span class=k>if</span> <span class=n>fitfiles_path</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1465><a id=__codelineno-0-1465 name=__codelineno-0-1465></a>        <span class=n>profile</span><span class=o>.</span><span class=n>fitfiles_path</span> <span class=o>=</span> <span class=n>fitfiles_path</span>
</span><span id=__span-0-1466><a id=__codelineno-0-1466 name=__codelineno-0-1466></a>    <span class=k>if</span> <span class=n>manufacturer</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1467><a id=__codelineno-0-1467 name=__codelineno-0-1467></a>        <span class=n>profile</span><span class=o>.</span><span class=n>manufacturer</span> <span class=o>=</span> <span class=n>manufacturer</span>
</span><span id=__span-0-1468><a id=__codelineno-0-1468 name=__codelineno-0-1468></a>    <span class=k>if</span> <span class=n>device</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1469><a id=__codelineno-0-1469 name=__codelineno-0-1469></a>        <span class=n>profile</span><span class=o>.</span><span class=n>device</span> <span class=o>=</span> <span class=n>device</span>
</span><span id=__span-0-1470><a id=__codelineno-0-1470 name=__codelineno-0-1470></a>        <span class=c1># Auto-lookup software_version from device if not explicitly provided</span>
</span><span id=__span-0-1471><a id=__codelineno-0-1471 name=__codelineno-0-1471></a>        <span class=k>if</span> <span class=n>software_version</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1472><a id=__codelineno-0-1472 name=__codelineno-0-1472></a>            <span class=n>device_info</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span>
</span><span id=__span-0-1473><a id=__codelineno-0-1473 name=__codelineno-0-1473></a>                <span class=p>(</span><span class=n>d</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span> <span class=k>if</span> <span class=n>d</span><span class=o>.</span><span class=n>product_id</span> <span class=o>==</span> <span class=n>device</span><span class=p>),</span>
</span><span id=__span-0-1474><a id=__codelineno-0-1474 name=__codelineno-0-1474></a>                <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-1475><a id=__codelineno-0-1475 name=__codelineno-0-1475></a>            <span class=p>)</span>
</span><span id=__span-0-1476><a id=__codelineno-0-1476 name=__codelineno-0-1476></a>            <span class=k>if</span> <span class=n>device_info</span> <span class=ow>and</span> <span class=n>device_info</span><span class=o>.</span><span class=n>software_version</span><span class=p>:</span>
</span><span id=__span-0-1477><a id=__codelineno-0-1477 name=__codelineno-0-1477></a>                <span class=n>software_version</span> <span class=o>=</span> <span class=n>device_info</span><span class=o>.</span><span class=n>software_version</span>
</span><span id=__span-0-1478><a id=__codelineno-0-1478 name=__codelineno-0-1478></a>    <span class=k>if</span> <span class=n>serial_number</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1479><a id=__codelineno-0-1479 name=__codelineno-0-1479></a>        <span class=c1># Validate serial number</span>
</span><span id=__span-0-1480><a id=__codelineno-0-1480 name=__codelineno-0-1480></a>        <span class=n>temp_profile</span> <span class=o>=</span> <span class=n>Profile</span><span class=p>(</span>
</span><span id=__span-0-1481><a id=__codelineno-0-1481 name=__codelineno-0-1481></a>            <span class=n>name</span><span class=o>=</span><span class=s2>&quot;temp&quot;</span><span class=p>,</span>
</span><span id=__span-0-1482><a id=__codelineno-0-1482 name=__codelineno-0-1482></a>            <span class=n>app_type</span><span class=o>=</span><span class=n>profile</span><span class=o>.</span><span class=n>app_type</span><span class=p>,</span>
</span><span id=__span-0-1483><a id=__codelineno-0-1483 name=__codelineno-0-1483></a>            <span class=n>garmin_username</span><span class=o>=</span><span class=s2>&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-0-1484><a id=__codelineno-0-1484 name=__codelineno-0-1484></a>            <span class=n>garmin_password</span><span class=o>=</span><span class=s2>&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-0-1485><a id=__codelineno-0-1485 name=__codelineno-0-1485></a>            <span class=n>fitfiles_path</span><span class=o>=</span><span class=n>Path</span><span class=p>(),</span>
</span><span id=__span-0-1486><a id=__codelineno-0-1486 name=__codelineno-0-1486></a>            <span class=n>serial_number</span><span class=o>=</span><span class=n>serial_number</span><span class=p>,</span>
</span><span id=__span-0-1487><a id=__codelineno-0-1487 name=__codelineno-0-1487></a>        <span class=p>)</span>
</span><span id=__span-0-1488><a id=__codelineno-0-1488 name=__codelineno-0-1488></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>temp_profile</span><span class=o>.</span><span class=n>validate_serial_number</span><span class=p>():</span>
</span><span id=__span-0-1489><a id=__codelineno-0-1489 name=__codelineno-0-1489></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
</span><span id=__span-0-1490><a id=__codelineno-0-1490 name=__codelineno-0-1490></a>                <span class=sa>f</span><span class=s2>&quot;Invalid serial number </span><span class=si>{</span><span class=n>serial_number</span><span class=si>}</span><span class=s2>. Must be a 10-digit integer.&quot;</span>
</span><span id=__span-0-1491><a id=__codelineno-0-1491 name=__codelineno-0-1491></a>            <span class=p>)</span>
</span><span id=__span-0-1492><a id=__codelineno-0-1492 name=__codelineno-0-1492></a>        <span class=n>profile</span><span class=o>.</span><span class=n>serial_number</span> <span class=o>=</span> <span class=n>serial_number</span>
</span><span id=__span-0-1493><a id=__codelineno-0-1493 name=__codelineno-0-1493></a>    <span class=k>if</span> <span class=n>software_version</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1494><a id=__codelineno-0-1494 name=__codelineno-0-1494></a>        <span class=n>profile</span><span class=o>.</span><span class=n>software_version</span> <span class=o>=</span> <span class=n>software_version</span>
</span><span id=__span-0-1495><a id=__codelineno-0-1495 name=__codelineno-0-1495></a>
</span><span id=__span-0-1496><a id=__codelineno-0-1496 name=__codelineno-0-1496></a>    <span class=c1># Update default_profile if name changed</span>
</span><span id=__span-0-1497><a id=__codelineno-0-1497 name=__codelineno-0-1497></a>    <span class=k>if</span> <span class=n>new_name</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>default_profile</span> <span class=o>==</span> <span class=n>name</span><span class=p>:</span>
</span><span id=__span-0-1498><a id=__codelineno-0-1498 name=__codelineno-0-1498></a>        <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>default_profile</span> <span class=o>=</span> <span class=n>new_name</span>
</span><span id=__span-0-1499><a id=__codelineno-0-1499 name=__codelineno-0-1499></a>
</span><span id=__span-0-1500><a id=__codelineno-0-1500 name=__codelineno-0-1500></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_manager</span><span class=o>.</span><span class=n>save_config</span><span class=p>()</span>
</span><span id=__span-0-1501><a id=__codelineno-0-1501 name=__codelineno-0-1501></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Updated profile &quot;</span><span class=si>{</span><span class=n>new_name</span><span class=w> </span><span class=ow>or</span><span class=w> </span><span class=n>name</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-1502><a id=__codelineno-0-1502 name=__codelineno-0-1502></a>    <span class=k>return</span> <span class=n>profile</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=fit_file_faker.config.get_fitfiles_path class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_fitfiles_path</span> <a href=#fit_file_faker.config.get_fitfiles_path class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_fitfiles_path</span><span class=p>(</span><span class=n>existing_path</span><span class=p>:</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Path</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Auto-find the FITFiles folder inside a TrainingPeaks Virtual directory.</p> <p>Attempts to automatically locate the user's TrainingPeaks Virtual FITFiles directory. On macOS/Windows, the TPVirtual data directory is auto-detected. On Linux, the user is prompted to provide the path.</p> <p>If multiple user directories exist, the user is prompted to select one.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>existing_path</code> </td> <td> <code><span title=pathlib.Path>Path</span> | None</code> </td> <td> <div class=doc-md-description> <p>Optional path to use as default. If provided, this path's <code>parent.parent</code> is used as the TPVirtual base directory.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Path to the FITFiles directory (e.g., <code>~/TPVirtual/abc123def/FITFiles</code>).</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=SystemExit>SystemExit</span></code> </td> <td> <div class=doc-md-description> <p>If no TP Virtual user folder is found, the user rejects the auto-detected folder, or the user cancels the selection.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>The TPVirtual folder location can be overridden using the <code>TPV_DATA_PATH</code> environment variable. User directories are identified by 16-character hexadecimal folder names.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Auto-detect FITFiles path</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>path</span> <span class=o>=</span> <span class=n>get_fitfiles_path</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>print</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=go>/Users/me/TPVirtual/a1b2c3d4e5f6g7h8/FITFiles</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1178>1178</a></span>
<span class=normal><a href=#__codelineno-0-1179>1179</a></span>
<span class=normal><a href=#__codelineno-0-1180>1180</a></span>
<span class=normal><a href=#__codelineno-0-1181>1181</a></span>
<span class=normal><a href=#__codelineno-0-1182>1182</a></span>
<span class=normal><a href=#__codelineno-0-1183>1183</a></span>
<span class=normal><a href=#__codelineno-0-1184>1184</a></span>
<span class=normal><a href=#__codelineno-0-1185>1185</a></span>
<span class=normal><a href=#__codelineno-0-1186>1186</a></span>
<span class=normal><a href=#__codelineno-0-1187>1187</a></span>
<span class=normal><a href=#__codelineno-0-1188>1188</a></span>
<span class=normal><a href=#__codelineno-0-1189>1189</a></span>
<span class=normal><a href=#__codelineno-0-1190>1190</a></span>
<span class=normal><a href=#__codelineno-0-1191>1191</a></span>
<span class=normal><a href=#__codelineno-0-1192>1192</a></span>
<span class=normal><a href=#__codelineno-0-1193>1193</a></span>
<span class=normal><a href=#__codelineno-0-1194>1194</a></span>
<span class=normal><a href=#__codelineno-0-1195>1195</a></span>
<span class=normal><a href=#__codelineno-0-1196>1196</a></span>
<span class=normal><a href=#__codelineno-0-1197>1197</a></span>
<span class=normal><a href=#__codelineno-0-1198>1198</a></span>
<span class=normal><a href=#__codelineno-0-1199>1199</a></span>
<span class=normal><a href=#__codelineno-0-1200>1200</a></span>
<span class=normal><a href=#__codelineno-0-1201>1201</a></span>
<span class=normal><a href=#__codelineno-0-1202>1202</a></span>
<span class=normal><a href=#__codelineno-0-1203>1203</a></span>
<span class=normal><a href=#__codelineno-0-1204>1204</a></span>
<span class=normal><a href=#__codelineno-0-1205>1205</a></span>
<span class=normal><a href=#__codelineno-0-1206>1206</a></span>
<span class=normal><a href=#__codelineno-0-1207>1207</a></span>
<span class=normal><a href=#__codelineno-0-1208>1208</a></span>
<span class=normal><a href=#__codelineno-0-1209>1209</a></span>
<span class=normal><a href=#__codelineno-0-1210>1210</a></span>
<span class=normal><a href=#__codelineno-0-1211>1211</a></span>
<span class=normal><a href=#__codelineno-0-1212>1212</a></span>
<span class=normal><a href=#__codelineno-0-1213>1213</a></span>
<span class=normal><a href=#__codelineno-0-1214>1214</a></span>
<span class=normal><a href=#__codelineno-0-1215>1215</a></span>
<span class=normal><a href=#__codelineno-0-1216>1216</a></span>
<span class=normal><a href=#__codelineno-0-1217>1217</a></span>
<span class=normal><a href=#__codelineno-0-1218>1218</a></span>
<span class=normal><a href=#__codelineno-0-1219>1219</a></span>
<span class=normal><a href=#__codelineno-0-1220>1220</a></span>
<span class=normal><a href=#__codelineno-0-1221>1221</a></span>
<span class=normal><a href=#__codelineno-0-1222>1222</a></span>
<span class=normal><a href=#__codelineno-0-1223>1223</a></span>
<span class=normal><a href=#__codelineno-0-1224>1224</a></span>
<span class=normal><a href=#__codelineno-0-1225>1225</a></span>
<span class=normal><a href=#__codelineno-0-1226>1226</a></span>
<span class=normal><a href=#__codelineno-0-1227>1227</a></span>
<span class=normal><a href=#__codelineno-0-1228>1228</a></span>
<span class=normal><a href=#__codelineno-0-1229>1229</a></span>
<span class=normal><a href=#__codelineno-0-1230>1230</a></span>
<span class=normal><a href=#__codelineno-0-1231>1231</a></span>
<span class=normal><a href=#__codelineno-0-1232>1232</a></span>
<span class=normal><a href=#__codelineno-0-1233>1233</a></span>
<span class=normal><a href=#__codelineno-0-1234>1234</a></span>
<span class=normal><a href=#__codelineno-0-1235>1235</a></span>
<span class=normal><a href=#__codelineno-0-1236>1236</a></span>
<span class=normal><a href=#__codelineno-0-1237>1237</a></span>
<span class=normal><a href=#__codelineno-0-1238>1238</a></span>
<span class=normal><a href=#__codelineno-0-1239>1239</a></span>
<span class=normal><a href=#__codelineno-0-1240>1240</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1178><a id=__codelineno-0-1178 name=__codelineno-0-1178></a><span class=k>def</span><span class=w> </span><span class=nf>get_fitfiles_path</span><span class=p>(</span><span class=n>existing_path</span><span class=p>:</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Path</span><span class=p>:</span>
</span><span id=__span-0-1179><a id=__codelineno-0-1179 name=__codelineno-0-1179></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Auto-find the FITFiles folder inside a TrainingPeaks Virtual directory.</span>
</span><span id=__span-0-1180><a id=__codelineno-0-1180 name=__codelineno-0-1180></a>
</span><span id=__span-0-1181><a id=__codelineno-0-1181 name=__codelineno-0-1181></a><span class=sd>    Attempts to automatically locate the user&#39;s TrainingPeaks Virtual FITFiles</span>
</span><span id=__span-0-1182><a id=__codelineno-0-1182 name=__codelineno-0-1182></a><span class=sd>    directory. On macOS/Windows, the TPVirtual data directory is auto-detected.</span>
</span><span id=__span-0-1183><a id=__codelineno-0-1183 name=__codelineno-0-1183></a><span class=sd>    On Linux, the user is prompted to provide the path.</span>
</span><span id=__span-0-1184><a id=__codelineno-0-1184 name=__codelineno-0-1184></a>
</span><span id=__span-0-1185><a id=__codelineno-0-1185 name=__codelineno-0-1185></a><span class=sd>    If multiple user directories exist, the user is prompted to select one.</span>
</span><span id=__span-0-1186><a id=__codelineno-0-1186 name=__codelineno-0-1186></a>
</span><span id=__span-0-1187><a id=__codelineno-0-1187 name=__codelineno-0-1187></a><span class=sd>    Args:</span>
</span><span id=__span-0-1188><a id=__codelineno-0-1188 name=__codelineno-0-1188></a><span class=sd>        existing_path: Optional path to use as default. If provided, this path&#39;s</span>
</span><span id=__span-0-1189><a id=__codelineno-0-1189 name=__codelineno-0-1189></a><span class=sd>            `parent.parent` is used as the TPVirtual base directory.</span>
</span><span id=__span-0-1190><a id=__codelineno-0-1190 name=__codelineno-0-1190></a>
</span><span id=__span-0-1191><a id=__codelineno-0-1191 name=__codelineno-0-1191></a><span class=sd>    Returns:</span>
</span><span id=__span-0-1192><a id=__codelineno-0-1192 name=__codelineno-0-1192></a><span class=sd>        Path to the FITFiles directory (e.g., `~/TPVirtual/abc123def/FITFiles`).</span>
</span><span id=__span-0-1193><a id=__codelineno-0-1193 name=__codelineno-0-1193></a>
</span><span id=__span-0-1194><a id=__codelineno-0-1194 name=__codelineno-0-1194></a><span class=sd>    Raises:</span>
</span><span id=__span-0-1195><a id=__codelineno-0-1195 name=__codelineno-0-1195></a><span class=sd>        SystemExit: If no TP Virtual user folder is found, the user rejects</span>
</span><span id=__span-0-1196><a id=__codelineno-0-1196 name=__codelineno-0-1196></a><span class=sd>            the auto-detected folder, or the user cancels the selection.</span>
</span><span id=__span-0-1197><a id=__codelineno-0-1197 name=__codelineno-0-1197></a>
</span><span id=__span-0-1198><a id=__codelineno-0-1198 name=__codelineno-0-1198></a><span class=sd>    Note:</span>
</span><span id=__span-0-1199><a id=__codelineno-0-1199 name=__codelineno-0-1199></a><span class=sd>        The TPVirtual folder location can be overridden using the</span>
</span><span id=__span-0-1200><a id=__codelineno-0-1200 name=__codelineno-0-1200></a><span class=sd>        `TPV_DATA_PATH` environment variable. User directories are identified</span>
</span><span id=__span-0-1201><a id=__codelineno-0-1201 name=__codelineno-0-1201></a><span class=sd>        by 16-character hexadecimal folder names.</span>
</span><span id=__span-0-1202><a id=__codelineno-0-1202 name=__codelineno-0-1202></a>
</span><span id=__span-0-1203><a id=__codelineno-0-1203 name=__codelineno-0-1203></a><span class=sd>    Examples:</span>
</span><span id=__span-0-1204><a id=__codelineno-0-1204 name=__codelineno-0-1204></a><span class=sd>        &gt;&gt;&gt; # Auto-detect FITFiles path</span>
</span><span id=__span-0-1205><a id=__codelineno-0-1205 name=__codelineno-0-1205></a><span class=sd>        &gt;&gt;&gt; path = get_fitfiles_path(None)</span>
</span><span id=__span-0-1206><a id=__codelineno-0-1206 name=__codelineno-0-1206></a><span class=sd>        &gt;&gt;&gt; print(path)</span>
</span><span id=__span-0-1207><a id=__codelineno-0-1207 name=__codelineno-0-1207></a><span class=sd>        /Users/me/TPVirtual/a1b2c3d4e5f6g7h8/FITFiles</span>
</span><span id=__span-0-1208><a id=__codelineno-0-1208 name=__codelineno-0-1208></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1209><a id=__codelineno-0-1209 name=__codelineno-0-1209></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Getting FITFiles folder&quot;</span><span class=p>)</span>
</span><span id=__span-0-1210><a id=__codelineno-0-1210 name=__codelineno-0-1210></a>
</span><span id=__span-0-1211><a id=__codelineno-0-1211 name=__codelineno-0-1211></a>    <span class=n>TPVPath</span> <span class=o>=</span> <span class=n>get_tpv_folder</span><span class=p>(</span><span class=n>existing_path</span><span class=p>)</span>
</span><span id=__span-0-1212><a id=__codelineno-0-1212 name=__codelineno-0-1212></a>    <span class=n>res</span> <span class=o>=</span> <span class=p>[</span><span class=n>f</span> <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=n>TPVPath</span><span class=p>)</span> <span class=k>if</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;\A(\w)</span><span class=si>{16}</span><span class=s2>\Z&quot;</span><span class=p>,</span> <span class=n>f</span><span class=p>)]</span>
</span><span id=__span-0-1213><a id=__codelineno-0-1213 name=__codelineno-0-1213></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>res</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-1214><a id=__codelineno-0-1214 name=__codelineno-0-1214></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span>
</span><span id=__span-0-1215><a id=__codelineno-0-1215 name=__codelineno-0-1215></a>            <span class=s1>&#39;Cannot find a TP Virtual User folder in &quot;</span><span class=si>%s</span><span class=s1>&quot;, please check if you have previously logged into TP Virtual&#39;</span><span class=p>,</span>
</span><span id=__span-0-1216><a id=__codelineno-0-1216 name=__codelineno-0-1216></a>            <span class=n>TPVPath</span><span class=p>,</span>
</span><span id=__span-0-1217><a id=__codelineno-0-1217 name=__codelineno-0-1217></a>        <span class=p>)</span>
</span><span id=__span-0-1218><a id=__codelineno-0-1218 name=__codelineno-0-1218></a>        <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-1219><a id=__codelineno-0-1219 name=__codelineno-0-1219></a>    <span class=k>elif</span> <span class=nb>len</span><span class=p>(</span><span class=n>res</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-1220><a id=__codelineno-0-1220 name=__codelineno-0-1220></a>        <span class=n>title</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;Found TP Virtual User directory at &quot;</span><span class=si>{</span><span class=n>Path</span><span class=p>(</span><span class=n>TPVPath</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=n>res</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=si>}</span><span class=s1>&quot;, is this correct? &#39;</span>
</span><span id=__span-0-1221><a id=__codelineno-0-1221 name=__codelineno-0-1221></a>        <span class=n>option</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=n>title</span><span class=p>,</span> <span class=n>choices</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;yes&quot;</span><span class=p>,</span> <span class=s2>&quot;no&quot;</span><span class=p>])</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1222><a id=__codelineno-0-1222 name=__codelineno-0-1222></a>        <span class=k>if</span> <span class=n>option</span> <span class=o>==</span> <span class=s2>&quot;no&quot;</span><span class=p>:</span>
</span><span id=__span-0-1223><a id=__codelineno-0-1223 name=__codelineno-0-1223></a>            <span class=c1># Get config manager instance to access config file path</span>
</span><span id=__span-0-1224><a id=__codelineno-0-1224 name=__codelineno-0-1224></a>            <span class=n>config_manager</span> <span class=o>=</span> <span class=n>ConfigManager</span><span class=p>()</span>
</span><span id=__span-0-1225><a id=__codelineno-0-1225 name=__codelineno-0-1225></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span>
</span><span id=__span-0-1226><a id=__codelineno-0-1226 name=__codelineno-0-1226></a>                <span class=s1>&#39;Failed to find correct TP Virtual User folder please manually configure &quot;fitfiles_path&quot; in config file: </span><span class=si>%s</span><span class=s1>&#39;</span><span class=p>,</span>
</span><span id=__span-0-1227><a id=__codelineno-0-1227 name=__codelineno-0-1227></a>                <span class=n>config_manager</span><span class=o>.</span><span class=n>get_config_file_path</span><span class=p>()</span><span class=o>.</span><span class=n>absolute</span><span class=p>(),</span>
</span><span id=__span-0-1228><a id=__codelineno-0-1228 name=__codelineno-0-1228></a>            <span class=p>)</span>
</span><span id=__span-0-1229><a id=__codelineno-0-1229 name=__codelineno-0-1229></a>            <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span><span id=__span-0-1230><a id=__codelineno-0-1230 name=__codelineno-0-1230></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1231><a id=__codelineno-0-1231 name=__codelineno-0-1231></a>            <span class=n>option</span> <span class=o>=</span> <span class=n>res</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-0-1232><a id=__codelineno-0-1232 name=__codelineno-0-1232></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1233><a id=__codelineno-0-1233 name=__codelineno-0-1233></a>        <span class=n>title</span> <span class=o>=</span> <span class=s2>&quot;Found multiple TP Virtual User directories, please select the directory for your user: &quot;</span>
</span><span id=__span-0-1234><a id=__codelineno-0-1234 name=__codelineno-0-1234></a>        <span class=n>option</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=n>title</span><span class=p>,</span> <span class=n>choices</span><span class=o>=</span><span class=n>res</span><span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1235><a id=__codelineno-0-1235 name=__codelineno-0-1235></a>    <span class=n>TPV_data_path</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>TPVPath</span><span class=p>)</span> <span class=o>/</span> <span class=n>option</span>
</span><span id=__span-0-1236><a id=__codelineno-0-1236 name=__codelineno-0-1236></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-1237><a id=__codelineno-0-1237 name=__codelineno-0-1237></a>        <span class=sa>f</span><span class=s1>&#39;Found TP Virtual User directory: &quot;</span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>TPV_data_path</span><span class=o>.</span><span class=n>absolute</span><span class=p>())</span><span class=si>}</span><span class=s1>&quot;, &#39;</span>
</span><span id=__span-0-1238><a id=__codelineno-0-1238 name=__codelineno-0-1238></a>        <span class=s1>&#39;setting &quot;fitfiles_path&quot; in config file&#39;</span>
</span><span id=__span-0-1239><a id=__codelineno-0-1239 name=__codelineno-0-1239></a>    <span class=p>)</span>
</span><span id=__span-0-1240><a id=__codelineno-0-1240 name=__codelineno-0-1240></a>    <span class=k>return</span> <span class=n>TPV_data_path</span> <span class=o>/</span> <span class=s2>&quot;FITFiles&quot;</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=fit_file_faker.config.get_supported_garmin_devices class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_supported_garmin_devices</span> <a href=#fit_file_faker.config.get_supported_garmin_devices class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_supported_garmin_devices</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>show_all</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>tuple</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>,</span> <span class=nb>str</span><span class=p>]]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get list of Garmin devices for picker UI.</p> <p>Combines devices from fit_tool's GarminProduct enum (filtered to cycling/training devices with "EDGE", "TACX", or "TRAINING" in their names) with the supplemental device registry containing modern devices with metadata.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>show_all</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If False, return only common devices (is_common=True). If True, return all devices. Defaults to False.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=list>list</span>[<span title=tuple>tuple</span>[<span title=str>str</span>, <span title=int>int</span>, <span title=str>str</span>]]</code> </td> <td> <div class=doc-md-description> <p>List of tuples containing (display_name, product_id, description).</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=list>list</span>[<span title=tuple>tuple</span>[<span title=str>str</span>, <span title=int>int</span>, <span title=str>str</span>]]</code> </td> <td> <div class=doc-md-description> <p>Sorted by: is_common (desc), year_released (desc), name (asc).</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Get common devices only</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>devices</span> <span class=o>=</span> <span class=n>get_supported_garmin_devices</span><span class=p>(</span><span class=n>show_all</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>print</span><span class=p>(</span><span class=n>devices</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=go>(&#39;Edge 1050&#39;, 4440, &#39;Latest flagship bike computer - 2024&#39;)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Get all devices</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>all_devices</span> <span class=o>=</span> <span class=n>get_supported_garmin_devices</span><span class=p>(</span><span class=n>show_all</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>len</span><span class=p>(</span><span class=n>all_devices</span><span class=p>)</span> <span class=o>&gt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>devices</span><span class=p>)</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=go>True</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-527>527</a></span>
<span class=normal><a href=#__codelineno-0-528>528</a></span>
<span class=normal><a href=#__codelineno-0-529>529</a></span>
<span class=normal><a href=#__codelineno-0-530>530</a></span>
<span class=normal><a href=#__codelineno-0-531>531</a></span>
<span class=normal><a href=#__codelineno-0-532>532</a></span>
<span class=normal><a href=#__codelineno-0-533>533</a></span>
<span class=normal><a href=#__codelineno-0-534>534</a></span>
<span class=normal><a href=#__codelineno-0-535>535</a></span>
<span class=normal><a href=#__codelineno-0-536>536</a></span>
<span class=normal><a href=#__codelineno-0-537>537</a></span>
<span class=normal><a href=#__codelineno-0-538>538</a></span>
<span class=normal><a href=#__codelineno-0-539>539</a></span>
<span class=normal><a href=#__codelineno-0-540>540</a></span>
<span class=normal><a href=#__codelineno-0-541>541</a></span>
<span class=normal><a href=#__codelineno-0-542>542</a></span>
<span class=normal><a href=#__codelineno-0-543>543</a></span>
<span class=normal><a href=#__codelineno-0-544>544</a></span>
<span class=normal><a href=#__codelineno-0-545>545</a></span>
<span class=normal><a href=#__codelineno-0-546>546</a></span>
<span class=normal><a href=#__codelineno-0-547>547</a></span>
<span class=normal><a href=#__codelineno-0-548>548</a></span>
<span class=normal><a href=#__codelineno-0-549>549</a></span>
<span class=normal><a href=#__codelineno-0-550>550</a></span>
<span class=normal><a href=#__codelineno-0-551>551</a></span>
<span class=normal><a href=#__codelineno-0-552>552</a></span>
<span class=normal><a href=#__codelineno-0-553>553</a></span>
<span class=normal><a href=#__codelineno-0-554>554</a></span>
<span class=normal><a href=#__codelineno-0-555>555</a></span>
<span class=normal><a href=#__codelineno-0-556>556</a></span>
<span class=normal><a href=#__codelineno-0-557>557</a></span>
<span class=normal><a href=#__codelineno-0-558>558</a></span>
<span class=normal><a href=#__codelineno-0-559>559</a></span>
<span class=normal><a href=#__codelineno-0-560>560</a></span>
<span class=normal><a href=#__codelineno-0-561>561</a></span>
<span class=normal><a href=#__codelineno-0-562>562</a></span>
<span class=normal><a href=#__codelineno-0-563>563</a></span>
<span class=normal><a href=#__codelineno-0-564>564</a></span>
<span class=normal><a href=#__codelineno-0-565>565</a></span>
<span class=normal><a href=#__codelineno-0-566>566</a></span>
<span class=normal><a href=#__codelineno-0-567>567</a></span>
<span class=normal><a href=#__codelineno-0-568>568</a></span>
<span class=normal><a href=#__codelineno-0-569>569</a></span>
<span class=normal><a href=#__codelineno-0-570>570</a></span>
<span class=normal><a href=#__codelineno-0-571>571</a></span>
<span class=normal><a href=#__codelineno-0-572>572</a></span>
<span class=normal><a href=#__codelineno-0-573>573</a></span>
<span class=normal><a href=#__codelineno-0-574>574</a></span>
<span class=normal><a href=#__codelineno-0-575>575</a></span>
<span class=normal><a href=#__codelineno-0-576>576</a></span>
<span class=normal><a href=#__codelineno-0-577>577</a></span>
<span class=normal><a href=#__codelineno-0-578>578</a></span>
<span class=normal><a href=#__codelineno-0-579>579</a></span>
<span class=normal><a href=#__codelineno-0-580>580</a></span>
<span class=normal><a href=#__codelineno-0-581>581</a></span>
<span class=normal><a href=#__codelineno-0-582>582</a></span>
<span class=normal><a href=#__codelineno-0-583>583</a></span>
<span class=normal><a href=#__codelineno-0-584>584</a></span>
<span class=normal><a href=#__codelineno-0-585>585</a></span>
<span class=normal><a href=#__codelineno-0-586>586</a></span>
<span class=normal><a href=#__codelineno-0-587>587</a></span>
<span class=normal><a href=#__codelineno-0-588>588</a></span>
<span class=normal><a href=#__codelineno-0-589>589</a></span>
<span class=normal><a href=#__codelineno-0-590>590</a></span>
<span class=normal><a href=#__codelineno-0-591>591</a></span>
<span class=normal><a href=#__codelineno-0-592>592</a></span>
<span class=normal><a href=#__codelineno-0-593>593</a></span>
<span class=normal><a href=#__codelineno-0-594>594</a></span>
<span class=normal><a href=#__codelineno-0-595>595</a></span>
<span class=normal><a href=#__codelineno-0-596>596</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-527><a id=__codelineno-0-527 name=__codelineno-0-527></a><span class=k>def</span><span class=w> </span><span class=nf>get_supported_garmin_devices</span><span class=p>(</span><span class=n>show_all</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>tuple</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>,</span> <span class=nb>str</span><span class=p>]]:</span>
</span><span id=__span-0-528><a id=__codelineno-0-528 name=__codelineno-0-528></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get list of Garmin devices for picker UI.</span>
</span><span id=__span-0-529><a id=__codelineno-0-529 name=__codelineno-0-529></a>
</span><span id=__span-0-530><a id=__codelineno-0-530 name=__codelineno-0-530></a><span class=sd>    Combines devices from fit_tool&#39;s GarminProduct enum (filtered to cycling/training</span>
</span><span id=__span-0-531><a id=__codelineno-0-531 name=__codelineno-0-531></a><span class=sd>    devices with &quot;EDGE&quot;, &quot;TACX&quot;, or &quot;TRAINING&quot; in their names) with the supplemental</span>
</span><span id=__span-0-532><a id=__codelineno-0-532 name=__codelineno-0-532></a><span class=sd>    device registry containing modern devices with metadata.</span>
</span><span id=__span-0-533><a id=__codelineno-0-533 name=__codelineno-0-533></a>
</span><span id=__span-0-534><a id=__codelineno-0-534 name=__codelineno-0-534></a><span class=sd>    Args:</span>
</span><span id=__span-0-535><a id=__codelineno-0-535 name=__codelineno-0-535></a><span class=sd>        show_all: If False, return only common devices (is_common=True). If True,</span>
</span><span id=__span-0-536><a id=__codelineno-0-536 name=__codelineno-0-536></a><span class=sd>            return all devices. Defaults to False.</span>
</span><span id=__span-0-537><a id=__codelineno-0-537 name=__codelineno-0-537></a>
</span><span id=__span-0-538><a id=__codelineno-0-538 name=__codelineno-0-538></a><span class=sd>    Returns:</span>
</span><span id=__span-0-539><a id=__codelineno-0-539 name=__codelineno-0-539></a><span class=sd>        List of tuples containing (display_name, product_id, description).</span>
</span><span id=__span-0-540><a id=__codelineno-0-540 name=__codelineno-0-540></a><span class=sd>        Sorted by: is_common (desc), year_released (desc), name (asc).</span>
</span><span id=__span-0-541><a id=__codelineno-0-541 name=__codelineno-0-541></a>
</span><span id=__span-0-542><a id=__codelineno-0-542 name=__codelineno-0-542></a><span class=sd>    Examples:</span>
</span><span id=__span-0-543><a id=__codelineno-0-543 name=__codelineno-0-543></a><span class=sd>        &gt;&gt;&gt; # Get common devices only</span>
</span><span id=__span-0-544><a id=__codelineno-0-544 name=__codelineno-0-544></a><span class=sd>        &gt;&gt;&gt; devices = get_supported_garmin_devices(show_all=False)</span>
</span><span id=__span-0-545><a id=__codelineno-0-545 name=__codelineno-0-545></a><span class=sd>        &gt;&gt;&gt; print(devices[0])</span>
</span><span id=__span-0-546><a id=__codelineno-0-546 name=__codelineno-0-546></a><span class=sd>        (&#39;Edge 1050&#39;, 4440, &#39;Latest flagship bike computer - 2024&#39;)</span>
</span><span id=__span-0-547><a id=__codelineno-0-547 name=__codelineno-0-547></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-548><a id=__codelineno-0-548 name=__codelineno-0-548></a><span class=sd>        &gt;&gt;&gt; # Get all devices</span>
</span><span id=__span-0-549><a id=__codelineno-0-549 name=__codelineno-0-549></a><span class=sd>        &gt;&gt;&gt; all_devices = get_supported_garmin_devices(show_all=True)</span>
</span><span id=__span-0-550><a id=__codelineno-0-550 name=__codelineno-0-550></a><span class=sd>        &gt;&gt;&gt; len(all_devices) &gt; len(devices)</span>
</span><span id=__span-0-551><a id=__codelineno-0-551 name=__codelineno-0-551></a><span class=sd>        True</span>
</span><span id=__span-0-552><a id=__codelineno-0-552 name=__codelineno-0-552></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-553><a id=__codelineno-0-553 name=__codelineno-0-553></a>    <span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.vendor.fit_tool.profile.profile_type</span><span class=w> </span><span class=kn>import</span> <span class=n>GarminProduct</span>
</span><span id=__span-0-554><a id=__codelineno-0-554 name=__codelineno-0-554></a>
</span><span id=__span-0-555><a id=__codelineno-0-555 name=__codelineno-0-555></a>    <span class=c1># Step 1: Get devices from fit_tool enum (filtered to cycling/training)</span>
</span><span id=__span-0-556><a id=__codelineno-0-556 name=__codelineno-0-556></a>    <span class=n>fit_tool_devices</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-557><a id=__codelineno-0-557 name=__codelineno-0-557></a>    <span class=k>for</span> <span class=n>attr_name</span> <span class=ow>in</span> <span class=nb>dir</span><span class=p>(</span><span class=n>GarminProduct</span><span class=p>):</span>
</span><span id=__span-0-558><a id=__codelineno-0-558 name=__codelineno-0-558></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>attr_name</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;_&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=n>attr_name</span><span class=o>.</span><span class=n>isupper</span><span class=p>():</span>
</span><span id=__span-0-559><a id=__codelineno-0-559 name=__codelineno-0-559></a>            <span class=k>if</span> <span class=nb>any</span><span class=p>(</span><span class=n>kw</span> <span class=ow>in</span> <span class=n>attr_name</span> <span class=k>for</span> <span class=n>kw</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;EDGE&quot;</span><span class=p>,</span> <span class=s2>&quot;TACX&quot;</span><span class=p>,</span> <span class=s2>&quot;TRAINING&quot;</span><span class=p>]):</span>
</span><span id=__span-0-560><a id=__codelineno-0-560 name=__codelineno-0-560></a>                <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-561><a id=__codelineno-0-561 name=__codelineno-0-561></a>                    <span class=n>value</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>GarminProduct</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>)</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-0-562><a id=__codelineno-0-562 name=__codelineno-0-562></a>                    <span class=c1># Convert enum name to readable format (e.g., EDGE_1030 -&gt; Edge 1030)</span>
</span><span id=__span-0-563><a id=__codelineno-0-563 name=__codelineno-0-563></a>                    <span class=n>display_name</span> <span class=o>=</span> <span class=n>attr_name</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;_&quot;</span><span class=p>,</span> <span class=s2>&quot; &quot;</span><span class=p>)</span><span class=o>.</span><span class=n>title</span><span class=p>()</span>
</span><span id=__span-0-564><a id=__codelineno-0-564 name=__codelineno-0-564></a>                    <span class=n>fit_tool_devices</span><span class=p>[</span><span class=n>value</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=n>display_name</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-565><a id=__codelineno-0-565 name=__codelineno-0-565></a>                <span class=k>except</span> <span class=ne>AttributeError</span><span class=p>:</span>  <span class=c1># pragma: no cover</span>
</span><span id=__span-0-566><a id=__codelineno-0-566 name=__codelineno-0-566></a>                    <span class=k>continue</span>
</span><span id=__span-0-567><a id=__codelineno-0-567 name=__codelineno-0-567></a>
</span><span id=__span-0-568><a id=__codelineno-0-568 name=__codelineno-0-568></a>    <span class=c1># Step 2: Get devices from supplemental registry</span>
</span><span id=__span-0-569><a id=__codelineno-0-569 name=__codelineno-0-569></a>    <span class=n>supplemental_devices</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-570><a id=__codelineno-0-570 name=__codelineno-0-570></a>    <span class=k>for</span> <span class=n>device</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span><span class=p>:</span>
</span><span id=__span-0-571><a id=__codelineno-0-571 name=__codelineno-0-571></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>show_all</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>device</span><span class=o>.</span><span class=n>is_common</span><span class=p>:</span>
</span><span id=__span-0-572><a id=__codelineno-0-572 name=__codelineno-0-572></a>            <span class=k>continue</span>
</span><span id=__span-0-573><a id=__codelineno-0-573 name=__codelineno-0-573></a>        <span class=n>supplemental_devices</span><span class=p>[</span><span class=n>device</span><span class=o>.</span><span class=n>product_id</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-0-574><a id=__codelineno-0-574 name=__codelineno-0-574></a>            <span class=n>device</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
</span><span id=__span-0-575><a id=__codelineno-0-575 name=__codelineno-0-575></a>            <span class=n>device</span><span class=o>.</span><span class=n>product_id</span><span class=p>,</span>
</span><span id=__span-0-576><a id=__codelineno-0-576 name=__codelineno-0-576></a>            <span class=n>device</span><span class=o>.</span><span class=n>description</span><span class=p>,</span>
</span><span id=__span-0-577><a id=__codelineno-0-577 name=__codelineno-0-577></a>        <span class=p>)</span>
</span><span id=__span-0-578><a id=__codelineno-0-578 name=__codelineno-0-578></a>
</span><span id=__span-0-579><a id=__codelineno-0-579 name=__codelineno-0-579></a>    <span class=c1># Step 3: Merge (supplemental overrides fit_tool for duplicate IDs)</span>
</span><span id=__span-0-580><a id=__codelineno-0-580 name=__codelineno-0-580></a>    <span class=n>merged_devices</span> <span class=o>=</span> <span class=p>{</span><span class=o>**</span><span class=n>fit_tool_devices</span><span class=p>,</span> <span class=o>**</span><span class=n>supplemental_devices</span><span class=p>}</span>
</span><span id=__span-0-581><a id=__codelineno-0-581 name=__codelineno-0-581></a>
</span><span id=__span-0-582><a id=__codelineno-0-582 name=__codelineno-0-582></a>    <span class=c1># Step 4: Sort by is_common (desc), year (desc), name (asc)</span>
</span><span id=__span-0-583><a id=__codelineno-0-583 name=__codelineno-0-583></a>    <span class=c1># Create lookup for sorting metadata</span>
</span><span id=__span-0-584><a id=__codelineno-0-584 name=__codelineno-0-584></a>    <span class=n>device_meta</span> <span class=o>=</span> <span class=p>{</span><span class=n>d</span><span class=o>.</span><span class=n>product_id</span><span class=p>:</span> <span class=n>d</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>SUPPLEMENTAL_GARMIN_DEVICES</span><span class=p>}</span>
</span><span id=__span-0-585><a id=__codelineno-0-585 name=__codelineno-0-585></a>
</span><span id=__span-0-586><a id=__codelineno-0-586 name=__codelineno-0-586></a>    <span class=k>def</span><span class=w> </span><span class=nf>sort_key</span><span class=p>(</span><span class=n>item</span><span class=p>):</span>
</span><span id=__span-0-587><a id=__codelineno-0-587 name=__codelineno-0-587></a>        <span class=n>name</span><span class=p>,</span> <span class=n>product_id</span><span class=p>,</span> <span class=n>description</span> <span class=o>=</span> <span class=n>item</span>
</span><span id=__span-0-588><a id=__codelineno-0-588 name=__codelineno-0-588></a>        <span class=n>meta</span> <span class=o>=</span> <span class=n>device_meta</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>product_id</span><span class=p>)</span>
</span><span id=__span-0-589><a id=__codelineno-0-589 name=__codelineno-0-589></a>        <span class=k>if</span> <span class=n>meta</span><span class=p>:</span>
</span><span id=__span-0-590><a id=__codelineno-0-590 name=__codelineno-0-590></a>            <span class=c1># Supplemental device - use metadata</span>
</span><span id=__span-0-591><a id=__codelineno-0-591 name=__codelineno-0-591></a>            <span class=k>return</span> <span class=p>(</span><span class=ow>not</span> <span class=n>meta</span><span class=o>.</span><span class=n>is_common</span><span class=p>,</span> <span class=o>-</span><span class=n>meta</span><span class=o>.</span><span class=n>year_released</span><span class=p>,</span> <span class=n>meta</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span><span id=__span-0-592><a id=__codelineno-0-592 name=__codelineno-0-592></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-593><a id=__codelineno-0-593 name=__codelineno-0-593></a>            <span class=c1># fit_tool device - sort after common devices</span>
</span><span id=__span-0-594><a id=__codelineno-0-594 name=__codelineno-0-594></a>            <span class=k>return</span> <span class=p>(</span><span class=kc>True</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>
</span><span id=__span-0-595><a id=__codelineno-0-595 name=__codelineno-0-595></a>
</span><span id=__span-0-596><a id=__codelineno-0-596 name=__codelineno-0-596></a>    <span class=k>return</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>merged_devices</span><span class=o>.</span><span class=n>values</span><span class=p>(),</span> <span class=n>key</span><span class=o>=</span><span class=n>sort_key</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=fit_file_faker.config.get_tpv_folder class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_tpv_folder</span> <a href=#fit_file_faker.config.get_tpv_folder class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_tpv_folder</span><span class=p>(</span><span class=n>default_path</span><span class=p>:</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Path</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get the TrainingPeaks Virtual base folder path.</p> <p>Auto-detects the TPVirtual directory based on platform, or prompts the user to provide it if auto-detection is not available.</p> <p>Platform-specific default locations:</p> <ul> <li>macOS: <code>~/TPVirtual</code></li> <li>Windows: <code>~/Documents/TPVirtual</code></li> <li>Linux: User is prompted (no auto-detection)</li> </ul> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>default_path</code> </td> <td> <code><span title=pathlib.Path>Path</span> | None</code> </td> <td> <div class=doc-md-description> <p>Optional default path to show in the prompt for Linux users.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=pathlib.Path>Path</span></code> </td> <td> <div class=doc-md-description> <p>Path to the <code>TPVirtual</code> base directory (not the <code>FITFiles</code> subdirectory).</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>The auto-detected path can be overridden by setting the <code>TPV_DATA_PATH</code> environment variable.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># macOS</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>path</span> <span class=o>=</span> <span class=n>get_tpv_folder</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>print</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=go>/Users/me/TPVirtual</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Linux (prompts user)</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>path</span> <span class=o>=</span> <span class=n>get_tpv_folder</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>&quot;/home/me/custom/path&quot;</span><span class=p>))</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=go>Please enter your TrainingPeaks Virtual data folder: /home/me/TPVirtual</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1243>1243</a></span>
<span class=normal><a href=#__codelineno-0-1244>1244</a></span>
<span class=normal><a href=#__codelineno-0-1245>1245</a></span>
<span class=normal><a href=#__codelineno-0-1246>1246</a></span>
<span class=normal><a href=#__codelineno-0-1247>1247</a></span>
<span class=normal><a href=#__codelineno-0-1248>1248</a></span>
<span class=normal><a href=#__codelineno-0-1249>1249</a></span>
<span class=normal><a href=#__codelineno-0-1250>1250</a></span>
<span class=normal><a href=#__codelineno-0-1251>1251</a></span>
<span class=normal><a href=#__codelineno-0-1252>1252</a></span>
<span class=normal><a href=#__codelineno-0-1253>1253</a></span>
<span class=normal><a href=#__codelineno-0-1254>1254</a></span>
<span class=normal><a href=#__codelineno-0-1255>1255</a></span>
<span class=normal><a href=#__codelineno-0-1256>1256</a></span>
<span class=normal><a href=#__codelineno-0-1257>1257</a></span>
<span class=normal><a href=#__codelineno-0-1258>1258</a></span>
<span class=normal><a href=#__codelineno-0-1259>1259</a></span>
<span class=normal><a href=#__codelineno-0-1260>1260</a></span>
<span class=normal><a href=#__codelineno-0-1261>1261</a></span>
<span class=normal><a href=#__codelineno-0-1262>1262</a></span>
<span class=normal><a href=#__codelineno-0-1263>1263</a></span>
<span class=normal><a href=#__codelineno-0-1264>1264</a></span>
<span class=normal><a href=#__codelineno-0-1265>1265</a></span>
<span class=normal><a href=#__codelineno-0-1266>1266</a></span>
<span class=normal><a href=#__codelineno-0-1267>1267</a></span>
<span class=normal><a href=#__codelineno-0-1268>1268</a></span>
<span class=normal><a href=#__codelineno-0-1269>1269</a></span>
<span class=normal><a href=#__codelineno-0-1270>1270</a></span>
<span class=normal><a href=#__codelineno-0-1271>1271</a></span>
<span class=normal><a href=#__codelineno-0-1272>1272</a></span>
<span class=normal><a href=#__codelineno-0-1273>1273</a></span>
<span class=normal><a href=#__codelineno-0-1274>1274</a></span>
<span class=normal><a href=#__codelineno-0-1275>1275</a></span>
<span class=normal><a href=#__codelineno-0-1276>1276</a></span>
<span class=normal><a href=#__codelineno-0-1277>1277</a></span>
<span class=normal><a href=#__codelineno-0-1278>1278</a></span>
<span class=normal><a href=#__codelineno-0-1279>1279</a></span>
<span class=normal><a href=#__codelineno-0-1280>1280</a></span>
<span class=normal><a href=#__codelineno-0-1281>1281</a></span>
<span class=normal><a href=#__codelineno-0-1282>1282</a></span>
<span class=normal><a href=#__codelineno-0-1283>1283</a></span>
<span class=normal><a href=#__codelineno-0-1284>1284</a></span>
<span class=normal><a href=#__codelineno-0-1285>1285</a></span>
<span class=normal><a href=#__codelineno-0-1286>1286</a></span>
<span class=normal><a href=#__codelineno-0-1287>1287</a></span>
<span class=normal><a href=#__codelineno-0-1288>1288</a></span>
<span class=normal><a href=#__codelineno-0-1289>1289</a></span>
<span class=normal><a href=#__codelineno-0-1290>1290</a></span>
<span class=normal><a href=#__codelineno-0-1291>1291</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1243><a id=__codelineno-0-1243 name=__codelineno-0-1243></a><span class=k>def</span><span class=w> </span><span class=nf>get_tpv_folder</span><span class=p>(</span><span class=n>default_path</span><span class=p>:</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Path</span><span class=p>:</span>
</span><span id=__span-0-1244><a id=__codelineno-0-1244 name=__codelineno-0-1244></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the TrainingPeaks Virtual base folder path.</span>
</span><span id=__span-0-1245><a id=__codelineno-0-1245 name=__codelineno-0-1245></a>
</span><span id=__span-0-1246><a id=__codelineno-0-1246 name=__codelineno-0-1246></a><span class=sd>    Auto-detects the TPVirtual directory based on platform, or prompts the</span>
</span><span id=__span-0-1247><a id=__codelineno-0-1247 name=__codelineno-0-1247></a><span class=sd>    user to provide it if auto-detection is not available.</span>
</span><span id=__span-0-1248><a id=__codelineno-0-1248 name=__codelineno-0-1248></a>
</span><span id=__span-0-1249><a id=__codelineno-0-1249 name=__codelineno-0-1249></a><span class=sd>    Platform-specific default locations:</span>
</span><span id=__span-0-1250><a id=__codelineno-0-1250 name=__codelineno-0-1250></a>
</span><span id=__span-0-1251><a id=__codelineno-0-1251 name=__codelineno-0-1251></a><span class=sd>    - macOS: `~/TPVirtual`</span>
</span><span id=__span-0-1252><a id=__codelineno-0-1252 name=__codelineno-0-1252></a><span class=sd>    - Windows: `~/Documents/TPVirtual`</span>
</span><span id=__span-0-1253><a id=__codelineno-0-1253 name=__codelineno-0-1253></a><span class=sd>    - Linux: User is prompted (no auto-detection)</span>
</span><span id=__span-0-1254><a id=__codelineno-0-1254 name=__codelineno-0-1254></a>
</span><span id=__span-0-1255><a id=__codelineno-0-1255 name=__codelineno-0-1255></a><span class=sd>    Args:</span>
</span><span id=__span-0-1256><a id=__codelineno-0-1256 name=__codelineno-0-1256></a><span class=sd>        default_path: Optional default path to show in the prompt for Linux users.</span>
</span><span id=__span-0-1257><a id=__codelineno-0-1257 name=__codelineno-0-1257></a>
</span><span id=__span-0-1258><a id=__codelineno-0-1258 name=__codelineno-0-1258></a><span class=sd>    Returns:</span>
</span><span id=__span-0-1259><a id=__codelineno-0-1259 name=__codelineno-0-1259></a><span class=sd>        Path to the `TPVirtual` base directory (not the `FITFiles` subdirectory).</span>
</span><span id=__span-0-1260><a id=__codelineno-0-1260 name=__codelineno-0-1260></a>
</span><span id=__span-0-1261><a id=__codelineno-0-1261 name=__codelineno-0-1261></a><span class=sd>    Note:</span>
</span><span id=__span-0-1262><a id=__codelineno-0-1262 name=__codelineno-0-1262></a><span class=sd>        The auto-detected path can be overridden by setting the `TPV_DATA_PATH`</span>
</span><span id=__span-0-1263><a id=__codelineno-0-1263 name=__codelineno-0-1263></a><span class=sd>        environment variable.</span>
</span><span id=__span-0-1264><a id=__codelineno-0-1264 name=__codelineno-0-1264></a>
</span><span id=__span-0-1265><a id=__codelineno-0-1265 name=__codelineno-0-1265></a><span class=sd>    Examples:</span>
</span><span id=__span-0-1266><a id=__codelineno-0-1266 name=__codelineno-0-1266></a><span class=sd>        &gt;&gt;&gt; # macOS</span>
</span><span id=__span-0-1267><a id=__codelineno-0-1267 name=__codelineno-0-1267></a><span class=sd>        &gt;&gt;&gt; path = get_tpv_folder(None)</span>
</span><span id=__span-0-1268><a id=__codelineno-0-1268 name=__codelineno-0-1268></a><span class=sd>        &gt;&gt;&gt; print(path)</span>
</span><span id=__span-0-1269><a id=__codelineno-0-1269 name=__codelineno-0-1269></a><span class=sd>        /Users/me/TPVirtual</span>
</span><span id=__span-0-1270><a id=__codelineno-0-1270 name=__codelineno-0-1270></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-1271><a id=__codelineno-0-1271 name=__codelineno-0-1271></a><span class=sd>        &gt;&gt;&gt; # Linux (prompts user)</span>
</span><span id=__span-0-1272><a id=__codelineno-0-1272 name=__codelineno-0-1272></a><span class=sd>        &gt;&gt;&gt; path = get_tpv_folder(Path(&quot;/home/me/custom/path&quot;))</span>
</span><span id=__span-0-1273><a id=__codelineno-0-1273 name=__codelineno-0-1273></a><span class=sd>        Please enter your TrainingPeaks Virtual data folder: /home/me/TPVirtual</span>
</span><span id=__span-0-1274><a id=__codelineno-0-1274 name=__codelineno-0-1274></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1275><a id=__codelineno-0-1275 name=__codelineno-0-1275></a>    <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;TPV_DATA_PATH&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-1276><a id=__codelineno-0-1276 name=__codelineno-0-1276></a>        <span class=n>p</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;TPV_DATA_PATH&quot;</span><span class=p>))</span>
</span><span id=__span-0-1277><a id=__codelineno-0-1277 name=__codelineno-0-1277></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Using TPV_DATA_PATH value read from the environment: &quot;</span><span class=si>{</span><span class=n>p</span><span class=si>}</span><span class=s1>&quot;&#39;</span><span class=p>)</span>
</span><span id=__span-0-1278><a id=__codelineno-0-1278 name=__codelineno-0-1278></a>        <span class=k>return</span> <span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
</span><span id=__span-0-1279><a id=__codelineno-0-1279 name=__codelineno-0-1279></a>    <span class=k>if</span> <span class=n>sys</span><span class=o>.</span><span class=n>platform</span> <span class=o>==</span> <span class=s2>&quot;darwin&quot;</span><span class=p>:</span>
</span><span id=__span-0-1280><a id=__codelineno-0-1280 name=__codelineno-0-1280></a>        <span class=n>TPVPath</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>expanduser</span><span class=p>(</span><span class=s2>&quot;~/TPVirtual&quot;</span><span class=p>)</span>
</span><span id=__span-0-1281><a id=__codelineno-0-1281 name=__codelineno-0-1281></a>    <span class=k>elif</span> <span class=n>sys</span><span class=o>.</span><span class=n>platform</span> <span class=o>==</span> <span class=s2>&quot;win32&quot;</span><span class=p>:</span>
</span><span id=__span-0-1282><a id=__codelineno-0-1282 name=__codelineno-0-1282></a>        <span class=n>TPVPath</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>expanduser</span><span class=p>(</span><span class=s2>&quot;~/Documents/TPVirtual&quot;</span><span class=p>)</span>
</span><span id=__span-0-1283><a id=__codelineno-0-1283 name=__codelineno-0-1283></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1284><a id=__codelineno-0-1284 name=__codelineno-0-1284></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
</span><span id=__span-0-1285><a id=__codelineno-0-1285 name=__codelineno-0-1285></a>            <span class=s2>&quot;TrainingPeaks Virtual user folder can only be automatically detected on Windows and OSX&quot;</span>
</span><span id=__span-0-1286><a id=__codelineno-0-1286 name=__codelineno-0-1286></a>        <span class=p>)</span>
</span><span id=__span-0-1287><a id=__codelineno-0-1287 name=__codelineno-0-1287></a>        <span class=n>TPVPath</span> <span class=o>=</span> <span class=n>questionary</span><span class=o>.</span><span class=n>path</span><span class=p>(</span>
</span><span id=__span-0-1288><a id=__codelineno-0-1288 name=__codelineno-0-1288></a>            <span class=s1>&#39;Please enter your TrainingPeaks Virtual data folder (by default, ends with &quot;TPVirtual&quot;): &#39;</span><span class=p>,</span>
</span><span id=__span-0-1289><a id=__codelineno-0-1289 name=__codelineno-0-1289></a>            <span class=n>default</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>default_path</span><span class=p>)</span> <span class=k>if</span> <span class=n>default_path</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-0-1290><a id=__codelineno-0-1290 name=__codelineno-0-1290></a>        <span class=p>)</span><span class=o>.</span><span class=n>ask</span><span class=p>()</span>
</span><span id=__span-0-1291><a id=__codelineno-0-1291 name=__codelineno-0-1291></a>    <span class=k>return</span> <span class=n>Path</span><span class=p>(</span><span class=n>TPVPath</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=fit_file_faker.config.migrate_legacy_config class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">migrate_legacy_config</span> <a href=#fit_file_faker.config.migrate_legacy_config class=headerlink title="Permanent link">&para;</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>migrate_legacy_config</span><span class=p>(</span><span class=n>old_config</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Config</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Migrate single-profile config to multi-profile format.</p> <p>Detects legacy config structure (v1.2.4 and earlier) and converts to multi-profile format. Creates a "default" profile with existing values and sets it as the default profile.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>old_config</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dictionary containing either legacy single-profile config (keys: garmin_username, garmin_password, fitfiles_path) or new multi-profile config (keys: profiles, default_profile).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Config


  
      dataclass
   (fit_file_faker.config.Config)" href=#fit_file_faker.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>Config object in multi-profile format. If already migrated, returns</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="            Config


  
      dataclass
   (fit_file_faker.config.Config)" href=#fit_file_faker.config.Config>Config</a></code> </td> <td> <div class=doc-md-description> <p>as-is. Otherwise, creates new Config with "default" profile.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>legacy</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>... </span>    <span class=s2>&quot;garmin_username&quot;</span><span class=p>:</span> <span class=s2>&quot;user@example.com&quot;</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>... </span>    <span class=s2>&quot;garmin_password&quot;</span><span class=p>:</span> <span class=s2>&quot;secret&quot;</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>... </span>    <span class=s2>&quot;fitfiles_path&quot;</span><span class=p>:</span> <span class=s2>&quot;/path/to/fitfiles&quot;</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>... </span><span class=p>}</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>config</span> <span class=o>=</span> <span class=n>migrate_legacy_config</span><span class=p>(</span><span class=n>legacy</span><span class=p>)</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>config</span><span class=o>.</span><span class=n>profiles</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>name</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=go>&#39;default&#39;</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=gp>&gt;&gt;&gt; </span><span class=n>config</span><span class=o>.</span><span class=n>default_profile</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=go>&#39;default&#39;</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/config.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-828>828</a></span>
<span class=normal><a href=#__codelineno-0-829>829</a></span>
<span class=normal><a href=#__codelineno-0-830>830</a></span>
<span class=normal><a href=#__codelineno-0-831>831</a></span>
<span class=normal><a href=#__codelineno-0-832>832</a></span>
<span class=normal><a href=#__codelineno-0-833>833</a></span>
<span class=normal><a href=#__codelineno-0-834>834</a></span>
<span class=normal><a href=#__codelineno-0-835>835</a></span>
<span class=normal><a href=#__codelineno-0-836>836</a></span>
<span class=normal><a href=#__codelineno-0-837>837</a></span>
<span class=normal><a href=#__codelineno-0-838>838</a></span>
<span class=normal><a href=#__codelineno-0-839>839</a></span>
<span class=normal><a href=#__codelineno-0-840>840</a></span>
<span class=normal><a href=#__codelineno-0-841>841</a></span>
<span class=normal><a href=#__codelineno-0-842>842</a></span>
<span class=normal><a href=#__codelineno-0-843>843</a></span>
<span class=normal><a href=#__codelineno-0-844>844</a></span>
<span class=normal><a href=#__codelineno-0-845>845</a></span>
<span class=normal><a href=#__codelineno-0-846>846</a></span>
<span class=normal><a href=#__codelineno-0-847>847</a></span>
<span class=normal><a href=#__codelineno-0-848>848</a></span>
<span class=normal><a href=#__codelineno-0-849>849</a></span>
<span class=normal><a href=#__codelineno-0-850>850</a></span>
<span class=normal><a href=#__codelineno-0-851>851</a></span>
<span class=normal><a href=#__codelineno-0-852>852</a></span>
<span class=normal><a href=#__codelineno-0-853>853</a></span>
<span class=normal><a href=#__codelineno-0-854>854</a></span>
<span class=normal><a href=#__codelineno-0-855>855</a></span>
<span class=normal><a href=#__codelineno-0-856>856</a></span>
<span class=normal><a href=#__codelineno-0-857>857</a></span>
<span class=normal><a href=#__codelineno-0-858>858</a></span>
<span class=normal><a href=#__codelineno-0-859>859</a></span>
<span class=normal><a href=#__codelineno-0-860>860</a></span>
<span class=normal><a href=#__codelineno-0-861>861</a></span>
<span class=normal><a href=#__codelineno-0-862>862</a></span>
<span class=normal><a href=#__codelineno-0-863>863</a></span>
<span class=normal><a href=#__codelineno-0-864>864</a></span>
<span class=normal><a href=#__codelineno-0-865>865</a></span>
<span class=normal><a href=#__codelineno-0-866>866</a></span>
<span class=normal><a href=#__codelineno-0-867>867</a></span>
<span class=normal><a href=#__codelineno-0-868>868</a></span>
<span class=normal><a href=#__codelineno-0-869>869</a></span>
<span class=normal><a href=#__codelineno-0-870>870</a></span>
<span class=normal><a href=#__codelineno-0-871>871</a></span>
<span class=normal><a href=#__codelineno-0-872>872</a></span>
<span class=normal><a href=#__codelineno-0-873>873</a></span>
<span class=normal><a href=#__codelineno-0-874>874</a></span>
<span class=normal><a href=#__codelineno-0-875>875</a></span>
<span class=normal><a href=#__codelineno-0-876>876</a></span>
<span class=normal><a href=#__codelineno-0-877>877</a></span>
<span class=normal><a href=#__codelineno-0-878>878</a></span>
<span class=normal><a href=#__codelineno-0-879>879</a></span>
<span class=normal><a href=#__codelineno-0-880>880</a></span>
<span class=normal><a href=#__codelineno-0-881>881</a></span>
<span class=normal><a href=#__codelineno-0-882>882</a></span>
<span class=normal><a href=#__codelineno-0-883>883</a></span>
<span class=normal><a href=#__codelineno-0-884>884</a></span>
<span class=normal><a href=#__codelineno-0-885>885</a></span>
<span class=normal><a href=#__codelineno-0-886>886</a></span>
<span class=normal><a href=#__codelineno-0-887>887</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-828><a id=__codelineno-0-828 name=__codelineno-0-828></a><span class=k>def</span><span class=w> </span><span class=nf>migrate_legacy_config</span><span class=p>(</span><span class=n>old_config</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Config</span><span class=p>:</span>
</span><span id=__span-0-829><a id=__codelineno-0-829 name=__codelineno-0-829></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Migrate single-profile config to multi-profile format.</span>
</span><span id=__span-0-830><a id=__codelineno-0-830 name=__codelineno-0-830></a>
</span><span id=__span-0-831><a id=__codelineno-0-831 name=__codelineno-0-831></a><span class=sd>    Detects legacy config structure (v1.2.4 and earlier) and converts to</span>
</span><span id=__span-0-832><a id=__codelineno-0-832 name=__codelineno-0-832></a><span class=sd>    multi-profile format. Creates a &quot;default&quot; profile with existing values</span>
</span><span id=__span-0-833><a id=__codelineno-0-833 name=__codelineno-0-833></a><span class=sd>    and sets it as the default profile.</span>
</span><span id=__span-0-834><a id=__codelineno-0-834 name=__codelineno-0-834></a>
</span><span id=__span-0-835><a id=__codelineno-0-835 name=__codelineno-0-835></a><span class=sd>    Args:</span>
</span><span id=__span-0-836><a id=__codelineno-0-836 name=__codelineno-0-836></a><span class=sd>        old_config: Dictionary containing either legacy single-profile config</span>
</span><span id=__span-0-837><a id=__codelineno-0-837 name=__codelineno-0-837></a><span class=sd>            (keys: garmin_username, garmin_password, fitfiles_path) or new</span>
</span><span id=__span-0-838><a id=__codelineno-0-838 name=__codelineno-0-838></a><span class=sd>            multi-profile config (keys: profiles, default_profile).</span>
</span><span id=__span-0-839><a id=__codelineno-0-839 name=__codelineno-0-839></a>
</span><span id=__span-0-840><a id=__codelineno-0-840 name=__codelineno-0-840></a><span class=sd>    Returns:</span>
</span><span id=__span-0-841><a id=__codelineno-0-841 name=__codelineno-0-841></a><span class=sd>        Config object in multi-profile format. If already migrated, returns</span>
</span><span id=__span-0-842><a id=__codelineno-0-842 name=__codelineno-0-842></a><span class=sd>        as-is. Otherwise, creates new Config with &quot;default&quot; profile.</span>
</span><span id=__span-0-843><a id=__codelineno-0-843 name=__codelineno-0-843></a>
</span><span id=__span-0-844><a id=__codelineno-0-844 name=__codelineno-0-844></a><span class=sd>    Examples:</span>
</span><span id=__span-0-845><a id=__codelineno-0-845 name=__codelineno-0-845></a><span class=sd>        &gt;&gt;&gt; legacy = {</span>
</span><span id=__span-0-846><a id=__codelineno-0-846 name=__codelineno-0-846></a><span class=sd>        ...     &quot;garmin_username&quot;: &quot;user@example.com&quot;,</span>
</span><span id=__span-0-847><a id=__codelineno-0-847 name=__codelineno-0-847></a><span class=sd>        ...     &quot;garmin_password&quot;: &quot;secret&quot;,</span>
</span><span id=__span-0-848><a id=__codelineno-0-848 name=__codelineno-0-848></a><span class=sd>        ...     &quot;fitfiles_path&quot;: &quot;/path/to/fitfiles&quot;</span>
</span><span id=__span-0-849><a id=__codelineno-0-849 name=__codelineno-0-849></a><span class=sd>        ... }</span>
</span><span id=__span-0-850><a id=__codelineno-0-850 name=__codelineno-0-850></a><span class=sd>        &gt;&gt;&gt; config = migrate_legacy_config(legacy)</span>
</span><span id=__span-0-851><a id=__codelineno-0-851 name=__codelineno-0-851></a><span class=sd>        &gt;&gt;&gt; config.profiles[0].name</span>
</span><span id=__span-0-852><a id=__codelineno-0-852 name=__codelineno-0-852></a><span class=sd>        &#39;default&#39;</span>
</span><span id=__span-0-853><a id=__codelineno-0-853 name=__codelineno-0-853></a><span class=sd>        &gt;&gt;&gt; config.default_profile</span>
</span><span id=__span-0-854><a id=__codelineno-0-854 name=__codelineno-0-854></a><span class=sd>        &#39;default&#39;</span>
</span><span id=__span-0-855><a id=__codelineno-0-855 name=__codelineno-0-855></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-856><a id=__codelineno-0-856 name=__codelineno-0-856></a>    <span class=c1># Check if already migrated (has &#39;profiles&#39; key)</span>
</span><span id=__span-0-857><a id=__codelineno-0-857 name=__codelineno-0-857></a>    <span class=k>if</span> <span class=s2>&quot;profiles&quot;</span> <span class=ow>in</span> <span class=n>old_config</span><span class=p>:</span>
</span><span id=__span-0-858><a id=__codelineno-0-858 name=__codelineno-0-858></a>        <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Config already in multi-profile format&quot;</span><span class=p>)</span>
</span><span id=__span-0-859><a id=__codelineno-0-859 name=__codelineno-0-859></a>        <span class=k>return</span> <span class=n>Config</span><span class=p>(</span><span class=o>**</span><span class=n>old_config</span><span class=p>)</span>
</span><span id=__span-0-860><a id=__codelineno-0-860 name=__codelineno-0-860></a>
</span><span id=__span-0-861><a id=__codelineno-0-861 name=__codelineno-0-861></a>    <span class=c1># Legacy config detected - migrate to multi-profile format</span>
</span><span id=__span-0-862><a id=__codelineno-0-862 name=__codelineno-0-862></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-863><a id=__codelineno-0-863 name=__codelineno-0-863></a>        <span class=s2>&quot;Detected legacy single-profile config, migrating to multi-profile format&quot;</span>
</span><span id=__span-0-864><a id=__codelineno-0-864 name=__codelineno-0-864></a>    <span class=p>)</span>
</span><span id=__span-0-865><a id=__codelineno-0-865 name=__codelineno-0-865></a>
</span><span id=__span-0-866><a id=__codelineno-0-866 name=__codelineno-0-866></a>    <span class=c1># Extract legacy values</span>
</span><span id=__span-0-867><a id=__codelineno-0-867 name=__codelineno-0-867></a>    <span class=n>garmin_username</span> <span class=o>=</span> <span class=n>old_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;garmin_username&quot;</span><span class=p>)</span>
</span><span id=__span-0-868><a id=__codelineno-0-868 name=__codelineno-0-868></a>    <span class=n>garmin_password</span> <span class=o>=</span> <span class=n>old_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;garmin_password&quot;</span><span class=p>)</span>
</span><span id=__span-0-869><a id=__codelineno-0-869 name=__codelineno-0-869></a>    <span class=n>fitfiles_path</span> <span class=o>=</span> <span class=n>old_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;fitfiles_path&quot;</span><span class=p>)</span>
</span><span id=__span-0-870><a id=__codelineno-0-870 name=__codelineno-0-870></a>
</span><span id=__span-0-871><a id=__codelineno-0-871 name=__codelineno-0-871></a>    <span class=c1># Create default profile from legacy values</span>
</span><span id=__span-0-872><a id=__codelineno-0-872 name=__codelineno-0-872></a>    <span class=c1># Default to TP_VIRTUAL as that was the original use case</span>
</span><span id=__span-0-873><a id=__codelineno-0-873 name=__codelineno-0-873></a>    <span class=n>profile</span> <span class=o>=</span> <span class=n>Profile</span><span class=p>(</span>
</span><span id=__span-0-874><a id=__codelineno-0-874 name=__codelineno-0-874></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;default&quot;</span><span class=p>,</span>
</span><span id=__span-0-875><a id=__codelineno-0-875 name=__codelineno-0-875></a>        <span class=n>app_type</span><span class=o>=</span><span class=n>AppType</span><span class=o>.</span><span class=n>TP_VIRTUAL</span><span class=p>,</span>
</span><span id=__span-0-876><a id=__codelineno-0-876 name=__codelineno-0-876></a>        <span class=n>garmin_username</span><span class=o>=</span><span class=n>garmin_username</span> <span class=ow>or</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-0-877><a id=__codelineno-0-877 name=__codelineno-0-877></a>        <span class=n>garmin_password</span><span class=o>=</span><span class=n>garmin_password</span> <span class=ow>or</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-0-878><a id=__codelineno-0-878 name=__codelineno-0-878></a>        <span class=n>fitfiles_path</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=n>fitfiles_path</span><span class=p>)</span> <span class=k>if</span> <span class=n>fitfiles_path</span> <span class=k>else</span> <span class=n>Path</span><span class=o>.</span><span class=n>home</span><span class=p>(),</span>
</span><span id=__span-0-879><a id=__codelineno-0-879 name=__codelineno-0-879></a>    <span class=p>)</span>
</span><span id=__span-0-880><a id=__codelineno-0-880 name=__codelineno-0-880></a>
</span><span id=__span-0-881><a id=__codelineno-0-881 name=__codelineno-0-881></a>    <span class=c1># Create new multi-profile config</span>
</span><span id=__span-0-882><a id=__codelineno-0-882 name=__codelineno-0-882></a>    <span class=n>new_config</span> <span class=o>=</span> <span class=n>Config</span><span class=p>(</span><span class=n>profiles</span><span class=o>=</span><span class=p>[</span><span class=n>profile</span><span class=p>],</span> <span class=n>default_profile</span><span class=o>=</span><span class=s2>&quot;default&quot;</span><span class=p>)</span>
</span><span id=__span-0-883><a id=__codelineno-0-883 name=__codelineno-0-883></a>
</span><span id=__span-0-884><a id=__codelineno-0-884 name=__codelineno-0-884></a>    <span class=n>_logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
</span><span id=__span-0-885><a id=__codelineno-0-885 name=__codelineno-0-885></a>        <span class=s1>&#39;Migration complete. Your existing settings are now in the &quot;default&quot; profile.&#39;</span>
</span><span id=__span-0-886><a id=__codelineno-0-886 name=__codelineno-0-886></a>    <span class=p>)</span>
</span><span id=__span-0-887><a id=__codelineno-0-887 name=__codelineno-0-887></a>    <span class=k>return</span> <span class=n>new_config</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h2 id=utilities-utilspy>Utilities (<code>utils.py</code>)<a class=headerlink href=#utilities-utilspy title="Permanent link">&para;</a></h2> <div class="doc doc-object doc-module"> <h3 id=fit_file_faker.utils class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">utils</span> <a href=#fit_file_faker.utils class=headerlink title="Permanent link">&para;</a></h3> <div class="doc doc-contents first"> <p>Utility functions for Fit File Faker.</p> <p>This module provides utility functions including a monkey patch for fit_tool to handle malformed FIT files from certain manufacturers (e.g., COROS) and a CRC-16 checksum calculation function.</p> <p>The fit_tool patch is automatically applied when the fit_editor module is imported, making it transparent to users of the library.</p> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.utils._lenient_get_length_from_size class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">_lenient_get_length_from_size</span> <a href=#fit_file_faker.utils._lenient_get_length_from_size class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>_lenient_get_length_from_size</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>base_type</span><span class=p>:</span> <span class=n>BaseType</span><span class=p>,</span> <span class=n>size</span><span class=p>:</span> <span class=nb>int</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Lenient field length calculator that truncates instead of raising exceptions.</p> <p>This is a replacement for <code>fit_tool</code>'s <code>Field.get_length_from_size</code> that handles malformed FIT files more gracefully. Some manufacturers (e.g., COROS) create FIT files where field sizes are not exact multiples of their base type size. Instead of failing with an exception, this function truncates to the nearest valid length.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>base_type</code> </td> <td> <code><span title=fit_file_faker.vendor.fit_tool.base_type.BaseType>BaseType</span></code> </td> <td> <div class=doc-md-description> <p>The <code>BaseType</code> of the field (<code>STRING</code>, <code>BYTE</code>, <code>UINT8</code>, etc.).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>size</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>The declared size of the field in bytes.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>length</code></td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>The field length (number of values, not bytes). For <code>STRING</code> and <code>BYTE</code> types, returns 0 for size 0 and 1 otherwise. For other types, returns <code>size // base_type.size</code> (truncated integer division).</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>When truncation occurs (size not a multiple of <code>base_type.size</code>), a debug message is logged. This typically indicates a malformed FIT file but allows processing to continue.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Normal case: 8 bytes for UINT32 (4 bytes each) = length 2</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>_lenient_get_length_from_size</span><span class=p>(</span><span class=n>BaseType</span><span class=o>.</span><span class=n>UINT32</span><span class=p>,</span> <span class=mi>8</span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=go>2</span>
</span></code></pre></div> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Malformed case: 7 bytes for UINT32 = length 1 (truncated)</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>_lenient_get_length_from_size</span><span class=p>(</span><span class=n>BaseType</span><span class=o>.</span><span class=n>UINT32</span><span class=p>,</span> <span class=mi>7</span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=go>1</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/utils.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20></a><span class=k>def</span><span class=w> </span><span class=nf>_lenient_get_length_from_size</span><span class=p>(</span><span class=n>base_type</span><span class=p>:</span> <span class=s2>&quot;BaseType&quot;</span><span class=p>,</span> <span class=n>size</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Lenient field length calculator that truncates instead of raising exceptions.</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22></a>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=sd>    This is a replacement for `fit_tool`&#39;s `Field.get_length_from_size` that handles</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24></a><span class=sd>    malformed FIT files more gracefully. Some manufacturers (e.g., COROS) create</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25></a><span class=sd>    FIT files where field sizes are not exact multiples of their base type size.</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=sd>    Instead of failing with an exception, this function truncates to the nearest</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=sd>    valid length.</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28></a>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29></a><span class=sd>    Args:</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=sd>        base_type: The `BaseType` of the field (`STRING`, `BYTE`, `UINT8`, etc.).</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31></a><span class=sd>        size: The declared size of the field in bytes.</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32></a>
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33></a><span class=sd>    Returns:</span>
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34></a><span class=sd>        length: The field length (number of values, not bytes). For `STRING` and `BYTE`</span>
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=sd>            types, returns 0 for size 0 and 1 otherwise. For other types, returns</span>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=sd>            `size // base_type.size` (truncated integer division).</span>
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37></a>
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>    Note:</span>
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>        When truncation occurs (size not a multiple of `base_type.size`), a debug</span>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=sd>        message is logged. This typically indicates a malformed FIT file but</span>
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=sd>        allows processing to continue.</span>
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42></a>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43></a><span class=sd>    Examples:</span>
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44></a><span class=sd>        &gt;&gt;&gt; # Normal case: 8 bytes for UINT32 (4 bytes each) = length 2</span>
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45></a><span class=sd>        &gt;&gt;&gt; _lenient_get_length_from_size(BaseType.UINT32, 8)</span>
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=sd>        2</span>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47></a>
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48></a><span class=sd>        &gt;&gt;&gt; # Malformed case: 7 bytes for UINT32 = length 1 (truncated)</span>
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49></a><span class=sd>        &gt;&gt;&gt; _lenient_get_length_from_size(BaseType.UINT32, 7)</span>
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50></a><span class=sd>        1</span>
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=k>if</span> <span class=n>base_type</span> <span class=o>==</span> <span class=n>BaseType</span><span class=o>.</span><span class=n>STRING</span> <span class=ow>or</span> <span class=n>base_type</span> <span class=o>==</span> <span class=n>BaseType</span><span class=o>.</span><span class=n>BYTE</span><span class=p>:</span>
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53></a>        <span class=k>return</span> <span class=mi>0</span> <span class=k>if</span> <span class=n>size</span> <span class=o>==</span> <span class=mi>0</span> <span class=k>else</span> <span class=mi>1</span>
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55></a>        <span class=n>length</span> <span class=o>=</span> <span class=n>size</span> <span class=o>//</span> <span class=n>base_type</span><span class=o>.</span><span class=n>size</span>
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>        <span class=k>if</span> <span class=n>length</span> <span class=o>*</span> <span class=n>base_type</span><span class=o>.</span><span class=n>size</span> <span class=o>!=</span> <span class=n>size</span><span class=p>:</span>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58></a>            <span class=n>_logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59></a>                <span class=sa>f</span><span class=s2>&quot;Field size (</span><span class=si>{</span><span class=n>size</span><span class=si>}</span><span class=s2>) not multiple of type size (</span><span class=si>{</span><span class=n>base_type</span><span class=o>.</span><span class=n>size</span><span class=si>}</span><span class=s2>), &quot;</span>
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60></a>                <span class=sa>f</span><span class=s2>&quot;truncating to length </span><span class=si>{</span><span class=n>length</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61></a>            <span class=p>)</span>
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62></a>            <span class=k>return</span> <span class=n>length</span>
</span><span id=__span-0-63><a id=__codelineno-0-63 name=__codelineno-0-63></a>
</span><span id=__span-0-64><a id=__codelineno-0-64 name=__codelineno-0-64></a>        <span class=k>return</span> <span class=n>length</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.utils.apply_fit_tool_patch class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">apply_fit_tool_patch</span> <a href=#fit_file_faker.utils.apply_fit_tool_patch class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>apply_fit_tool_patch</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Apply monkey patch to <code>fit_tool</code> to handle malformed FIT files.</p> <p>Replaces <code>fit_tool</code>'s <code>Field.get_length_from_size</code> method with a more lenient version that truncates field lengths instead of raising exceptions when field sizes aren't exact multiples of their base type size.</p> <p>This patch is essential for processing FIT files from manufacturers like COROS that don't strictly follow the FIT specification. Without it, fit_tool would raise exceptions and refuse to process these files.</p> <p>The patch is automatically applied when the fit_editor module is imported, so users don't need to call this function manually.</p> <details class=note open> <summary>Note</summary> <p>This is a global monkey patch that affects all subsequent <code>fit_tool</code> operations in the same Python process. It's applied once at module import time.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Typically called automatically, but can be invoked manually:</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span><span class=w> </span><span class=nn>fit_file_faker.utils</span><span class=w> </span><span class=kn>import</span> <span class=n>apply_fit_tool_patch</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>apply_fit_tool_patch</span><span class=p>()</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Now fit_tool can handle COROS files without errors</span>
</span></code></pre></div> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/utils.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span>
<span class=normal><a href=#__codelineno-0-85>85</a></span>
<span class=normal><a href=#__codelineno-0-86>86</a></span>
<span class=normal><a href=#__codelineno-0-87>87</a></span>
<span class=normal><a href=#__codelineno-0-88>88</a></span>
<span class=normal><a href=#__codelineno-0-89>89</a></span>
<span class=normal><a href=#__codelineno-0-90>90</a></span>
<span class=normal><a href=#__codelineno-0-91>91</a></span>
<span class=normal><a href=#__codelineno-0-92>92</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a><span class=k>def</span><span class=w> </span><span class=nf>apply_fit_tool_patch</span><span class=p>():</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Apply monkey patch to `fit_tool` to handle malformed FIT files.</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a><span class=sd>    Replaces `fit_tool`&#39;s `Field.get_length_from_size` method with a more lenient</span>
</span><span id=__span-0-71><a id=__codelineno-0-71 name=__codelineno-0-71></a><span class=sd>    version that truncates field lengths instead of raising exceptions when</span>
</span><span id=__span-0-72><a id=__codelineno-0-72 name=__codelineno-0-72></a><span class=sd>    field sizes aren&#39;t exact multiples of their base type size.</span>
</span><span id=__span-0-73><a id=__codelineno-0-73 name=__codelineno-0-73></a>
</span><span id=__span-0-74><a id=__codelineno-0-74 name=__codelineno-0-74></a><span class=sd>    This patch is essential for processing FIT files from manufacturers like</span>
</span><span id=__span-0-75><a id=__codelineno-0-75 name=__codelineno-0-75></a><span class=sd>    COROS that don&#39;t strictly follow the FIT specification. Without it,</span>
</span><span id=__span-0-76><a id=__codelineno-0-76 name=__codelineno-0-76></a><span class=sd>    fit_tool would raise exceptions and refuse to process these files.</span>
</span><span id=__span-0-77><a id=__codelineno-0-77 name=__codelineno-0-77></a>
</span><span id=__span-0-78><a id=__codelineno-0-78 name=__codelineno-0-78></a><span class=sd>    The patch is automatically applied when the fit_editor module is imported,</span>
</span><span id=__span-0-79><a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=sd>    so users don&#39;t need to call this function manually.</span>
</span><span id=__span-0-80><a id=__codelineno-0-80 name=__codelineno-0-80></a>
</span><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=sd>    Note:</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a><span class=sd>        This is a global monkey patch that affects all subsequent `fit_tool`</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a><span class=sd>        operations in the same Python process. It&#39;s applied once at module</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a><span class=sd>        import time.</span>
</span><span id=__span-0-85><a id=__codelineno-0-85 name=__codelineno-0-85></a>
</span><span id=__span-0-86><a id=__codelineno-0-86 name=__codelineno-0-86></a><span class=sd>    Examples:</span>
</span><span id=__span-0-87><a id=__codelineno-0-87 name=__codelineno-0-87></a><span class=sd>        &gt;&gt;&gt; # Typically called automatically, but can be invoked manually:</span>
</span><span id=__span-0-88><a id=__codelineno-0-88 name=__codelineno-0-88></a><span class=sd>        &gt;&gt;&gt; from fit_file_faker.utils import apply_fit_tool_patch</span>
</span><span id=__span-0-89><a id=__codelineno-0-89 name=__codelineno-0-89></a><span class=sd>        &gt;&gt;&gt; apply_fit_tool_patch()</span>
</span><span id=__span-0-90><a id=__codelineno-0-90 name=__codelineno-0-90></a><span class=sd>        &gt;&gt;&gt; # Now fit_tool can handle COROS files without errors</span>
</span><span id=__span-0-91><a id=__codelineno-0-91 name=__codelineno-0-91></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-92><a id=__codelineno-0-92 name=__codelineno-0-92></a>    <span class=n>Field</span><span class=o>.</span><span class=n>get_length_from_size</span> <span class=o>=</span> <span class=nb>staticmethod</span><span class=p>(</span><span class=n>_lenient_get_length_from_size</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=fit_file_faker.utils.fit_crc_get16 class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">fit_crc_get16</span> <a href=#fit_file_faker.utils.fit_crc_get16 class=headerlink title="Permanent link">&para;</a></h4> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>fit_crc_get16</span><span class=p>(</span><span class=n>crc</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>byte</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Calculate FIT file CRC-16 checksum for a single byte.</p> <p>Implements the CRC-16 algorithm used by FIT files. This function processes one byte at a time and should be called repeatedly for each byte in the data to calculate a complete checksum.</p> <p>The algorithm uses a lookup table and processes the byte in two 4-bit nibbles (lower 4 bits first, then upper 4 bits) to compute the CRC.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>crc</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Current CRC value (16-bit unsigned integer). Use 0 for the first byte in the sequence.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>byte</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Byte value to add to the checksum (8-bit unsigned integer, 0-255).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Updated CRC value (16-bit unsigned integer) after processing this byte.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Calculate CRC for a single byte</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>crc</span> <span class=o>=</span> <span class=n>fit_crc_get16</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mh>0x42</span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;CRC: </span><span class=si>{</span><span class=n>crc</span><span class=si>:</span><span class=s2>#06x</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=go>CRC: 0x...</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Calculate CRC for a byte array</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>&gt;&gt;&gt; </span><span class=k>def</span><span class=w> </span><span class=nf>calculate_fit_crc</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=nb>bytes</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=gp>... </span><span class=w>    </span><span class=sd>&#39;&#39;&#39;Calculate CRC-16 for FIT file data.&#39;&#39;&#39;</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=gp>... </span>    <span class=n>crc</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=gp>... </span>    <span class=k>for</span> <span class=n>byte</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=gp>... </span>        <span class=n>crc</span> <span class=o>=</span> <span class=n>fit_crc_get16</span><span class=p>(</span><span class=n>crc</span><span class=p>,</span> <span class=n>byte</span><span class=p>)</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=gp>... </span>    <span class=k>return</span> <span class=n>crc</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=gp>&gt;&gt;&gt; </span><span class=n>data</span> <span class=o>=</span> <span class=sa>b</span><span class=s2>&quot;</span><span class=se>\x0e\x10\x43\x08\x28\x06\x00\x00</span><span class=s2>&quot;</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=gp>&gt;&gt;&gt; </span><span class=n>checksum</span> <span class=o>=</span> <span class=n>calculate_fit_crc</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>This is the standard CRC-16 algorithm used in FIT file headers and data records. It's primarily used for validation but is not currently required by <code>fit_file_faker</code> since <code>fit_tool</code> handles CRC calculation automatically.</p> </details> <details class=mkdocstrings-source> <summary>Source code in <code>fit_file_faker/utils.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a><span class=k>def</span><span class=w> </span><span class=nf>fit_crc_get16</span><span class=p>(</span><span class=n>crc</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>byte</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calculate FIT file CRC-16 checksum for a single byte.</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a><span class=sd>    Implements the CRC-16 algorithm used by FIT files. This function processes</span>
</span><span id=__span-0-99><a id=__codelineno-0-99 name=__codelineno-0-99></a><span class=sd>    one byte at a time and should be called repeatedly for each byte in the</span>
</span><span id=__span-0-100><a id=__codelineno-0-100 name=__codelineno-0-100></a><span class=sd>    data to calculate a complete checksum.</span>
</span><span id=__span-0-101><a id=__codelineno-0-101 name=__codelineno-0-101></a>
</span><span id=__span-0-102><a id=__codelineno-0-102 name=__codelineno-0-102></a><span class=sd>    The algorithm uses a lookup table and processes the byte in two 4-bit</span>
</span><span id=__span-0-103><a id=__codelineno-0-103 name=__codelineno-0-103></a><span class=sd>    nibbles (lower 4 bits first, then upper 4 bits) to compute the CRC.</span>
</span><span id=__span-0-104><a id=__codelineno-0-104 name=__codelineno-0-104></a>
</span><span id=__span-0-105><a id=__codelineno-0-105 name=__codelineno-0-105></a><span class=sd>    Args:</span>
</span><span id=__span-0-106><a id=__codelineno-0-106 name=__codelineno-0-106></a><span class=sd>        crc: Current CRC value (16-bit unsigned integer). Use 0 for the</span>
</span><span id=__span-0-107><a id=__codelineno-0-107 name=__codelineno-0-107></a><span class=sd>            first byte in the sequence.</span>
</span><span id=__span-0-108><a id=__codelineno-0-108 name=__codelineno-0-108></a><span class=sd>        byte: Byte value to add to the checksum (8-bit unsigned integer,</span>
</span><span id=__span-0-109><a id=__codelineno-0-109 name=__codelineno-0-109></a><span class=sd>            0-255).</span>
</span><span id=__span-0-110><a id=__codelineno-0-110 name=__codelineno-0-110></a>
</span><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a><span class=sd>    Returns:</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a><span class=sd>        Updated CRC value (16-bit unsigned integer) after processing this byte.</span>
</span><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a><span class=sd>    Examples:</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a><span class=sd>        &gt;&gt;&gt; # Calculate CRC for a single byte</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a><span class=sd>        &gt;&gt;&gt; crc = fit_crc_get16(0, 0x42)</span>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a><span class=sd>        &gt;&gt;&gt; print(f&quot;CRC: {crc:#06x}&quot;)</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a><span class=sd>        CRC: 0x...</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a><span class=sd>        &gt;&gt;&gt; # Calculate CRC for a byte array</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a><span class=sd>        &gt;&gt;&gt; def calculate_fit_crc(data: bytes) -&gt; int:</span>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a><span class=sd>        ...     &#39;&#39;&#39;Calculate CRC-16 for FIT file data.&#39;&#39;&#39;</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a><span class=sd>        ...     crc = 0</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a><span class=sd>        ...     for byte in data:</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a><span class=sd>        ...         crc = fit_crc_get16(crc, byte)</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a><span class=sd>        ...     return crc</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a><span class=sd>        &gt;&gt;&gt;</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a><span class=sd>        &gt;&gt;&gt; data = b&quot;\\x0e\\x10\\x43\\x08\\x28\\x06\\x00\\x00&quot;</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a><span class=sd>        &gt;&gt;&gt; checksum = calculate_fit_crc(data)</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a><span class=sd>    Note:</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a><span class=sd>        This is the standard CRC-16 algorithm used in FIT file headers</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a><span class=sd>        and data records. It&#39;s primarily used for validation but is not</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a><span class=sd>        currently required by `fit_file_faker` since `fit_tool` handles CRC</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a><span class=sd>        calculation automatically.</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>    <span class=n>crc_table</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>        <span class=mh>0x0000</span><span class=p>,</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>        <span class=mh>0xCC01</span><span class=p>,</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>        <span class=mh>0xD801</span><span class=p>,</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>        <span class=mh>0x1400</span><span class=p>,</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>        <span class=mh>0xF001</span><span class=p>,</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>        <span class=mh>0x3C00</span><span class=p>,</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>        <span class=mh>0x2800</span><span class=p>,</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>        <span class=mh>0xE401</span><span class=p>,</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>        <span class=mh>0xA001</span><span class=p>,</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>        <span class=mh>0x6C00</span><span class=p>,</span>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a>        <span class=mh>0x7800</span><span class=p>,</span>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a>        <span class=mh>0xB401</span><span class=p>,</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a>        <span class=mh>0x5000</span><span class=p>,</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a>        <span class=mh>0x9C01</span><span class=p>,</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a>        <span class=mh>0x8801</span><span class=p>,</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a>        <span class=mh>0x4400</span><span class=p>,</span>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154></a>    <span class=p>]</span>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a>    <span class=c1># Compute checksum of lower four bits of byte</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a>    <span class=n>tmp</span> <span class=o>=</span> <span class=n>crc_table</span><span class=p>[</span><span class=n>crc</span> <span class=o>&amp;</span> <span class=mh>0xF</span><span class=p>]</span>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158></a>    <span class=n>crc</span> <span class=o>=</span> <span class=p>(</span><span class=n>crc</span> <span class=o>&gt;&gt;</span> <span class=mi>4</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0x0FFF</span>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a>    <span class=n>crc</span> <span class=o>=</span> <span class=n>crc</span> <span class=o>^</span> <span class=n>tmp</span> <span class=o>^</span> <span class=n>crc_table</span><span class=p>[</span><span class=n>byte</span> <span class=o>&amp;</span> <span class=mh>0xF</span><span class=p>]</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a>    <span class=c1># Now compute checksum of upper four bits of byte</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>    <span class=n>tmp</span> <span class=o>=</span> <span class=n>crc_table</span><span class=p>[</span><span class=n>crc</span> <span class=o>&amp;</span> <span class=mh>0xF</span><span class=p>]</span>
</span><span id=__span-0-163><a id=__codelineno-0-163 name=__codelineno-0-163></a>    <span class=n>crc</span> <span class=o>=</span> <span class=p>(</span><span class=n>crc</span> <span class=o>&gt;&gt;</span> <span class=mi>4</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0x0FFF</span>
</span><span id=__span-0-164><a id=__codelineno-0-164 name=__codelineno-0-164></a>    <span class=n>crc</span> <span class=o>=</span> <span class=n>crc</span> <span class=o>^</span> <span class=n>tmp</span> <span class=o>^</span> <span class=n>crc_table</span><span class=p>[(</span><span class=n>byte</span> <span class=o>&gt;&gt;</span> <span class=mi>4</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mh>0xF</span><span class=p>]</span>
</span><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>    <span class=k>return</span> <span class=n>crc</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 - 2026 Josh Taillon </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/jat255 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://pypi.org/project/fit-file-faker/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>